>>> from fst import *
>>> from fst.asttypes import *
>>> from fst.fst_put_slice import _code_to_slice_Compare__all_maybe_dangling

>>> self = FST('a < b')

>>> def ct(code, op_side='left', op=None, is_first=False, is_last=False, is_ins=True):
...     f, os_side_left = _code_to_slice_Compare__all_maybe_dangling(self, code, False, dict(op_side=op_side, op=op), is_first, is_last, is_ins)
...     d = f.dump('N', out=str)  # .replace(' \n', ' <*END*\n')
...     print(f'{os_side_left = }')
...     print(d)


........................................................................................................................
left

>>> ct('x', op_side='left', op='==')
os_side_left = True
0: == x
Compare - ROOT 0,0..0,4
0:
  .left Pass - 0,0..0,0
  .ops[1]
0: ==
   0] Eq - 0,0..0,2
  .comparators[1]
0:    x
   0] Name 'x' Load - 0,3..0,4


>>> ct('x', op_side='left', op='not\nin')
os_side_left = True
0: not
1: in x
Compare - ROOT 0,0..1,4
0:
  .left Pass - 0,0..0,0
  .ops[1]
0: not
1: in
   0] NotIn - 0,0..1,2
  .comparators[1]
1:    x
   0] Name 'x' Load - 1,3..1,4


>>> ct('x', op_side='left', op=IsNot)
os_side_left = True
0: is not x
Compare - ROOT 0,0..0,8
0:
  .left Pass - 0,0..0,0
  .ops[1]
0: is not
   0] IsNot - 0,0..0,6
  .comparators[1]
0:        x
   0] Name 'x' Load - 0,7..0,8


>>> ct('x', op_side='left', op=Is())
os_side_left = True
0: is x
Compare - ROOT 0,0..0,4
0:
  .left Pass - 0,0..0,0
  .ops[1]
0: is
   0] Is - 0,0..0,2
  .comparators[1]
0:    x
   0] Name 'x' Load - 0,3..0,4


>>> ct('x', op_side='left', op=FST('!='))
os_side_left = True
0: != x
Compare - ROOT 0,0..0,4
0:
  .left Pass - 0,0..0,0
  .ops[1]
0: !=
   0] NotEq - 0,0..0,2
  .comparators[1]
0:    x
   0] Name 'x' Load - 0,3..0,4


>>> ct('x', op_side='left', op=FST('# pre\n is # is\n not # not\n# post'))
os_side_left = True
0: # pre
1:  is # is
2:  not # not
3: # post
4: x
Compare - ROOT 0,0..4,1
1:  <*END*
  .left Pass - 1,1..1,1
  .ops[1]
1:  is # is
2:  not
   0] IsNot - 1,1..2,4
  .comparators[1]
4: x
   0] Name 'x' Load - 4,0..4,1


........................................................................................................................
right

>>> ct('x', op_side='right', op='==')
os_side_left = False
0: x ==
Compare - ROOT 0,0..0,4
0: x
  .left Name 'x' Load - 0,0..0,1
  .ops[1]
0:   ==
   0] Eq - 0,2..0,4
  .comparators[1]
0:     <*END*
   0] Pass - 0,4..0,4


>>> ct('x', op_side='right', op='not\nin')
os_side_left = False
0: x not
1: in
Compare - ROOT 0,0..1,2
0: x
  .left Name 'x' Load - 0,0..0,1
  .ops[1]
0:   not
1: in
   0] NotIn - 0,2..1,2
  .comparators[1]
1:   <*END*
   0] Pass - 1,2..1,2


>>> ct('x', op_side='right', op=IsNot)
os_side_left = False
0: x is not
Compare - ROOT 0,0..0,8
0: x
  .left Name 'x' Load - 0,0..0,1
  .ops[1]
0:   is not
   0] IsNot - 0,2..0,8
  .comparators[1]
0:         <*END*
   0] Pass - 0,8..0,8


>>> ct('x', op_side='right', op=Is())
os_side_left = False
0: x is
Compare - ROOT 0,0..0,4
0: x
  .left Name 'x' Load - 0,0..0,1
  .ops[1]
0:   is
   0] Is - 0,2..0,4
  .comparators[1]
0:     <*END*
   0] Pass - 0,4..0,4


>>> ct('x', op_side='right', op=FST('!='))
os_side_left = False
0: x !=
Compare - ROOT 0,0..0,4
0: x
  .left Name 'x' Load - 0,0..0,1
  .ops[1]
0:   !=
   0] NotEq - 0,2..0,4
  .comparators[1]
0:     <*END*
   0] Pass - 0,4..0,4


>>> ct('x', op_side='right', op=FST('# pre\n is # is\n not # not\n# post'))
os_side_left = False
0: x # pre
1:  is # is
2:  not # not
3: # post
Compare - ROOT 0,0..3,6
0: x
  .left Name 'x' Load - 0,0..0,1
  .ops[1]
1:  is # is
2:  not
   0] IsNot - 1,1..2,4
  .comparators[1]
2: ---> # not
   0] Pass - 2,4..2,4


........................................................................................................................
other

>>> ct('== x', op_side='left')
os_side_left = True
0: == x
Compare - ROOT 0,0..0,4
0:
  .left Pass - 0,0..0,0
  .ops[1]
0: ==
   0] Eq - 0,0..0,2
  .comparators[1]
0:    x
   0] Name 'x' Load - 0,3..0,4


>>> ct('== x', op_side='right')
os_side_left = True
0: == x
Compare - ROOT 0,0..0,4
0:
  .left Pass - 0,0..0,0
  .ops[1]
0: ==
   0] Eq - 0,0..0,2
  .comparators[1]
0:    x
   0] Name 'x' Load - 0,3..0,4


>>> ct('x ==', op_side='left')
os_side_left = False
0: x ==
Compare - ROOT 0,0..0,4
0: x
  .left Name 'x' Load - 0,0..0,1
  .ops[1]
0:   ==
   0] Eq - 0,2..0,4
  .comparators[1]
0:     <*END*
   0] Pass - 0,4..0,4


>>> ct('x ==', op_side='right')
os_side_left = False
0: x ==
Compare - ROOT 0,0..0,4
0: x
  .left Name 'x' Load - 0,0..0,1
  .ops[1]
0:   ==
   0] Eq - 0,2..0,4
  .comparators[1]
0:     <*END*
   0] Pass - 0,4..0,4



>>> ct('# comment\n \\\n == x', op_side='left')
os_side_left = True
0: # comment
1:  \
2:  == x
Compare - ROOT 0,0..2,5
2:  <*END*
  .left Pass - 2,1..2,1
  .ops[1]
2:  ==
   0] Eq - 2,1..2,3
  .comparators[1]
2:     x
   0] Name 'x' Load - 2,4..2,5


>>> ct('x # comment\n \\\n ==', op_side='right')
os_side_left = False
0: x # comment
1:  \
2:  ==
Compare - ROOT 0,0..2,3
0: x
  .left Name 'x' Load - 0,0..0,1
  .ops[1]
2:  ==
   0] Eq - 2,1..2,3
  .comparators[1]
2:    <*END*
   0] Pass - 2,3..2,3



>>> ct('\n# comment\n \\\n == # line\n x # line\n \\\n', op_side='left')
os_side_left = True
0:
1: # comment
2:  \
3:  == # line
4:  x # line
5:  \
6:
Compare - ROOT 0,0..6,0
3:  <*END*
  .left Pass - 3,1..3,1
  .ops[1]
3:  ==
   0] Eq - 3,1..3,3
  .comparators[1]
4:  x
   0] Name 'x' Load - 4,1..4,2


>>> ct('\n# comment\n \\\n x # comment\n \\\n == # line\n \\\n', op_side='right')
os_side_left = False
0:
1: # comment
2:  \
3:  x # comment
4:  \
5:  == # line
6:  \
7:
Compare - ROOT 0,0..7,0
3:  x
  .left Name 'x' Load - 3,1..3,2
  .ops[1]
5:  ==
   0] Eq - 5,1..5,3
  .comparators[1]
5: --> # line
   0] Pass - 5,3..5,3



>>> ct('\n# comment\n \\\n  # line\n x # line\n \\\n', op_side='left', op='\n not # not \n in \\\n# end')
os_side_left = True
0 :
1 : # comment
2 :  \
3 :   # line
4 :  <*END*
5 :  not # not <*END*
6 :  in \
7 : # end
8 : x # line
9 :  \
10:
Compare - ROOT 0,0..10,0
5 :  <*END*
  .left Pass - 5,1..5,1
  .ops[1]
5 :  not # not <*END*
6 :  in
   0] NotIn - 5,1..6,3
  .comparators[1]
8 : x
   0] Name 'x' Load - 8,0..8,1


>>> ct('\n# comment\n \\\n x # comment\n \\\n  # line\n \\\n', op_side='right', op='\n not # not \n in \\\n# end')
os_side_left = False
0 :
1 : # comment
2 :  \
3 :  x
4 :  not # not <*END*
5 :  in \
6 : # end # comment
7 :  \
8 :   # line
9 :  \
10:
Compare - ROOT 0,0..10,0
3 :  x
  .left Name 'x' Load - 3,1..3,2
  .ops[1]
4 :  not # not <*END*
5 :  in
   0] NotIn - 4,1..5,3
  .comparators[1]
5 : --> \
   0] Pass - 5,3..5,3
