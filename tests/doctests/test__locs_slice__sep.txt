>>> from fst.common import fstloc
>>> from fst.slice_exprlike import _locs_slice

>>> LINES = lambda src: src.split('\n')


>>> _locs_slice(LINES("""
... [  GET,  ]
... """.strip()), True, True, (l := fstloc(0, 3, 0, 6)), l, 0, 1, 0, 9, (False, False))
(fstloc(0, 3, 0, 7), fstloc(0, 1, 0, 9), None, (0, 7))


>>> _locs_slice(LINES("""
... [PRE, GET, POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 0, 15, (False, False))
(fstloc(0, 6, 0, 10), fstloc(0, 6, 0, 11), None, (0, 10))


>>> _locs_slice(LINES("""
... [PRE, GET,
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 1, 5, (False, False))
(fstloc(0, 6, 0, 10), fstloc(0, 5, 0, 10), None, (0, 10))

>>> _locs_slice(LINES("""
... [PRE, GET,  # trivia
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 1, 5, (False, False))
(fstloc(0, 6, 0, 10), fstloc(0, 6, 0, 12), None, (0, 10))

>>> _locs_slice(LINES("""
... [PRE, GET,  # trivia
...  ]
... """.strip()), False, True, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 1, 1, (False, False))
(fstloc(0, 6, 0, 10), fstloc(0, 6, 0, 12), None, (0, 10))

>>> _locs_slice(LINES("""
... [PRE, GET,
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 2, 5, (False, False))
(fstloc(0, 6, 0, 10), fstloc(0, 5, 0, 10), None, (0, 10))

>>> _locs_slice(LINES("""
... [PRE, GET,
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 2, 5, (False, 'none+1'))
(fstloc(0, 6, 2, 0), fstloc(0, 5, 1, 0), None, (0, 10))

>>> _locs_slice(LINES("""
... [PRE, GET,  # trivia
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 2, 5, (False, 'line'))
(fstloc(0, 6, 1, 0), fstloc(0, 5, 0, 20), None, (0, 10))

>>> _locs_slice(LINES("""
... [PRE, GET,  # trivia
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 2, 5, (False, 'line+1'))
(fstloc(0, 6, 2, 0), fstloc(0, 5, 1, 0), None, (0, 10))

>>> _locs_slice(LINES("""
... [PRE, GET,
...  # trivia
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 3, 5, (False, 'line'))
(fstloc(0, 6, 0, 10), fstloc(0, 5, 0, 10), None, (0, 10))

>>> _locs_slice(LINES("""
... [PRE, GET,
...  # trivia
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 3, 5, (False, 'line+1'))
(fstloc(0, 6, 0, 10), fstloc(0, 5, 0, 10), None, (0, 10))

>>> _locs_slice(LINES("""
... [PRE, GET,
...  # trivia
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 3, 5, (False, 'block'))
(fstloc(0, 6, 2, 0), fstloc(0, 5, 1, 9), None, (0, 10))

>>> _locs_slice(LINES("""
... [PRE, GET,
...  # trivia
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 3, 5, (False, 'block+1'))
(fstloc(0, 6, 3, 0), fstloc(0, 5, 2, 0), None, (0, 10))


>>> _locs_slice(LINES(r"""
... [PRE, GET, \
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 1, 5, (False, False))
(fstloc(0, 6, 0, 10), fstloc(0, 5, 0, 10), None, (0, 10))

>>> _locs_slice(LINES(r"""
... [PRE, GET, \
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 2, 5, (False, False))
(fstloc(0, 6, 0, 10), fstloc(0, 5, 0, 10), None, (0, 10))

>>> _locs_slice(LINES(r"""
... [PRE, GET, \
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 2, 5, (False, 'none+1'))
(fstloc(0, 6, 2, 0), fstloc(0, 5, 1, 0), None, (0, 10))

>>> _locs_slice(LINES(r"""
... [PRE, GET, \
...  \
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 2, 5, (False, 'none+1'))
(fstloc(0, 6, 2, 0), fstloc(0, 5, 1, 2), None, (0, 10))

>>> _locs_slice(LINES(r"""
... [PRE, GET, \
...  # trivia
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 3, 5, (False, 'line'))
(fstloc(0, 6, 0, 10), fstloc(0, 5, 0, 10), None, (0, 10))

>>> _locs_slice(LINES(r"""
... [PRE, GET, \
...  # trivia
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 3, 5, (False, 'line+1'))
(fstloc(0, 6, 0, 10), fstloc(0, 5, 0, 10), None, (0, 10))

>>> _locs_slice(LINES(r"""
... [PRE, GET, \
...  # trivia
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 3, 5, (False, 'block'))
(fstloc(0, 6, 2, 0), fstloc(0, 5, 1, 9), None, (0, 10))

>>> _locs_slice(LINES(r"""
... [PRE, GET, \
...  # trivia
...  \
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 3, 5, (False, 'block'))
(fstloc(0, 6, 2, 0), fstloc(0, 5, 1, 9), None, (0, 10))

>>> _locs_slice(LINES(r"""
... [PRE, GET, \
...  # trivia
...
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 3, 5, (False, 'block+1'))
(fstloc(0, 6, 3, 0), fstloc(0, 5, 2, 0), None, (0, 10))

>>> _locs_slice(LINES(r"""
... [PRE, GET, \
...  # trivia
...  \
...  POST]
... """.strip()), False, False, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 3, 5, (False, 'block+1'))
(fstloc(0, 6, 3, 0), fstloc(0, 5, 2, 2), None, (0, 10))


>>> _locs_slice(LINES("""
... [PRE, GET]
... """.strip()), False, True, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 0, 9, (False, 'block+1'))
(fstloc(0, 6, 0, 9), fstloc(0, 5, 0, 9), None, None)

>>> _locs_slice(LINES("""
... [PRE, GET,]
... """.strip()), False, True, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 0, 10, (False, 'block+1'))
(fstloc(0, 6, 0, 10), fstloc(0, 5, 0, 10), None, (0, 10))

>>> _locs_slice(LINES("""
... [PRE, GET, ]
... """.strip()), False, True, (l := fstloc(0, 6, 0, 9)), l, 0, 1, 0, 11, (False, 'block+1'))
(fstloc(0, 6, 0, 10), fstloc(0, 5, 0, 11), None, (0, 10))


>>> _locs_slice(LINES("""
... [PRE,
...  GET, POST]
... """.strip()), False, False, (l := fstloc(1, 1, 1, 4)), l, 0, 1, 1, 10, (False, False))
(fstloc(1, 1, 1, 5), fstloc(1, 0, 1, 6), ' ', (1, 5))

>>> _locs_slice(LINES("""
... [PRE,
...  GET]
... """.strip()), False, False, (l := fstloc(1, 1, 1, 4)), l, 0, 1, 1, 4, (False, False))
(fstloc(1, 1, 1, 4), fstloc(1, 0, 1, 4), ' ', None)

>>> _locs_slice(LINES("""
... [PRE,
...  GET,]
... """.strip()), False, False, (l := fstloc(1, 1, 1, 4)), l, 0, 1, 1, 5, (False, False))
(fstloc(1, 1, 1, 5), fstloc(1, 0, 1, 5), ' ', (1, 5))

>>> _locs_slice(LINES("""
... [PRE,
...  GET, ]
... """.strip()), False, False, (l := fstloc(1, 1, 1, 4)), l, 0, 1, 1, 6, (False, False))
(fstloc(1, 1, 1, 5), fstloc(1, 0, 1, 6), ' ', (1, 5))


>>> _locs_slice(LINES("""
... [PRE,
...  # trivia
...  GET, POST]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 2, 10, (False, False))
(fstloc(2, 1, 2, 5), fstloc(2, 0, 2, 6), ' ', (2, 5))

>>> _locs_slice(LINES("""
... [PRE,
...  # trivia
...  GET]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 2, 4, (False, False))
(fstloc(2, 1, 2, 4), fstloc(2, 0, 2, 4), ' ', None)

>>> _locs_slice(LINES("""
... [PRE,
...  # trivia
...  GET,]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 2, 5, (False, False))
(fstloc(2, 1, 2, 5), fstloc(2, 0, 2, 5), ' ', (2, 5))

>>> _locs_slice(LINES("""
... [PRE,
...  # trivia
...  GET, ]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 2, 6, (False, False))
(fstloc(2, 1, 2, 5), fstloc(2, 0, 2, 6), ' ', (2, 5))

>>> _locs_slice(LINES("""
... [PRE,
...  # trivia
...  GET, POST]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 2, 10, ('block', False))
(fstloc(0, 5, 2, 5), fstloc(1, 0, 2, 6), ' ', (2, 5))

>>> _locs_slice(LINES("""
... [PRE,
...  # trivia
...  GET]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 2, 4, ('block', False))
(fstloc(0, 5, 2, 4), fstloc(1, 0, 2, 4), ' ', None)

>>> _locs_slice(LINES("""
... [PRE,
...  # trivia
...  GET,]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 2, 5, ('block', False))
(fstloc(0, 5, 2, 5), fstloc(1, 0, 2, 5), ' ', (2, 5))

>>> _locs_slice(LINES("""
... [PRE,
...  # trivia
...  GET, ]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 2, 6, ('block', False))
(fstloc(0, 5, 2, 5), fstloc(1, 0, 2, 6), ' ', (2, 5))


>>> _locs_slice(LINES("""
... [PRE,
...  # pre
...  GET, # line
...  # post
...  POST]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 4, 5, (False, 'line'))
(fstloc(1, 6, 3, 0), fstloc(2, 0, 3, 0), ' ', (2, 5))

>>> _locs_slice(LINES("""
... [PRE,
...  # pre
...  GET, # line
...  # post
...  POST]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 4, 5, (False, 'block'))
(fstloc(1, 6, 4, 0), fstloc(2, 0, 4, 0), ' ', (2, 5))

>>> _locs_slice(LINES("""
... [PRE,
...  # pre
...  GET, # line
...  # post
...  POST]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 4, 5, ('block', 'line'))
(fstloc(0, 5, 3, 0), fstloc(1, 0, 3, 0), ' ', (2, 5))

>>> _locs_slice(LINES("""
... [PRE,
...  # pre
...  GET, # line
...  # post
...  POST]
... """.strip()), False, False, (l := fstloc(2, 1, 2, 4)), l, 0, 1, 4, 5, ('block', 'block'))
(fstloc(0, 5, 4, 0), fstloc(1, 0, 4, 0), ' ', (2, 5))


>>> _locs_slice(LINES(r"""
... GET, \
... POST
... """.strip()), True, False, (l := fstloc(0, 0, 0, 3)), l, 0, 0, 1, 4, (False, False))
(fstloc(0, 0, 1, 0), fstloc(0, 0, 1, 0), '', (0, 4))

>>> _locs_slice(LINES(r"""
... [GET,
... POST]
... """.strip()), True, False, (l := fstloc(0, 1, 0, 4)), l, 0, 1, 1, 4, (False, False))
(fstloc(0, 1, 0, 5), fstloc(0, 1, 0, 5), None, (0, 5))

>>> _locs_slice(LINES(r"""
... [GET, # trivia
... POST]
... """.strip()), True, False, (l := fstloc(0, 1, 0, 4)), l, 0, 1, 1, 4, (False, 'line'))
(fstloc(0, 1, 1, 0), fstloc(0, 1, 0, 14), None, (0, 5))


>>> _locs_slice(LINES("""
... [PRE, FIRST,
...  LAST,
...  POST]
... """.strip()), False, False, fstloc(0, 6, 0, 11), fstloc(1, 1, 1, 5), 0, 4, 2, 5, (False, False))
(fstloc(0, 6, 2, 0), fstloc(0, 5, 1, 6), None, (1, 6))

>>> _locs_slice(LINES("""
... [PRE,
...  FIRST,
...  LAST, POST]
... """.strip()), False, False, fstloc(1, 1, 1, 6), fstloc(2, 1, 2, 5), 0, 4, 2, 11, (False, False))
(fstloc(0, 5, 2, 6), fstloc(1, 0, 2, 7), ' ', (2, 6))
