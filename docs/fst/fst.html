<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.1"/>
    <title>fst.fst API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../fst.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;fst</a>





            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="function" href="#parse">parse</a>
            </li>
            <li>
                    <a class="function" href="#unparse">unparse</a>
            </li>
            <li>
                    <a class="function" href="#dump">dump</a>
            </li>
            <li>
                    <a class="function" href="#castf">castf</a>
            </li>
            <li>
                    <a class="function" href="#gastf">gastf</a>
            </li>
            <li>
                    <a class="class" href="#FST">FST</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#FST.__init__">FST</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.a">a</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.parent">parent</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.pfield">pfield</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.parse_params">parse_params</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.indent">indent</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_FST">is_FST</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_alive">is_alive</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_root">is_root</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.base">base</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.lines">lines</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.src">src</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.loc">loc</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bloc">bloc</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.ln">ln</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.col">col</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.end_ln">end_ln</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.end_col">end_col</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bln">bln</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bcol">bcol</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bend_ln">bend_ln</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bend_col">bend_col</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.lineno">lineno</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.col_offset">col_offset</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.end_lineno">end_lineno</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.end_col_offset">end_col_offset</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.whole_loc">whole_loc</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.has_own_loc">has_own_loc</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.has_docstr">has_docstr</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.fromsrc">fromsrc</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.fromast">fromast</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get_options">get_options</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get_option">get_option</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.set_options">set_options</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.options">options</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.as_">as_</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.reparse">reparse</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.verify">verify</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.dump">dump</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.mark">mark</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.reconcile">reconcile</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.__getitem__">__getitem__</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.__setitem__">__setitem__</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.__delitem__">__delitem__</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.own_lines">own_lines</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.own_src">own_src</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.ast_src">ast_src</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.copy_ast">copy_ast</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.copy">copy</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.cut">cut</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.replace">replace</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.remove">remove</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.insert">insert</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.append">append</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.extend">extend</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.prepend">prepend</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.prextend">prextend</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get">get</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.put">put</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get_slice">get_slice</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.put_slice">put_slice</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get_src">get_src</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.put_src">put_src</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get_docstr">get_docstr</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.put_docstr">put_docstr</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get_line_comment">get_line_comment</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.put_line_comment">put_line_comment</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.pars">pars</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.par">par</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.unpar">unpar</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.scope_symbols">scope_symbols</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.walk">walk</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.next">next</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.prev">prev</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.first_child">first_child</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.last_child">last_child</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.last_header_child">last_header_child</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.next_child">next_child</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.prev_child">prev_child</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.step_fwd">step_fwd</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.step_back">step_back</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parents">parents</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_stmt">parent_stmt</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_stmtlike">parent_stmtlike</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_block">parent_block</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_scope">parent_scope</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_named_scope">parent_named_scope</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_non_expr">parent_non_expr</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_pattern">parent_pattern</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_ftstr">parent_ftstr</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.child_path">child_path</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.child_from_path">child_from_path</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.repath">repath</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.match">match</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.search">search</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.sub">sub</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.subn">subn</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.find_def">find_def</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.find_loc">find_loc</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.find_contains_loc">find_contains_loc</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.find_in_loc">find_in_loc</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_parenthesizable">is_parenthesizable</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_parenthesized_tuple">is_parenthesized_tuple</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_delimited_matchseq">is_delimited_matchseq</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_empty_arguments">is_empty_arguments</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_except_star">is_except_star</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_elif">is_elif</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_mod">is_mod</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_stmt">is_stmt</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_expr">is_expr</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_expr_context">is_expr_context</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_boolop">is_boolop</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_operator">is_operator</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_unaryop">is_unaryop</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_cmpop">is_cmpop</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_excepthandler">is_excepthandler</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_pattern">is_pattern</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_type_ignore">is_type_ignore</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_type_param">is_type_param</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_stmt_or_mod">is_stmt_or_mod</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_stmtlike">is_stmtlike</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_stmtlike_or_mod">is_stmtlike_or_mod</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_block">is_block</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_block_or_mod">is_block_or_mod</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_scope">is_scope</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_scope_or_mod">is_scope_or_mod</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_named_scope">is_named_scope</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_named_scope_or_mod">is_named_scope_or_mod</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_anon_scope">is_anon_scope</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_funcdef">is_funcdef</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_def">is_def</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_def_or_mod">is_def_or_mod</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_for">is_for</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_with">is_with</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_try">is_try</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_import">is_import</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_ftstr">is_ftstr</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_ftstr_fmt">is_ftstr_fmt</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is__slice">is__slice</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Module">is_Module</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Interactive">is_Interactive</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Expression">is_Expression</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_FunctionType">is_FunctionType</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_FunctionDef">is_FunctionDef</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_AsyncFunctionDef">is_AsyncFunctionDef</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_ClassDef">is_ClassDef</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Return">is_Return</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Delete">is_Delete</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Assign">is_Assign</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_TypeAlias">is_TypeAlias</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_AugAssign">is_AugAssign</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_AnnAssign">is_AnnAssign</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_For">is_For</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_AsyncFor">is_AsyncFor</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_While">is_While</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_If">is_If</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_With">is_With</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_AsyncWith">is_AsyncWith</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Match">is_Match</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Raise">is_Raise</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Try">is_Try</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_TryStar">is_TryStar</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Assert">is_Assert</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Import">is_Import</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_ImportFrom">is_ImportFrom</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Global">is_Global</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Nonlocal">is_Nonlocal</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Expr">is_Expr</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Pass">is_Pass</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Break">is_Break</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Continue">is_Continue</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_BoolOp">is_BoolOp</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_NamedExpr">is_NamedExpr</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_BinOp">is_BinOp</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_UnaryOp">is_UnaryOp</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Lambda">is_Lambda</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_IfExp">is_IfExp</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Dict">is_Dict</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Set">is_Set</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_ListComp">is_ListComp</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_SetComp">is_SetComp</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_DictComp">is_DictComp</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_GeneratorExp">is_GeneratorExp</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Await">is_Await</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Yield">is_Yield</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_YieldFrom">is_YieldFrom</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Compare">is_Compare</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Call">is_Call</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_FormattedValue">is_FormattedValue</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Interpolation">is_Interpolation</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_JoinedStr">is_JoinedStr</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_TemplateStr">is_TemplateStr</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Constant">is_Constant</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Attribute">is_Attribute</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Subscript">is_Subscript</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Starred">is_Starred</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Name">is_Name</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_List">is_List</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Tuple">is_Tuple</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Slice">is_Slice</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Load">is_Load</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Store">is_Store</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Del">is_Del</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_And">is_And</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Or">is_Or</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Add">is_Add</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Sub">is_Sub</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Mult">is_Mult</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_MatMult">is_MatMult</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Div">is_Div</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Mod">is_Mod</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Pow">is_Pow</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_LShift">is_LShift</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_RShift">is_RShift</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_BitOr">is_BitOr</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_BitXor">is_BitXor</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_BitAnd">is_BitAnd</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_FloorDiv">is_FloorDiv</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Invert">is_Invert</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Not">is_Not</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_UAdd">is_UAdd</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_USub">is_USub</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Eq">is_Eq</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_NotEq">is_NotEq</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Lt">is_Lt</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_LtE">is_LtE</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Gt">is_Gt</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_GtE">is_GtE</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_Is">is_Is</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_IsNot">is_IsNot</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_In">is_In</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_NotIn">is_NotIn</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_comprehension">is_comprehension</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_ExceptHandler">is_ExceptHandler</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_arguments">is_arguments</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_arg">is_arg</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_keyword">is_keyword</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_alias">is_alias</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_withitem">is_withitem</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_match_case">is_match_case</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_MatchValue">is_MatchValue</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_MatchSingleton">is_MatchSingleton</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_MatchSequence">is_MatchSequence</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_MatchMapping">is_MatchMapping</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_MatchClass">is_MatchClass</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_MatchStar">is_MatchStar</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_MatchAs">is_MatchAs</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_MatchOr">is_MatchOr</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_TypeIgnore">is_TypeIgnore</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_TypeVar">is_TypeVar</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_ParamSpec">is_ParamSpec</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_TypeVarTuple">is_TypeVarTuple</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is__ExceptHandlers">is__ExceptHandlers</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is__match_cases">is__match_cases</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is__Assign_targets">is__Assign_targets</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is__decorator_list">is__decorator_list</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is__arglikes">is__arglikes</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is__comprehensions">is__comprehensions</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is__comprehension_ifs">is__comprehension_ifs</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is__aliases">is__aliases</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is__withitems">is__withitems</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is__type_params">is__type_params</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST._all">_all</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST._body">_body</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST._args">_args</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST._bases">_bases</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.body">body</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.type_ignores">type_ignores</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.argtypes">argtypes</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.returns">returns</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.decorator_list">decorator_list</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.type_params">type_params</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.args">args</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.type_comment">type_comment</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bases">bases</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.keywords">keywords</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.value">value</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.targets">targets</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.target">target</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.op">op</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.annotation">annotation</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.simple">simple</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.iter">iter</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.orelse">orelse</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.test">test</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.items">items</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.subject">subject</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.cases">cases</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.exc">exc</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.cause">cause</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.handlers">handlers</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.finalbody">finalbody</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.msg">msg</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.names">names</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.module">module</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.level">level</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.values">values</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.left">left</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.right">right</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.operand">operand</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.keys">keys</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.elts">elts</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.elt">elt</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.generators">generators</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.key">key</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.ops">ops</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.comparators">comparators</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.func">func</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.conversion">conversion</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.format_spec">format_spec</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.str">str</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.kind">kind</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.attr">attr</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.ctx">ctx</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.slice">slice</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.id">id</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.lower">lower</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.upper">upper</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.step">step</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.ifs">ifs</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_async">is_async</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.type">type</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.posonlyargs">posonlyargs</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.defaults">defaults</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.vararg">vararg</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.kwonlyargs">kwonlyargs</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.kw_defaults">kw_defaults</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.kwarg">kwarg</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.arg">arg</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.asname">asname</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.context_expr">context_expr</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.optional_vars">optional_vars</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.pattern">pattern</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.guard">guard</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.patterns">patterns</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.rest">rest</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.cls">cls</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.kwd_attrs">kwd_attrs</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.kwd_patterns">kwd_patterns</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.tag">tag</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bound">bound</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.default_value">default_value</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.arglikes">arglikes</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../fst.html">fst</a><wbr>.fst    </h1>

                        <div class="docstring"><p>Main FST module. Contains the <code><a href="#FST">FST</a></code> class as well as drop-in replacement <code><a href="#parse">parse()</a></code> and <code><a href="#unparse">unparse()</a></code> functions for
their respective <code>ast</code> module counterparts.</p>
</div>

                
                
                
            </section>
                <section id="parse">
                    <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">source</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span>,</span><span class="param">	<span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&lt;unknown&gt;&#39;</span>,</span><span class="param">	<span class="n">mode</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;exec&#39;</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">type_comments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">feature_version</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#parse"></a>
    
            <div class="docstring"><p>Executes <code>ast.parse()</code> and then adds <code><a href="#FST">FST</a></code> nodes to the parsed tree. Drop-in replacement for <code>ast.parse()</code>. For
parameters, see <code>ast.parse()</code>. Returned <code>AST</code> tree has added <code>.f</code> attribute at each node which accesses the parallel
<code><a href="#FST">FST</a></code> tree.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>source</code>: The python source to parse.</li>
<li><code>filename</code>: <code>ast.parse()</code> parameter.</li>
<li><code>mode</code>: Parse mode. Either one of the normal <code>ast</code> module parse modes <code>'exec'</code>, <code>'eval'</code> or <code>'single'</code>, or an
extended <code><a href="../fst.html">fst</a></code> parse mode parameter which allows parsing things the <code>ast</code> module cannot, See <code><a href="parsex.html#Mode">fst.parsex.Mode</a></code>.</li>
<li><code>type_comments</code>: <code>ast.parse()</code> parameter.</li>
<li><code>feature_version</code>: <code>ast.parse()</code> parameter.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>AST</code>: Tree with an <code><a href="#FST">FST</a></code> <code>.f</code> attribute added to each <code>AST</code> node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">ast</span><span class="o">,</span><span class="w"> </span><span class="nn">fst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n"><a href="#parse">fst.parse</a></span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">  i = 2&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;class &#39;ast.Module&#39;&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">f</span>  <span class="c1"># FST node</span>
<span class="go">&lt;Module ROOT 0,0..1,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n"><a href="#dump">fst.dump</a></span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">Module(</span>
<span class="go">  body=[</span>
<span class="go">    If(</span>
<span class="go">      test=Constant(value=1),</span>
<span class="go">      body=[</span>
<span class="go">        Assign(</span>
<span class="go">          targets=[</span>
<span class="go">            Name(id=&#39;i&#39;, ctx=Store())],</span>
<span class="go">          value=Constant(value=2))],</span>
<span class="go">      orelse=[])],</span>
<span class="go">  type_ignores=[])</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">()</span>
<span class="go">Module - ROOT 0,0..1,7</span>
<span class="go">  .body[1]</span>
<span class="go">   0] If - 0,0..1,7</span>
<span class="go">     .test Constant 1 - 0,3..0,4</span>
<span class="go">     .body[1]</span>
<span class="go">      0] Assign - 1,2..1,7</span>
<span class="go">        .targets[1]</span>
<span class="go">         0] Name &#39;i&#39; Store - 1,2..1,3</span>
<span class="go">        .value Constant 2 - 1,6..1,7</span>
</code></pre>
</div>
</div>


                </section>
                <section id="unparse">
                    <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">unparse</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ast_obj</span><span class="p">:</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#unparse"></a>
    
            <div class="docstring"><p>Returns the formatted source that is kept for this tree. Drop-in replacement for <code>ast.unparse()</code> If there is no
<code><a href="#FST">FST</a></code> information in the <code>AST</code> tree then just executes <code>ast.unparse()</code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>ast_obj</code>: The <code>AST</code> to unparse.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>str</code>: The unparsed source code, formatted if it came from <code><a href="#FST">FST</a></code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">ast</span><span class="o">,</span><span class="w"> </span><span class="nn">fst</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n"><a href="#parse">fst.parse</a></span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">if 1: i = 1  # same line</span>
<span class="gp">... </span><span class="s1">else:</span>
<span class="gp">... </span><span class="s1">  j=2 # comment</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">unparse</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">if 1:</span>
<span class="go">    i = 1</span>
<span class="go">else:</span>
<span class="go">    j = 2</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n"><a href="#unparse">fst.unparse</a></span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">if 1: i = 1  # same line</span>
<span class="go">else:</span>
<span class="go">  j=2 # comment</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;i = 1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ast</span><span class="o">.</span><span class="n">unparse</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&#39;i = 1&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n"><a href="#unparse">fst.unparse</a></span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># also unparses regular AST</span>
<span class="go">&#39;i = 1&#39;</span>
</code></pre>
</div>
</div>


                </section>
                <section id="dump">
                    <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">dump</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">node</span><span class="p">:</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span>,</span><span class="param">	<span class="n">annotate_fields</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">include_attributes</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">show_empty</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#dump"></a>
    
            <div class="docstring"><p>This is a convenience function and only exists to make python version 3.13 and above <code>ast.dump()</code> output
compatible on a default call with previous python versions (important for doctests). All arguments correspond to
their respective <code>ast.dump()</code> arguments and <code>show_empty</code> is eaten on python versions below 3.13.</p>
</div>


                </section>
                <section id="castf">
                    <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">castf</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ast</span><span class="p">:</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#castf"></a>
    
            <div class="docstring"><p>Cast AST F, type-safe way to access <code>ast.f</code> when you know it exists. Intentionally fail with <code>AttributeError</code> if
<code>ast</code> does not have <code>.f</code>.</p>

<p><strong>Example:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n"><a href="#parse">fst.parse</a></span><span class="p">(</span><span class="s1">&#39;module&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">&lt;class &#39;ast.Module&#39;&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">castf</span><span class="p">(</span><span class="n">a</span><span class="p">)))</span>
<span class="go">&lt;class &#39;<a href="#FST">fst.fst.FST</a>&#39;&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">castf</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="ow">is</span> <span class="n">a</span><span class="o">.</span><span class="n">f</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">a</span><span class="o">.</span><span class="n">f</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">castf</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;Module&#39; object has no attribute &#39;f&#39;</span>
</code></pre>
</div>
</div>


                </section>
                <section id="gastf">
                    <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">gastf</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ast</span><span class="p">:</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#gastf"></a>
    
            <div class="docstring"><p>Get AST F, type-safe way to get <code>ast.f</code> when it may or may not exist. Returns <code>None</code> if <code>ast</code> does not have an
<code>.f</code>.</p>

<p><strong>Example:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n"><a href="#parse">fst.parse</a></span><span class="p">(</span><span class="s1">&#39;module&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">&lt;class &#39;ast.Module&#39;&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">gastf</span><span class="p">(</span><span class="n">a</span><span class="p">)))</span>
<span class="go">&lt;class &#39;<a href="#FST">fst.fst.FST</a>&#39;&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">gastf</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="ow">is</span> <span class="n">a</span><span class="o">.</span><span class="n">f</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">a</span><span class="o">.</span><span class="n">f</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">gastf</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">None</span>
</code></pre>
</div>
</div>


                </section>
                <section id="FST">
                    <div class="attr class">
            
    <span class="def">class</span>
    <span class="name">FST</span>:

        
    </div>
    <a class="headerlink" href="#FST"></a>
    
            <div class="docstring"><p>Class which maintains structure and formatted source code for an <code>AST</code> tree. An instance of this class is added
to each <code>AST</code> node in a tree. It provides format-preserving operations as well as ability to navigate the tree in
any direction.</p>
</div>


                            <div id="FST.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">FST</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">src_or_ast_or_fst</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="n">mode</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;strict&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;stmts&#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandler&#39;</span><span class="p">,</span> <span class="s1">&#39;_ExceptHandlers&#39;</span><span class="p">,</span> <span class="s1">&#39;match_case&#39;</span><span class="p">,</span> <span class="s1">&#39;_match_cases&#39;</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_all&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_arglike&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_slice&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuple_elt&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuple&#39;</span><span class="p">,</span> <span class="s1">&#39;_Assign_targets&#39;</span><span class="p">,</span> <span class="s1">&#39;_decorator_list&#39;</span><span class="p">,</span> <span class="s1">&#39;_arglike&#39;</span><span class="p">,</span> <span class="s1">&#39;_arglikes&#39;</span><span class="p">,</span> <span class="s1">&#39;boolop&#39;</span><span class="p">,</span> <span class="s1">&#39;operator&#39;</span><span class="p">,</span> <span class="s1">&#39;unaryop&#39;</span><span class="p">,</span> <span class="s1">&#39;cmpop&#39;</span><span class="p">,</span> <span class="s1">&#39;comprehension&#39;</span><span class="p">,</span> <span class="s1">&#39;_comprehensions&#39;</span><span class="p">,</span> <span class="s1">&#39;_comprehension_ifs&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments_lambda&#39;</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">,</span> <span class="s1">&#39;_aliases&#39;</span><span class="p">,</span> <span class="s1">&#39;Import_name&#39;</span><span class="p">,</span> <span class="s1">&#39;_Import_names&#39;</span><span class="p">,</span> <span class="s1">&#39;ImportFrom_name&#39;</span><span class="p">,</span> <span class="s1">&#39;_ImportFrom_names&#39;</span><span class="p">,</span> <span class="s1">&#39;withitem&#39;</span><span class="p">,</span> <span class="s1">&#39;_withitems&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="s1">&#39;type_param&#39;</span><span class="p">,</span> <span class="s1">&#39;_type_params&#39;</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">pfield</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="common.html#astfield">fst.common.astfield</a></span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">/</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#FST.__init__"></a>
    
            <div class="docstring"><p>Create a new individual <code><a href="#FST">FST</a></code> node or full tree. The main way to use this constructor is as a shortcut for
<code><a href="#FST.fromsrc">FST.fromsrc()</a></code>, <code><a href="#FST.fromast">FST.fromast()</a></code> or <code><a href="#FST.as_">FST.as_()</a></code>, the usage is:</p>

<p><strong><code>FST(src_or_ast_or_fst, mode=None)</code></strong></p>

<p>This will create an <code><a href="#FST">FST</a></code> from either an <code>AST</code> or source code in the form of a string or list of lines, or it
will attempt to coerce an existing <code><a href="#FST">FST</a></code> to the type you want specified by <code>mode</code>.</p>

<p><strong>WARNING!</strong> In normal usage, you should always leave <code><a href="#FST.pfield">pfield</a></code> at its default as anything else will select other
modes of opertation for this constructor.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>src_or_ast_or_fst</code>: Source code or an <code>AST</code> or <code><a href="#FST">FST</a></code> node.</li>
<li><code>mode</code>: See <code><a href="parsex.html#Mode">fst.parsex.Mode</a></code>. Has the following meanings when the <code>src_or_ast_or_fst</code> parameter is:
<ul>
<li><code><a href="#FST.src">src</a></code>: If <code>mode</code> is <code>None</code> then we will try to guess what the source is and parse it accordingly. If
specified then will attempt to parse this type and if fails then the exception will propagate. If
guessing then it may take more than one attempt so it is always better to specify what you expect to get
if you know it.</li>
<li><code>AST</code>: If <code>mode</code> is <code>None</code> then defaults to the type of the <code>AST</code>, which will always succeed in generating
valid source unless the <code>AST</code> itself is in an invalid state (like an empty <code>Set</code>). Anything else you
pass here will be passed on as the <code>mode</code> to <code><a href="#FST.fromast">fromast()</a></code>. In which case if the <code>AST</code> is this then the
<code><a href="#FST">FST</a></code> tree is just build for it and otherwise coercion will be attempted to this type.</li>
<li><code><a href="#FST">FST</a></code>: <code>mode</code> should be specified and will be the type of node you want to coerce the <code><a href="#FST">FST</a></code> you pass in
to. If you leave it at the default <code>None</code> then you will just get either the same <code><a href="#FST">FST</a></code> or a copy of it,
depending on the <code><a href="#FST.copy">copy</a></code> kwarg.</li>
</ul></li>
<li><code>kwargs</code>: <code><a href="#FST.options">options</a></code> if coercing from another <code><a href="#FST">FST</a></code> or extra parameters, mostly for internal use documented
below. One extra parameter relevant to this use case is:
<ul>
<li><code><a href="#FST.copy">copy</a></code>: If coercing from another <code><a href="#FST">FST</a></code>, this parameter is what will be passed to <code><a href="#FST.as_">as_()</a></code>. It defaults to
<code>True</code> here so that <code>FST(other_FST)</code> works in the same way as <code>list(other_list)</code>, meaning it doesn't
alter the source object, which is the opposite of what the default for the <code><a href="#FST.as_">as_()</a></code> function is.</li>
</ul></li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): call()</span><span class="se">\n</span><span class="s1">def g(): pass&#39;</span><span class="p">)</span>
<span class="go">&lt;Module ROOT 0,0..1,13&gt;</span>
</code></pre>
</div>

<p>Minimal node representation is created by default, so <code>stmt</code> instead of <code>mod</code> if possible and <code>expr</code> instead of
<code>stmt</code>.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): call()&#39;</span><span class="p">)</span>
<span class="go">&lt;FunctionDef ROOT 0,0..0,15&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call()&#39;</span><span class="p">)</span>
<span class="go">&lt;Call ROOT 0,0..0,6&gt;</span>
</code></pre>
</div>

<p>You can force a module.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call()&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="go">&lt;Module ROOT 0,0..0,6&gt;</span>
</code></pre>
</div>

<p>Can parse things not normally parsable.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;start:stop:step&#39;</span><span class="p">)</span>
<span class="go">&lt;Slice ROOT 0,0..0,15&gt;</span>
</code></pre>
</div>

<p><code><a href="#FST">FST</a></code> guesses what you want in this case but doesn't always get it right.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;start:stop&#39;</span><span class="p">)</span>
<span class="go">&lt;AnnAssign ROOT 0,0..0,10&gt;</span>
</code></pre>
</div>

<p>So you can tell it. This is also usually faster to parse than if <code><a href="../fst.html">fst</a></code> has to guess and try parsing something
that it is not before finding out what it is, so if this is important to you then always pass the type you
expect to get when you can.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;start:stop&#39;</span><span class="p">,</span> <span class="s1">&#39;Slice&#39;</span><span class="p">)</span>
<span class="go">&lt;Slice ROOT 0,0..0,10&gt;</span>
</code></pre>
</div>

<p>You can tell it to only parse things which are top-level parsable by <code>ast.parse()</code>.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;start:stop:step&#39;</span><span class="p">,</span> <span class="s1">&#39;strict&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">exc</span><span class="p">))</span>
<span class="go">invalid syntax (&lt;FST&gt;, line 1)</span>
</code></pre>
</div>

<p>You can also pass an <code>AST</code> and the source will be generated from it.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">Slice</span><span class="p">(</span><span class="n">Constant</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">Constant</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">Constant</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="go">&lt;Slice ROOT 0,0..0,5&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">_</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">1:2:3</span>
</code></pre>
</div>

<p>Coercion is straightforward.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;expr&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">(&lt;Name ROOT 0,0..0,4&gt;, &#39;expr&#39;)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">src</span>
<span class="go">(&lt;Expr ROOT 0,0..0,4&gt;, &#39;expr&#39;)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;Name&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">,</span> <span class="n">g</span> <span class="ow">is</span> <span class="n">f</span>
<span class="go">(&lt;Name ROOT 0,0..0,4&gt;, &#39;expr&#39;, False)</span>
</code></pre>
</div>

<p>Turn off <code><a href="#FST.copy">copy</a></code> to return the same node if it is the type you are requesting.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;Name&#39;</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">,</span> <span class="n">g</span> <span class="ow">is</span> <span class="n">f</span>
<span class="go">(&lt;Name ROOT 0,0..0,4&gt;, &#39;expr&#39;, True)</span>
</code></pre>
</div>

<p>But still coerces if is not.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">,</span> <span class="n">g</span> <span class="ow">is</span> <span class="n">f</span>
<span class="go">(&lt;arg ROOT 0,0..0,4&gt;, &#39;expr&#39;, False)</span>
</code></pre>
</div>

<p>Same <code><a href="#FST.options">options</a></code> apply as to all other operations.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[]&#39;</span><span class="p">),</span> <span class="s1">&#39;Set&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># will give invalid empty Set node</span>
<span class="go">&#39;{}&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[]&#39;</span><span class="p">),</span> <span class="s1">&#39;Set&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;{*()}&#39;</span>
</code></pre>
</div>

<p>The other forms of this function are meant for internal use, their parameters are below for reference just in
case:</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>src_or_ast_or_fst</code>: <code>AST</code> node for <code><a href="#FST">FST</a></code> or source code in the form of a <code><a href="#FST.str">str</a></code> or a list of lines. If an <code>AST</code> then
will be processed differently depending on if creating child node, top level node or using this as a
shortcut for a full <code><a href="#FST.fromsrc">fromsrc()</a></code> or <code><a href="#FST.fromast">fromast()</a></code>. If left as empty default then just creates a new empty
<code>Module</code>.</li>
<li><code>mode</code>: Is really <code>mode_or_lines_or_parent</code>. Parent node for this child node or lines for a root node creating
a new tree. If <code><a href="#FST.pfield">pfield</a></code> is <code>False</code> then this is a shortcut to create a full tree from an <code>AST</code> node or
source provided in <code>src_or_ast_or_fst</code>.</li>
<li><code><a href="#FST.pfield">pfield</a></code>: <code><a href="common.html#astfield">fst.common.astfield</a></code> indication position in parent of this node. If provided then creating a simple
child node and it is created with the <code>self.parent</code> set to <code>mode</code> node and <code>self.pfield</code> set to this. If
<code>None</code> then it means the creation of a full new <code><a href="#FST">FST</a></code> tree and this is the root node with <code>mode</code> providing
the source. If <code>False</code> then this is a shortcut for <code><a href="#FST.fromsrc">FST.fromsrc()</a></code> or <code><a href="#FST.fromast">FST.fromast()</a></code>.</li>
<li><code>kwargs</code>: Contextual parameters:
<ul>
<li><code>from_</code>: If this is provided then it must be an <code><a href="#FST">FST</a></code> node from which this node is being created. This
allows to copy parse parameters and already determined default indentation. Does not have to be root.</li>
<li><code><a href="#FST.parse_params">parse_params</a></code>: A <code>dict</code> with values for <code>filename</code>, <code>type_comments</code> and <code>feature_version</code> which will be
used for any <code>AST</code> reparse done on this tree. Only valid when creating a root node.</li>
<li><code><a href="#FST.indent">indent</a></code>: Indentation string to use as default indentation. If not provided and not gotten from <code>from_</code>
then indentation will be inferred from source. Only valid when creating a root node.</li>
<li><code>filename</code>, <code>type_comments</code> and <code>feature_version</code>: If creating from an <code>AST</code> or source only then these are
the parameteres passed to the respective <code>.fromsrc()</code> or <code>.fromast()</code> functions. Only valid when
<code><a href="#FST.pfield">pfield</a></code> is <code>False</code>, meaning a shortcut use of <code><a href="#FST">FST()</a></code>.</li>
<li><code>lcopy</code>: Whether to copy lines of source on root node create or just use what is passed in, which in this
case must be a list of <code>fst.astutil.bistr</code> and this node takes ownership of the list.</li>
<li><code>tmake</code>: Whether to do <code>_make_fst_tree()</code> on <code>self</code> or not. Turning this off can be used to create a root
node for a specific existing <code><a href="#FST">FST</a></code> tree. Useful for optimizing some operations.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="FST.a" class="classattr">
                                <div class="attr variable">
            <span class="name">a</span><span class="annotation">: ast.AST | None</span>

        
    </div>
    <a class="headerlink" href="#FST.a"></a>
    
            <div class="docstring"><p>The actual <code>AST</code> node. Will be set to <code>None</code> for <code><a href="#FST">FST</a></code> nodes which were deleted or otherwise invalidated so can be checked for that to see if the <code><a href="#FST">FST</a></code> is still alive (while walking and modifying for example).</p>
</div>


                            </div>
                            <div id="FST.parent" class="classattr">
                                <div class="attr variable">
            <span class="name">parent</span><span class="annotation">: <a href="#FST">FST</a> | None</span>

        
    </div>
    <a class="headerlink" href="#FST.parent"></a>
    
            <div class="docstring"><p>Parent <code><a href="#FST">FST</a></code> node, <code>None</code> in root node.</p>
</div>


                            </div>
                            <div id="FST.pfield" class="classattr">
                                <div class="attr variable">
            <span class="name">pfield</span><span class="annotation">: <a href="common.html#astfield">fst.common.astfield</a> | None</span>

        
    </div>
    <a class="headerlink" href="#FST.pfield"></a>
    
            <div class="docstring"><p>The <code><a href="common.html#astfield">fst.common.astfield</a></code> location of this node in the parent, <code>None</code> in root node.</p>
</div>


                            </div>
                            <div id="FST.parse_params" class="classattr">
                                <div class="attr variable">
            <span class="name">parse_params</span><span class="annotation">: Mapping[str, Any]</span>

        
    </div>
    <a class="headerlink" href="#FST.parse_params"></a>
    
            <div class="docstring"><p>The parameters to use for any <code>ast.parse()</code> (filename, type_comments, feature_version). Exists mostly for passing filename and future-proofing.</p>
</div>


                            </div>
                            <div id="FST.indent" class="classattr">
                                <div class="attr variable">
            <span class="name">indent</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#FST.indent"></a>
    
            <div class="docstring"><p>The default single level block indentation string for this tree when not available from context.</p>
</div>


                            </div>
                            <div id="FST.is_FST" class="classattr">
                                <div class="attr variable">
            <span class="name">is_FST</span><span class="annotation">: bool</span>        =
<span class="default_value">True</span>

        
    </div>
    <a class="headerlink" href="#FST.is_FST"></a>
    
            <div class="docstring"><p>Allows to quickly differentiate between actual <code><a href="#FST">FST</a></code> nodes vs. views or locations.</p>
</div>


                            </div>
                            <div id="FST.is_alive" class="classattr">
                                <div class="attr variable">
            <span class="name">is_alive</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_alive"></a>
    
            <div class="docstring"><p><code>True</code> if the node is part of a tree, <code>False</code> if has been replaced or removed.</p>
</div>


                            </div>
                            <div id="FST.is_root" class="classattr">
                                <div class="attr variable">
            <span class="name">is_root</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_root"></a>
    
            <div class="docstring"><p><code>True</code> for the root node, <code>False</code> otherwise.</p>
</div>


                            </div>
                            <div id="FST.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span><span class="annotation">: <a href="#FST">FST</a></span>

        
    </div>
    <a class="headerlink" href="#FST.root"></a>
    
            <div class="docstring"><p>Root node of the tree this node belongs to.</p>
</div>


                            </div>
                            <div id="FST.base" class="classattr">
                                <div class="attr variable">
            <span class="name">base</span><span class="annotation">: <a href="#FST">FST</a></span>

        
    </div>
    <a class="headerlink" href="#FST.base"></a>
    
            <div class="docstring"><p>This exists for more convenient interoperability with <code>FSTView</code>. Here it just always returns <code>self</code>.</p>
</div>


                            </div>
                            <div id="FST.lines" class="classattr">
                                <div class="attr variable">
            <span class="name">lines</span><span class="annotation">: list[str]</span>

        
    </div>
    <a class="headerlink" href="#FST.lines"></a>
    
            <div class="docstring"><p>Whole lines of this node from the <strong>RAW SOURCE</strong>, without any dedentation, may also contain parts of
enclosing nodes. Will have indentation as it appears in the top level source if multiple lines. If gotten at
root then the entire source is returned, which may extend beyond the location of the top-level node (mostly for
statements which may have leading / trailing comments or empty lines).</p>

<p>A valid list of strings is always returned, even for nodes which can never have source like <code>Load</code>, etc... The
lines list returned is always a copy so safe to modify.</p>

<p><strong>WARNING!</strong> You get just the text that is there so you will get unparsable source if you get for example a
string <code>Constant</code> from the <code><a href="#FST.values">values</a></code> field of a <code>JoinedStr</code>, or a <code><a href="#FST.format_spec">format_spec</a></code>.</p>
</div>


                            </div>
                            <div id="FST.src" class="classattr">
                                <div class="attr variable">
            <span class="name">src</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#FST.src"></a>
    
            <div class="docstring"><p>Source code of this node from the <strong>RAW SOURCE</strong> clipped out as a single string, without any dedentation.
Will have indentation as it appears in the top level source if multiple lines. If gotten at root then the entire
source is returned, regardless of whether the actual top level node location includes it or not.</p>

<p>A string is always returned, even for nodes which can never have source like <code>Load</code>, etc...</p>

<p><strong>WARNING!</strong> You get just the text that is there so you will get unparsable source if you get for example a
string <code>Constant</code> from the <code><a href="#FST.values">values</a></code> field of a <code>JoinedStr</code>, or a <code><a href="#FST.format_spec">format_spec</a></code>.</p>
</div>


                            </div>
                            <div id="FST.loc" class="classattr">
                                <div class="attr variable">
            <span class="name">loc</span><span class="annotation">: <a href="common.html#fstloc">fst.common.fstloc</a> | None</span>

        
    </div>
    <a class="headerlink" href="#FST.loc"></a>
    
            <div class="docstring"><p>Zero based character indexed location of node (may not be entire location if node has decorators). Not all
nodes have locations (like <code>expr_context</code>). Other nodes which normally don't have locations like <code>arguments</code> or
most operators have this location calculated from their children or source.</p>
</div>


                            </div>
                            <div id="FST.bloc" class="classattr">
                                <div class="attr variable">
            <span class="name">bloc</span><span class="annotation">: <a href="common.html#fstloc">fst.common.fstloc</a> | None</span>

        
    </div>
    <a class="headerlink" href="#FST.bloc"></a>
    
            <div class="docstring"><p>Bounding location of node. For non-statements or non-block statements is same as <code><a href="#FST.loc">loc</a></code>. For block statements
will include any leading decorators and a trailing line comment on the last child (or self if no children).</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">@decorator</span>
<span class="gp">... </span><span class="s1">def func():</span>
<span class="gp">... </span><span class="s1">    pass  # comment</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">bloc</span>
<span class="go">fstloc(0, 0, 2, 19)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">loc</span>
<span class="go">fstloc(1, 0, 2, 8)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;stmt  # comment&#39;</span><span class="p">)</span>
</code></pre>
</div>

<p>Non-block statement doesn't include line comment.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">bloc</span>
<span class="go">fstloc(0, 0, 0, 4)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.ln" class="classattr">
                                <div class="attr variable">
            <span class="name">ln</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.ln"></a>
    
            <div class="docstring"><p>Line number of the first line of this node (0 based).</p>
</div>


                            </div>
                            <div id="FST.col" class="classattr">
                                <div class="attr variable">
            <span class="name">col</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.col"></a>
    
            <div class="docstring"><p>CHARACTER index of the start of this node (0 based).</p>
</div>


                            </div>
                            <div id="FST.end_ln" class="classattr">
                                <div class="attr variable">
            <span class="name">end_ln</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.end_ln"></a>
    
            <div class="docstring"><p>Line number of the LAST LINE of this node (0 based).</p>
</div>


                            </div>
                            <div id="FST.end_col" class="classattr">
                                <div class="attr variable">
            <span class="name">end_col</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.end_col"></a>
    
            <div class="docstring"><p>CHARACTER index one past the end of this node (0 based).</p>
</div>


                            </div>
                            <div id="FST.bln" class="classattr">
                                <div class="attr variable">
            <span class="name">bln</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.bln"></a>
    
            <div class="docstring"><p>Line number of the first line of this node or the first decorator if present (0 based).</p>
</div>


                            </div>
                            <div id="FST.bcol" class="classattr">
                                <div class="attr variable">
            <span class="name">bcol</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.bcol"></a>
    
            <div class="docstring"><p>CHARACTER column of this node or the first decorator if present (0 based).</p>
</div>


                            </div>
                            <div id="FST.bend_ln" class="classattr">
                                <div class="attr variable">
            <span class="name">bend_ln</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.bend_ln"></a>
    
            <div class="docstring"><p>Line number of the last line of this node.</p>
</div>


                            </div>
                            <div id="FST.bend_col" class="classattr">
                                <div class="attr variable">
            <span class="name">bend_col</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.bend_col"></a>
    
            <div class="docstring"><p>CHARACTER column of the end of the last line of this node, past a trailing line comment on last child if
<code>self</code> is a block statement.</p>
</div>


                            </div>
                            <div id="FST.lineno" class="classattr">
                                <div class="attr variable">
            <span class="name">lineno</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.lineno"></a>
    
            <div class="docstring"><p>AST-style line number of the first line of this node (1 based), available for all nodes which have <code><a href="#FST.loc">loc</a></code>
(otherwise <code>None</code>).</p>
</div>


                            </div>
                            <div id="FST.col_offset" class="classattr">
                                <div class="attr variable">
            <span class="name">col_offset</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.col_offset"></a>
    
            <div class="docstring"><p>AST-style BYTE index of the start of this node (0 based), available for all nodes which have <code><a href="#FST.loc">loc</a></code>
(otherwise <code>None</code>).</p>
</div>


                            </div>
                            <div id="FST.end_lineno" class="classattr">
                                <div class="attr variable">
            <span class="name">end_lineno</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.end_lineno"></a>
    
            <div class="docstring"><p>AST-style line number of the LAST LINE of this node (1 based), available for all nodes which have <code><a href="#FST.loc">loc</a></code>
(otherwise <code>None</code>).</p>
</div>


                            </div>
                            <div id="FST.end_col_offset" class="classattr">
                                <div class="attr variable">
            <span class="name">end_col_offset</span><span class="annotation">: int | None</span>

        
    </div>
    <a class="headerlink" href="#FST.end_col_offset"></a>
    
            <div class="docstring"><p>AST-style BYTE index one past the end of this node (0 based), available for all nodes which have <code><a href="#FST.loc">loc</a></code>
(otherwise <code>None</code>).</p>
</div>


                            </div>
                            <div id="FST.whole_loc" class="classattr">
                                <div class="attr variable">
            <span class="name">whole_loc</span><span class="annotation">: <a href="common.html#fstloc">fst.common.fstloc</a></span>

        
    </div>
    <a class="headerlink" href="#FST.whole_loc"></a>
    
            <div class="docstring"><p>Whole source location, from (0, 0) to end of source. Works from any node (not just root).</p>
</div>


                            </div>
                            <div id="FST.has_own_loc" class="classattr">
                                <div class="attr variable">
            <span class="name">has_own_loc</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.has_own_loc"></a>
    
            <div class="docstring"><p><code>True</code> when the node has its own location which comes directly from AST <code><a href="#FST.lineno">lineno</a></code> and other location fields.
Otherwise <code>False</code> if no <code><a href="#FST.loc">loc</a></code> or <code><a href="#FST.loc">loc</a></code> is calculated.</p>
</div>


                            </div>
                            <div id="FST.has_docstr" class="classattr">
                                <div class="attr variable">
            <span class="name">has_docstr</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.has_docstr"></a>
    
            <div class="docstring"><p>Indicates whether this node has a docstring. Can only be <code>True</code> for <code>FunctionDef</code>, <code>AsyncFunctionDef</code>,
<code>ClassDef</code> or <code>Module</code>. For quick use as start index.</p>
</div>


                            </div>
                            <div id="FST.fromsrc" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">fromsrc</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">src</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">mode</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;strict&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;stmts&#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandler&#39;</span><span class="p">,</span> <span class="s1">&#39;_ExceptHandlers&#39;</span><span class="p">,</span> <span class="s1">&#39;match_case&#39;</span><span class="p">,</span> <span class="s1">&#39;_match_cases&#39;</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_all&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_arglike&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_slice&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuple_elt&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuple&#39;</span><span class="p">,</span> <span class="s1">&#39;_Assign_targets&#39;</span><span class="p">,</span> <span class="s1">&#39;_decorator_list&#39;</span><span class="p">,</span> <span class="s1">&#39;_arglike&#39;</span><span class="p">,</span> <span class="s1">&#39;_arglikes&#39;</span><span class="p">,</span> <span class="s1">&#39;boolop&#39;</span><span class="p">,</span> <span class="s1">&#39;operator&#39;</span><span class="p">,</span> <span class="s1">&#39;unaryop&#39;</span><span class="p">,</span> <span class="s1">&#39;cmpop&#39;</span><span class="p">,</span> <span class="s1">&#39;comprehension&#39;</span><span class="p">,</span> <span class="s1">&#39;_comprehensions&#39;</span><span class="p">,</span> <span class="s1">&#39;_comprehension_ifs&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments_lambda&#39;</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">,</span> <span class="s1">&#39;_aliases&#39;</span><span class="p">,</span> <span class="s1">&#39;Import_name&#39;</span><span class="p">,</span> <span class="s1">&#39;_Import_names&#39;</span><span class="p">,</span> <span class="s1">&#39;ImportFrom_name&#39;</span><span class="p">,</span> <span class="s1">&#39;_ImportFrom_names&#39;</span><span class="p">,</span> <span class="s1">&#39;withitem&#39;</span><span class="p">,</span> <span class="s1">&#39;_withitems&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="s1">&#39;type_param&#39;</span><span class="p">,</span> <span class="s1">&#39;_type_params&#39;</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;exec&#39;</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&lt;FST&gt;&#39;</span>,</span><span class="param">	<span class="n">type_comments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">feature_version</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.fromsrc"></a>
    
            <div class="docstring"><p>Parse and create a new <code><a href="#FST">FST</a></code> tree from source, preserving the original source and locations.</p>

<p><strong>WARNING!</strong> The <code>type_comments</code> parameter is <code>False</code> by default and no guarantees are made if you turn it on.
It is provided just in case but really shouldn't be used as <code><a href="../fst.html">fst</a></code> takes care of comments anyway, this just turns
on storing the comments in the <code>AST</code> nodes which may cause all sorts of madness like duplication on unparse or
nodes failing to reparse to themselves on operations.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.src">src</a></code>: The source to parse as a single <code><a href="#FST.str">str</a></code> or list of individual line strings (without newlines).</li>
<li><code>mode</code>: Parse mode, extended <code>ast.parse()</code> parameter, see <code><a href="parsex.html#Mode">fst.parsex.Mode</a></code>. If you know what kind of node you
are expecting then it is always better to pass in this parameter because otherwise several different parse
attempts may be made to try to find the type.</li>
<li><code>filename</code>: <code>ast.parse()</code> parameter.</li>
<li><code>type_comments</code>: <code>ast.parse()</code> parameter. Don't use this, see warning above.</li>
<li><code>feature_version</code>: <code>ast.parse()</code> parameter. Don't use this either, here just in case.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: The parsed tree with <code>.f</code> attributes added to each <code>AST</code> node for <code><a href="#FST">FST</a></code> access.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="go">Module - ROOT 0,0..0,3</span>
<span class="go">  .body[1]</span>
<span class="go">   0] Expr - 0,0..0,3</span>
<span class="go">     .value Name &#39;var&#39; Load - 0,0..0,3</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;stmt&#39;</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="go">Expr - ROOT 0,0..0,3</span>
<span class="go">  .value Name &#39;var&#39; Load - 0,0..0,3</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;expr&#39;</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="go">Name &#39;var&#39; Load - ROOT 0,0..0,3</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;except Exception: pass&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandler&#39;</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="go">ExceptHandler - ROOT 0,0..0,22</span>
<span class="go">  .type Name &#39;Exception&#39; Load - 0,7..0,16</span>
<span class="go">  .body[1]</span>
<span class="go">   0] Pass - 0,18..0,22</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;case f(a=1): pass&#39;</span><span class="p">,</span> <span class="s1">&#39;match_case&#39;</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="go">match_case - ROOT 0,0..0,17</span>
<span class="go">  .pattern MatchClass - 0,5..0,11</span>
<span class="go">    .cls Name &#39;f&#39; Load - 0,5..0,6</span>
<span class="go">    .kwd_attrs[1]</span>
<span class="go">     0] &#39;a&#39;</span>
<span class="go">    .kwd_patterns[1]</span>
<span class="go">     0] MatchValue - 0,9..0,10</span>
<span class="go">       .value Constant 1 - 0,9..0,10</span>
<span class="go">  .body[1]</span>
<span class="go">   0] Pass - 0,13..0,17</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">ast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;a:b&#39;</span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">Slice</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="go">Slice - ROOT 0,0..0,3</span>
<span class="go">  .lower Name &#39;a&#39; Load - 0,0..0,1</span>
<span class="go">  .upper Name &#39;b&#39; Load - 0,2..0,3</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.fromast" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">fromast</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">ast</span><span class="p">:</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span>,</span><span class="param">	<span class="n">mode</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;strict&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;stmts&#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandler&#39;</span><span class="p">,</span> <span class="s1">&#39;_ExceptHandlers&#39;</span><span class="p">,</span> <span class="s1">&#39;match_case&#39;</span><span class="p">,</span> <span class="s1">&#39;_match_cases&#39;</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_all&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_arglike&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_slice&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuple_elt&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuple&#39;</span><span class="p">,</span> <span class="s1">&#39;_Assign_targets&#39;</span><span class="p">,</span> <span class="s1">&#39;_decorator_list&#39;</span><span class="p">,</span> <span class="s1">&#39;_arglike&#39;</span><span class="p">,</span> <span class="s1">&#39;_arglikes&#39;</span><span class="p">,</span> <span class="s1">&#39;boolop&#39;</span><span class="p">,</span> <span class="s1">&#39;operator&#39;</span><span class="p">,</span> <span class="s1">&#39;unaryop&#39;</span><span class="p">,</span> <span class="s1">&#39;cmpop&#39;</span><span class="p">,</span> <span class="s1">&#39;comprehension&#39;</span><span class="p">,</span> <span class="s1">&#39;_comprehensions&#39;</span><span class="p">,</span> <span class="s1">&#39;_comprehension_ifs&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments_lambda&#39;</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">,</span> <span class="s1">&#39;_aliases&#39;</span><span class="p">,</span> <span class="s1">&#39;Import_name&#39;</span><span class="p">,</span> <span class="s1">&#39;_Import_names&#39;</span><span class="p">,</span> <span class="s1">&#39;ImportFrom_name&#39;</span><span class="p">,</span> <span class="s1">&#39;_ImportFrom_names&#39;</span><span class="p">,</span> <span class="s1">&#39;withitem&#39;</span><span class="p">,</span> <span class="s1">&#39;_withitems&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="s1">&#39;type_param&#39;</span><span class="p">,</span> <span class="s1">&#39;_type_params&#39;</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">coerce</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&lt;FST&gt;&#39;</span>,</span><span class="param">	<span class="n">type_comments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">feature_version</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.fromast"></a>
    
            <div class="docstring"><p>Convert an <code>AST</code> tree to a full <code><a href="#FST">FST</a></code> tree. This can take the existing node and just create the <code><a href="#FST">FST</a></code> nodes
for it (unparsing to get source code). Or if <code>mode</code> is specified, will try to coerce the <code>AST</code> node to this type
and create the <code><a href="#FST">FST</a></code> tree for that.</p>

<p>The passed <code>ast</code> node is not actually consumed. It is unparsed and reparsed to a new <code>AST</code> since we need to make
sure the locations are all correct.</p>

<p><strong>WARNING!</strong> The <code>type_comments</code> parameter is <code>False</code> by default and no guarantees are made if you turn it on.
It is provided just in case but really shouldn't be used as <code><a href="../fst.html">fst</a></code> takes care of comments anyway, this just turns
on storing the comments in the <code>AST</code> nodes which may cause all sorts of madness like duplication on unparse or
nodes failing to reparse to themselves on operations.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>ast</code>: The root <code>AST</code> node. This is <strong>NOT</strong> consumed and will <strong>NOT</strong> become the actual <code>AST</code> node of the
<code><a href="#FST">FST</a></code> tree.</li>
<li><code>mode</code>: Parse mode to enable coercion, see <code><a href="parsex.html#Mode">fst.parsex.Mode</a></code>. If <code>None</code> then will just use the given <code>ast</code>
type and make an <code><a href="#FST">FST</a></code> using that type.</li>
<li><code>coerce</code>: This exists to allow you to turn <strong>OFF</strong> coercion for some reason as by default coerce is attempted.</li>
<li><code>filename</code>: <code>ast.parse()</code> parameter.</li>
<li><code>type_comments</code>: <code>ast.parse()</code> parameter. Don't use this, see warning above.</li>
<li><code>feature_version</code>: <code>ast.parse()</code> parameter. Don't use this either, here just in case.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: The augmented tree with <code>.f</code> attributes added to each <code>AST</code> node for <code><a href="#FST">FST</a></code> access.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">ast</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">ast</span><span class="w"> </span><span class="kn">import</span> <span class="n">Assign</span><span class="p">,</span> <span class="n">Constant</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Name</span><span class="p">,</span> <span class="n">Slice</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n"><a href="#FST.fromast">FST.fromast</a></span><span class="p">(</span><span class="n">Assign</span><span class="p">(</span><span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;var&#39;</span><span class="p">)],</span>
<span class="gp">... </span>                       <span class="n">value</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">123</span><span class="p">)))<a href="#dump">.dump</a></span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">)</span>
<span class="go">0: var = 123</span>
<span class="go">Assign - ROOT 0,0..0,9</span>
<span class="go">  .targets[1]</span>
<span class="go">   0] Name &#39;var&#39; Store - 0,0..0,3</span>
<span class="go">  .value Constant 123 - 0,6..0,9</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n"><a href="#FST.fromast">FST.fromast</a></span><span class="p">(</span><span class="n">Slice</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
<span class="gp">... </span>                      <span class="n">step</span><span class="o">=</span><span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;step&#39;</span><span class="p">)))<a href="#dump">.dump</a></span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">)</span>
<span class="go">0: 1::step</span>
<span class="go">Slice - ROOT 0,0..0,7</span>
<span class="go">0: 1</span>
<span class="go">  .lower Constant 1 - 0,0..0,1</span>
<span class="go">0:    step</span>
<span class="go">  .step Name &#39;step&#39; Load - 0,3..0,7</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n"><a href="#FST.fromast">FST.fromast</a></span><span class="p">(</span><span class="n">List</span><span class="p">(</span><span class="n">elts</span><span class="o">=</span><span class="p">[</span><span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;var&#39;</span><span class="p">)]),</span>
<span class="gp">... </span>                <span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="n">coerce</span><span class="o">=</span><span class="kc">True</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">)</span>
<span class="go">0: [var]</span>
<span class="go">MatchSequence - ROOT 0,0..0,5</span>
<span class="go">  .patterns[1]</span>
<span class="go">   0] MatchAs - 0,1..0,4</span>
<span class="go">     .name &#39;var&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n"><a href="#FST.fromast">FST.fromast</a></span><span class="p">(</span><span class="n">List</span><span class="p">(</span><span class="n">elts</span><span class="o">=</span><span class="p">[</span><span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;var&#39;</span><span class="p">)]),</span>
<span class="gp">... </span>                <span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="n">coerce</span><span class="o">=</span><span class="kc">False</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">fst.NodeError</span>: <span class="n">expecting pattern, got List, coerce disabled</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n"><a href="#FST.fromast">FST.fromast</a></span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">    j = 5&#39;</span><span class="p">))<a href="#dump">.dump</a></span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">)</span>
<span class="go">Module - ROOT 0,0..1,9</span>
<span class="go">  .body[1]</span>
<span class="go">0: if 1:</span>
<span class="go">   0] If - 0,0..1,9</span>
<span class="go">     .test Constant 1 - 0,3..0,4</span>
<span class="go">     .body[1]</span>
<span class="go">1:     j = 5</span>
<span class="go">      0] Assign - 1,4..1,9</span>
<span class="go">        .targets[1]</span>
<span class="go">         0] Name &#39;j&#39; Store - 1,4..1,5</span>
<span class="go">        .value Constant 5 - 1,8..1,9</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get_options" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">get_options</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get_options"></a>
    
            <div class="docstring"><p>Get a dictionary of <strong>ALL</strong> global options. These are the same <code><a href="#FST.options">options</a></code> that can be passed to operations and
this function returns their global defaults which are used when those options are not passed to operations or if
they are passed with a value of <code>None</code></p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>{option: value, ...}</code>: Dictionary of all global default options.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="p">(</span><span class="n"><a href="#FST.get_options">FST.get_options</a></span><span class="p">())</span>
<span class="go">{&#39;raw&#39;: False,</span>
<span class="go"> &#39;trivia&#39;: True,</span>
<span class="go"> &#39;coerce&#39;: True,</span>
<span class="go"> &#39;elif_&#39;: True,</span>
<span class="go"> &#39;pep8space&#39;: True,</span>
<span class="go"> &#39;docstr&#39;: True,</span>
<span class="go"> &#39;pars&#39;: &#39;auto&#39;,</span>
<span class="go"> &#39;pars_walrus&#39;: False,</span>
<span class="go"> &#39;pars_arglike&#39;: True,</span>
<span class="go"> &#39;norm&#39;: False,</span>
<span class="go"> &#39;norm_self&#39;: None,</span>
<span class="go"> &#39;norm_get&#39;: None,</span>
<span class="go"> &#39;set_norm&#39;: &#39;star&#39;,</span>
<span class="go"> &#39;op_side&#39;: &#39;left&#39;,</span>
<span class="go"> &#39;args_as&#39;: None}</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get_option" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">get_option</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">option</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">options</span><span class="p">:</span> <span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span></span><span class="return-annotation">) -> <span class="nb">object</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get_option"></a>
    
            <div class="docstring"><p>Get a single option from <code><a href="#FST.options">options</a></code> dict or global default if option not in dict or is <code>None</code> there. For a
list of options used see <code><a href="#FST.options">options()</a></code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>option</code>: Name of option to get.</li>
<li><code><a href="#FST.options">options</a></code>: Dictionary which may or may not contain the requested option.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>object</code>: The <code>option</code> value from the passed <code><a href="#FST.options">options</a></code> dict, if passed and not <code>None</code> there, else the global
default value for <code>option</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">)</span>
<span class="go">&#39;auto&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;pars&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="go">True</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.set_options" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">set_options</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.set_options"></a>
    
            <div class="docstring"><p>Set global defaults for <code><a href="#FST.options">options</a></code> parameters.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.options">options</a></code>: Names / values of parameters to set. These can also be passed to various methods to override the
defaults set here for those individual operations, see <code><a href="#FST.options">options()</a></code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>old_options</code>: <code>dict</code> of previous values of changed parameters, reset with <code>set_options(**old_options)</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">)</span>
<span class="go">&#39;auto&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n"><a href="#FST.set_options">FST.set_options</a></span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">{&#39;pars&#39;: &#39;auto&#39;}</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">)</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n"><a href="#FST.set_options">FST.set_options</a></span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;pars&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">})</span>
<span class="go">{&#39;pars&#39;: False}</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">)</span>
<span class="go">&#39;auto&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n"><a href="#FST.set_options">FST.set_options</a></span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">docstr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">{&#39;pars&#39;: &#39;auto&#39;, &#39;raw&#39;: False, &#39;docstr&#39;: True}</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.options" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>
        <div class="decorator decorator-contextmanager">@contextmanager</div>

        <span class="def">def</span>
        <span class="name">options</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n">Generator</span><span class="p">[</span><span class="n">Mapping</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.options"></a>
    
            <div class="docstring"><p>Context manager to temporarily set specified global options defaults for a group of operations.</p>

<p><strong>WARNING!</strong> Only the options specified in the call to this function will be returned to their original values
when the context manager exits. Any other global options changed inside the context block will continue to have
those values on context manager exit.</p>

<p><strong>Options:</strong></p>

<ul>
<li><code>raw</code>: When to do raw source operations. This may result in more nodes changed than just the targeted one(s).
<ul>
<li><code>False</code>: Do not do raw source operations. <strong>DEFAULT</strong></li>
<li><code>True</code>: Only do raw source operations.</li>
<li><code>'auto'</code>: Only do raw source operations if the normal operation fails in a way that raw might not.</li>
</ul></li>
<li><code>trivia</code>: What comments and empty lines to copy / delete / overwrite when doing operations on elements which may
have leading or trailing comments and / or empty lines. The full trivia value that is used internally has a
leading and a trailing component, but shorthand allows passing a single element to specify both.
<ul>
<li><code>True</code>: Same as <code>('block', 'line')</code>. <strong>DEFAULT</strong></li>
<li><code>False</code>: Same as <code>('none', 'line')</code>.</li>
<li><code>'all[+/-[#]]'</code>: Same as <code>('all[+/-[#]]', 'line')</code>.</li>
<li><code>'block[+/-[#]]'</code>: Same as <code>('block[+/-[#]]', 'line')</code>.</li>
<li><code>'none[+/-[#]]'</code>: Same as <code>('none[+/-[#]]', 'line')</code>.</li>
<li><code>'+/-[#]'</code>: Same as <code>('block[+/-[#]]', 'line')</code>.</li>
<li><code>int</code>: Same as <code>(int, 'line')</code>.</li>
<li><code>()</code>: Same as <code>('none', 'none')</code>.</li>
<li><code>(trailing,)</code>: Same as <code>(True, trailing)</code>.</li>
<li><code>(leading, trailing)</code>: Tuple specifying individual behavior for leading and trailing trivia. The text
options can also have a suffix of the form <code>'+/-[#]'</code>, meaning plus or minus an optional integer which
indicates to include this number of leading / trailing empty lines in the trivia. The values for each
element of the tuple can be:
<ul>
<li><code>False</code>: Means <code>'none'</code> for both leading and trailing trivia.</li>
<li><code>True</code>: Means <code>'block'</code> for leading trivia, <code>'line'</code> for trailing.</li>
<li><code>'all[+/-[#]]'</code>: Copy / delete / overwrite all leading or trailing comments regardless of if they are
contiguous or not.</li>
<li><code>'block[+/-[#]]'</code>: Copy / delete / overwrite a single contiguous leading or trailing block of comments
where an empty line ends the block.</li>
<li><code>'none[+/-[#]]'</code>: Don't copy / delete / overwrite any trivia.</li>
<li><code>'line[+/-[#]]'</code>: Only valid for trailing trivia, means just the comment on the last line of the element. Except
for block statements where the last line is a child node where that comment belongs to the child
regardless of this parameter and so will be copied / deleted / overwritten along with the block.</li>
<li><code>'+/-[#]'</code>: Means <code>'block[+/-[#]]'</code> for leading trivia and <code>'line[+/-[#]]'</code> for trailing.</li>
<li><code>int</code>: A specific line number (starting at 0) indicating the first or last line that can be copied /
deleted / overwritten. If not interrupted by other code, will always return from / to this line
inclusive. For trailing trivia, if this number is the last line of the element (where the line comment
resides) then it will include that tail line comment. If it is <strong>BEFORE</strong> that line then the line
comment will not be included.</li>
</ul></li>
</ul></li>
<li><code>coerce</code>: Whether to allow coercion between compatible <code>AST</code> / <code><a href="#FST">FST</a></code> node types on put. For example allow put a
non-slice <code>expr</code> as a slice to something that expects a slice of <code>expr</code>s or allowing use of <code><a href="#FST.arg">arg</a></code> where
<code>arguments</code> is expected.
<ul>
<li><code>False</code>: Do not allow node type coercion, meant for strict type control.</li>
<li><code>True</code>: Allow coercion between similar types. <strong>DEFAULT</strong></li>
</ul></li>
<li><code>elif_</code>: How to handle lone <code>If</code> statements as the only statements in an <code>If</code> statement <code><a href="#FST.orelse">orelse</a></code> field.
<ul>
<li><code>False</code>: Always put as a standalone <code>If</code> statement on put.</li>
<li><code>True</code>: If putting a single <code>If</code> statement to an <code><a href="#FST.orelse">orelse</a></code> field of a parent <code>If</code> statement then
put it as an <code>elif</code>. <strong>DEFAULT</strong></li>
</ul></li>
<li><code>pep8space</code>: Preceding and trailing empty lines for function and class definitions.
<ul>
<li><code>False</code>: No empty lines.</li>
<li><code>True</code>: Two empty lines at module scope and one empty line in other scopes. <strong>DEFAULT</strong></li>
<li><code>1</code>: One empty line in all scopes.</li>
</ul></li>
<li><code>docstr</code>: Which docstrings are indentable / dedentable.
<ul>
<li><code>False</code>: None.</li>
<li><code>True</code>: All <code>Expr</code> string constants (as they serve no other coding purpose). <strong>DEFAULT</strong></li>
<li><code>'strict'</code>: Only string constants in expected docstring positions (functions, classes and top of module).</li>
</ul></li>
<li><code><a href="#FST.pars">pars</a></code>: How parentheses are handled, can be <code>False</code>, <code>True</code> or <code>'auto'</code>. This is for individual element
operations, slice operations ignore this for the most part as parentheses usually cannot be removed or may need
to be added to keep the slices usable. Raw puts generally do not have parentheses added or removed
automatically, except maybe removed according to this from the destination node if putting to a node instead of
a pure location. See below for <code><a href="#FST.pars">pars</a></code> behavior matrix.
<ul>
<li><code>False</code>: Parentheses are not <strong>MODIFIED</strong>, doesn't mean remove all parentheses. Not copied with nodes or
removed on put from destination or source. Using incorrectly can result in invalid trees.</li>
<li><code>True</code>: Parentheses are copied with nodes, added to copies if needed and not present and removed from
destination on put if not needed there (but not removed from source).</li>
<li><code>'auto'</code>: Same as <code>True</code> except they are not copied with nodes and possibly removed from source on put if not
needed (removed from destination first if needed and present on both). <strong>DEFAULT</strong></li>
</ul></li>
<li><code>pars_walrus</code>: Whether to <strong>ADD</strong> parentheses to top level cut / copied <code>NamedExpr</code> nodes or not. If parentheses
were already copied due to <code>pars=True</code> then setting this to <code>False</code> will not remove them. This is more of an
aesthetic option as <code><a href="../fst.html">fst</a></code> can deal with unparenthesized walruses at root level.
<ul>
<li><code>True</code>: Parenthesize cut / copied <code>NamedExpr</code> walrus expressions.</li>
<li><code>False</code>: Do not parenthesize cut / copied <code>NamedExpr</code> walrus expressions. <strong>DEFAULT</strong></li>
<li><code>None</code>: Parenthesize according to the <code><a href="#FST.pars">pars</a></code> option (<code>True</code> and <code>'auto'</code> parenthesize, <code>False</code> does not).</li>
</ul></li>
<li><code>pars_arglike</code>: Whether to <strong>ADD</strong> parentheses to argumentlike-only expressions (<code>*not a</code>, <code>*b or c</code>) when cut /
copied either as single element or as part of a slice. If parentheses were already present then setting this
to <code>False</code> will not remove them. Unlike <code>pars_walrus</code> this is <strong>NOT</strong> mostly an aesthetic option as
unparenthesized arglike-only expressions are invalid everywhere except in <code>Call.args</code>, <code>ClassDef.bases</code> or an
unparenthesized <code>Subscript.slice</code> <code>Tuple</code>.
<ul>
<li><code>True</code>: Parenthesize cut / copied argumentlike expressions. <strong>DEFAULT</strong></li>
<li><code>False</code>: Do not parenthesize cut / copied argumentlike expressions.</li>
<li><code>None</code>: Parenthesize according to the <code><a href="#FST.pars">pars</a></code> option (<code>True</code> and <code>'auto'</code> parenthesize, <code>False</code> does not).</li>
</ul></li>
<li><code>norm</code>: Default normalize option for return from <code><a href="#FST.get">get()</a></code> functions and <code>self</code> target. Determines how <code>AST</code>s which
would otherwise be invalid because of an operation are handled. Mostly how zero or sometimes one-length
sequences which normally cannot be zero or one length are left or returned, e.g. zero-length <code>Set</code>. This option
can be overridden individually for the two cases of <code>norm_self</code> (target) and <code>norm_get</code> (return from any get
operation).
<ul>
<li><code>False</code>: Allow the <code>AST</code> to go to an unsupported length or state and become invalid. A <code>Set</code> will result
in empty curlies which reparse to a <code>Dict</code>. A <code>MatchOr</code> can go to 1 or zero length. Other <code>AST</code> types
can also go to zero length. Useful for easier editing. <strong>DEFAULT</strong></li>
<li><code>True</code>: Do not allow the <code>AST</code> to go to an unsupported length or state. Can result in an exception being
thrown if no alternative exists. A <code>Set</code> which results in zero length gets converted to <code>{*()}</code>.</li>
<li><code><a href="#FST.str">str</a></code>: In some cases an alternate representation can be specified instead of just <code>True</code>, e.g. <code>'call'</code>
for <code>Set</code> operations.</li>
</ul></li>
<li><code>norm_self</code>: Override for <code>norm</code> which only applies to a target <code>self</code> on which an operation is being carried
out. If this is <code>None</code> then <code>norm</code> is used.</li>
<li><code>norm_get</code>: Override for <code>norm</code> which only applies to the return value from any get operation. If this is <code>None</code>
then <code>norm</code> is used.</li>
<li><code>set_norm</code>: The alternate representation for an empty <code>Set</code> normalization by <code>norm</code>.
<ul>
<li><code>'star'</code>: Starred sequence <code>{*()}</code> returned or used for empty <code>self</code>. <strong>DEFAULT</strong></li>
<li><code>'call'</code>: <code>set()</code> call returned and used for empty <code>self</code>.</li>
</ul></li>
<li><code>op_side</code>: When doing slice operations on a <code>BoolOp</code> or a <code>Compare</code> it may be necessary to specify which side
operator is to be deleted or inserted before or after. This can take the values of <code>'left'</code> or <code>'right'</code> and
specifies which side operator to delete for delete operations. For insert operations this specifies whether
to insert before an operator <code>'left'</code> or operand <code>'right'</code>, roughly translating to which side operator is
treated as part of the operator+operand unit. This option is treated as a hint and may be overridden by
source code passed to the slice operation or slice position constraints, it will never raise an error if
set incompatible with what the operation needs. When inserting into a <code>Compare</code> a non-global <code><a href="#FST.op">op</a></code> option
may be necessary to specify extra missing operator to add if a dangling operator is not passed in the source
to insert.
<ul>
<li><code>'left'</code>: Delete preceding operator on left side of slice or insert before preceding operator. <strong>DEFAULT</strong></li>
<li><code>'right'</code>: Delete trailing operator on right side of slice or insert after preceding operator.</li>
</ul></li>
<li><code>args_as</code>: Conversion for argument types on <code>argument</code> node slice operations. This is mostly meant for per-call
use but is a global option in order to allow <code>with options(args_as=?): ...</code>. When used on a slice get it
converts the gotten slice. When used on a slice put, it converts the slice being put before the attempted put.
<ul>
<li><code>'pos'</code>: Convert all arguments to <code><a href="#FST.posonlyargs">posonlyargs</a></code> if possible, if not then error. If <code><a href="#FST.vararg">vararg</a></code> or <code><a href="#FST.kwarg">kwarg</a></code> present
then will error.</li>
<li><code>'arg'</code>: Convert all arguments to <code><a href="#FST.args">args</a></code> if possible, if not then error. A <code><a href="#FST.vararg">vararg</a></code> is allowed but if present
then will prevent any present <code><a href="#FST.kwonlyargs">kwonlyargs</a></code> from being converted and in this case will error. If <code><a href="#FST.kwarg">kwarg</a></code> is
present then will error.</li>
<li><code>'kw'</code>: Convert all arguments to <code><a href="#FST.kwonlyargs">kwonlyargs</a></code> if possible, if not then error. A <code><a href="#FST.kwarg">kwarg</a></code> is allowed and
will not prevent any conversion as it is always follows all other arguments. If <code><a href="#FST.vararg">vararg</a></code> is present then
will error.</li>
<li><code>'arg_only'</code>: Same as <code><a href="#FST.arg">arg</a></code> except does not allow a <code><a href="#FST.vararg">vararg</a></code> and if present will error.</li>
<li><code>'kw_only'</code>: Same as <code>kw</code> except does not allow a <code><a href="#FST.kwarg">kwarg</a></code> and if present will error.</li>
<li><code>'pos_maybe'</code>: Attempt to convert all arguments to <code><a href="#FST.posonlyargs">posonlyargs</a></code>. <code><a href="#FST.args">args</a></code> can always be converted but if
<code><a href="#FST.kwonlyargs">kwonlyargs</a></code> cannot be because of a <code><a href="#FST.vararg">vararg</a></code> or default value incompatibilities then they will not be
converted and there will not be an error. <code><a href="#FST.kwarg">kwarg</a></code> is left in place.</li>
<li><code>'arg_maybe'</code>: Attempt to convert all arguments to <code><a href="#FST.args">args</a></code>. <code><a href="#FST.posonlyargs">posonlyargs</a></code> can always be converted but if
<code><a href="#FST.kwonlyargs">kwonlyargs</a></code> cannot be because of a <code><a href="#FST.vararg">vararg</a></code> or default value incompatibilities then they will not be
converted and there will not be an error. <code><a href="#FST.kwarg">kwarg</a></code> is left in place.</li>
<li><code>'kw_maybe'</code>: Attempt to convert all arguments to <code><a href="#FST.kwonlyargs">kwonlyargs</a></code>. If <code><a href="#FST.vararg">vararg</a></code> is present the <code><a href="#FST.posonlyargs">posonlyargs</a></code> and
<code><a href="#FST.args">args</a></code> are not converted, but <code><a href="#FST.posonlyargs">posonlyargs</a></code> will be converted in this case to <code><a href="#FST.args">args</a></code>. <code><a href="#FST.kwarg">kwarg</a></code> is left in
place.</li>
</ul></li>
</ul>

<p><strong>Note:</strong> <code><a href="#FST.pars">pars</a></code> behavior:</p>

<pre><code>                                                            False      True    'auto'
Copy pars from source on copy / cut:                         no       yes        no
Add pars needed for parsability to copy:                     no       yes       yes
Remove unneeded pars from destination on put:                no       yes       yes
Remove unneeded pars from source on put:                     no        no       yes
Add pars needed for parse / precedence to source on put:     no       yes       yes
</code></pre>

<p><strong>Note:</strong> <code>trivia</code> text suffix behavior:</p>

<ul>
<li><code>'+[#]'</code> On copy and delete an extra number of lines after any comments specified by the <code>#</code>. If no number is
specified and just a <code>'+'</code> then all empty lines will be copied / deleted.</li>
<li><code>'-[#]'</code> On delete but not copy, an extra number of lines after any comments specified by the <code>#</code>. If no
number is specified and just a <code>'-'</code> then all empty lines will be deleted.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">),</span> <span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;elif_&#39;</span><span class="p">))</span>
<span class="go">auto True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n"><a href="#FST.options">FST.options</a></span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">elif_</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">),</span> <span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;elif_&#39;</span><span class="p">))</span>
<span class="go">False False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">),</span> <span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;elif_&#39;</span><span class="p">))</span>
<span class="go">auto True</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.as_" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">as_</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">mode</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;strict&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;stmts&#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandler&#39;</span><span class="p">,</span> <span class="s1">&#39;_ExceptHandlers&#39;</span><span class="p">,</span> <span class="s1">&#39;match_case&#39;</span><span class="p">,</span> <span class="s1">&#39;_match_cases&#39;</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_all&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_arglike&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_slice&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuple_elt&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuple&#39;</span><span class="p">,</span> <span class="s1">&#39;_Assign_targets&#39;</span><span class="p">,</span> <span class="s1">&#39;_decorator_list&#39;</span><span class="p">,</span> <span class="s1">&#39;_arglike&#39;</span><span class="p">,</span> <span class="s1">&#39;_arglikes&#39;</span><span class="p">,</span> <span class="s1">&#39;boolop&#39;</span><span class="p">,</span> <span class="s1">&#39;operator&#39;</span><span class="p">,</span> <span class="s1">&#39;unaryop&#39;</span><span class="p">,</span> <span class="s1">&#39;cmpop&#39;</span><span class="p">,</span> <span class="s1">&#39;comprehension&#39;</span><span class="p">,</span> <span class="s1">&#39;_comprehensions&#39;</span><span class="p">,</span> <span class="s1">&#39;_comprehension_ifs&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments_lambda&#39;</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">,</span> <span class="s1">&#39;_aliases&#39;</span><span class="p">,</span> <span class="s1">&#39;Import_name&#39;</span><span class="p">,</span> <span class="s1">&#39;_Import_names&#39;</span><span class="p">,</span> <span class="s1">&#39;ImportFrom_name&#39;</span><span class="p">,</span> <span class="s1">&#39;_ImportFrom_names&#39;</span><span class="p">,</span> <span class="s1">&#39;withitem&#39;</span><span class="p">,</span> <span class="s1">&#39;_withitems&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="s1">&#39;type_param&#39;</span><span class="p">,</span> <span class="s1">&#39;_type_params&#39;</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.as_"></a>
    
            <div class="docstring"><p>Attempt to coerce <code>self</code> to the type of node given by <code>mode</code>. If <code>self</code> is already the requested type of node
at root level then will do nothing and return <code>self</code>. If is not at root level then will copy the node first and
then attempt to coerce.</p>

<p>If <code>self</code> is not the type requested then will attempt to coerce, which is a destructive operation to the
original node (<code>self</code>) even if it fails, rendering <code>self</code> unusable. For this reason the <code><a href="#FST.copy">copy</a></code> parameter allows
you to specify that <code>self</code> must be copied first before coerce is attempted, leaving the original node intact.
Note that a copy is always made regardless if <code>self</code> is not a root node so the original node will be unharmed in
that case.</p>

<p><strong>Note:</strong> If <code>self</code> is a subclass of the type you request then it counts as a match and <code>self</code> is returned
unchanged, e.g. <code>Assign</code> and you request a <code>stmt</code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>mode</code>: The type of node you want, <code>None</code> means no coerce and just return <code>self</code>, see <code><a href="parsex.html#Mode">fst.parsex.Mode</a></code>.</li>
<li><code><a href="#FST.copy">copy</a></code>: This only matters if you are calling this function on a root node, in which case a copy is made before
coerce is attempted in order to make sure the node you are calling remains valid.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">options()</a></code>. These same options will be used for both a possible copy and for coercion.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: Coerced node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;expr&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span>
<span class="go">&lt;Name ROOT 0,0..0,4&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">as_</span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">))</span>
<span class="go">&lt;Expr ROOT 0,0..0,4&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">as_</span><span class="p">(</span><span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="go">&lt;Module ROOT 0,0..0,4&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if a if b&#39;</span><span class="p">,</span> <span class="s1">&#39;_comprehension_ifs&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">as_</span><span class="p">(</span><span class="n">expr</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="go">Tuple - ROOT 0,0..0,4</span>
<span class="go">  .elts[2]</span>
<span class="go">   0] Name &#39;a&#39; Load - 0,0..0,1</span>
<span class="go">   1] Name &#39;b&#39; Load - 0,3..0,4</span>
<span class="go">  .ctx Load</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case [a, cls(b)]: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">as_</span><span class="p">(</span><span class="n">expr</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="go">List - ROOT 0,0..0,11</span>
<span class="go">  .elts[2]</span>
<span class="go">   0] Name &#39;a&#39; Load - 0,1..0,2</span>
<span class="go">   1] Call - 0,4..0,10</span>
<span class="go">     .func Name &#39;cls&#39; Load - 0,4..0,7</span>
<span class="go">     .args[1]</span>
<span class="go">      0] Name &#39;b&#39; Load - 0,8..0,9</span>
<span class="go">  .ctx Load</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.reparse" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">reparse</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.reparse"></a>
    
            <div class="docstring"><p>Force a reparse of this node to synchronize the <code>AST</code> tree with the source in case the source was changed
with non-native or non-synchronous operations such as <code><a href="#FST.put_src">put_src()</a></code> with only offset. Can use on any node, not
just root.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code>: New <code>self</code> after reparse, if possible, otherwise <code>None</code> if could not be found. May also be another
neighbor node if the source of <code>self</code> was structurally changed too much. If used on root node then <code>self</code>
will not change.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;f&quot;</span><span class="si">{expr}</span><span class="s1">&quot;&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># loc=False because of py &lt; 3.12</span>
<span class="go">0: f&quot;{expr}&quot;</span>
<span class="go">JoinedStr - ROOT</span>
<span class="go">  .values[1]</span>
<span class="go">   0] FormattedValue</span>
<span class="go">     .value Name &#39;expr&#39; Load</span>
<span class="go">     .conversion -1</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;offset&#39;</span><span class="p">)</span>
<span class="go">(0, 8)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">0: f&quot;{expr=}&quot;</span>
<span class="go">JoinedStr - ROOT</span>
<span class="go">  .values[1]</span>
<span class="go">   0] FormattedValue</span>
<span class="go">     .value Name &#39;expr&#39; Load</span>
<span class="go">     .conversion -1</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span><span class="n">raise_</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">reparse</span><span class="p">()</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span><span class="n">raise_</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">0: f&quot;{expr=}&quot;</span>
<span class="go">JoinedStr - ROOT</span>
<span class="go">  .values[2]</span>
<span class="go">   0] Constant &#39;expr=&#39;</span>
<span class="go">   1] FormattedValue</span>
<span class="go">     .value Name &#39;expr&#39; Load</span>
<span class="go">     .conversion 114</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.verify" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">verify</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">mode</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;strict&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;stmts&#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandler&#39;</span><span class="p">,</span> <span class="s1">&#39;_ExceptHandlers&#39;</span><span class="p">,</span> <span class="s1">&#39;match_case&#39;</span><span class="p">,</span> <span class="s1">&#39;_match_cases&#39;</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_all&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_arglike&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_slice&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuple_elt&#39;</span><span class="p">,</span> <span class="s1">&#39;Tuple&#39;</span><span class="p">,</span> <span class="s1">&#39;_Assign_targets&#39;</span><span class="p">,</span> <span class="s1">&#39;_decorator_list&#39;</span><span class="p">,</span> <span class="s1">&#39;_arglike&#39;</span><span class="p">,</span> <span class="s1">&#39;_arglikes&#39;</span><span class="p">,</span> <span class="s1">&#39;boolop&#39;</span><span class="p">,</span> <span class="s1">&#39;operator&#39;</span><span class="p">,</span> <span class="s1">&#39;unaryop&#39;</span><span class="p">,</span> <span class="s1">&#39;cmpop&#39;</span><span class="p">,</span> <span class="s1">&#39;comprehension&#39;</span><span class="p">,</span> <span class="s1">&#39;_comprehensions&#39;</span><span class="p">,</span> <span class="s1">&#39;_comprehension_ifs&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments_lambda&#39;</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">,</span> <span class="s1">&#39;_aliases&#39;</span><span class="p">,</span> <span class="s1">&#39;Import_name&#39;</span><span class="p">,</span> <span class="s1">&#39;_Import_names&#39;</span><span class="p">,</span> <span class="s1">&#39;ImportFrom_name&#39;</span><span class="p">,</span> <span class="s1">&#39;_ImportFrom_names&#39;</span><span class="p">,</span> <span class="s1">&#39;withitem&#39;</span><span class="p">,</span> <span class="s1">&#39;_withitems&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="s1">&#39;type_param&#39;</span><span class="p">,</span> <span class="s1">&#39;_type_params&#39;</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">reparse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">locs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">ctx</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">raise_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.verify"></a>
    
            <div class="docstring"><p>Sanity check. Walk the tree and make sure all <code>AST</code>s have corresponding <code><a href="#FST">FST</a></code> nodes with valid parent / child
links, then (optionally) reparse source and make sure parsed tree matches currently stored tree (locations and
everything). The reparse can only be carried out on root nodes but the link validation can be done on any level.</p>

<p>SPECIAL SLICEs like <code>_decorator_list</code> will verify ok with reparse but invalid nodes like an empty <code>Set</code> or
block statements with empty bodies will not.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>mode</code>: Parse mode to use, otherwise if <code>None</code> then use the top level <code>AST</code> node type for the mode. Depending
on how this is set will determine whether the verification is checking if is parsable by python (<code>'exec'</code> or
<code>'strict'</code> for example), or if the node itself is just in a valid state (<code>None</code> specifies this). See
<code><a href="parsex.html#Mode">fst.parsex.Mode</a></code>.</li>
<li><code><a href="#FST.reparse">reparse</a></code>: Whether to reparse the source and compare <code>AST</code>s (including location). Otherwise the check is
limited to a structure check that all children have <code><a href="#FST">FST</a></code> nodes which are all liked correctly to their
parents. <code>reparse=True</code> only allowed on root node.</li>
<li><code>locs</code>: Whether to compare locations after reparse or not.</li>
<li><code><a href="#FST.ctx">ctx</a></code>: Whether to compare <code><a href="#FST.ctx">ctx</a></code> nodes after reparse or not.</li>
<li><code>raise_</code>: Whether to raise an exception on verify failed or return <code>None</code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> on failure to verify (if not <code>raise_</code>), otherwise <code>self</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var = 123&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
<span class="go">&lt;Assign ROOT 0,0..0,9&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a:b:c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
<span class="go">&lt;Slice ROOT 0,0..0,5&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a:b:c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span><span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="n">raise_</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if a if b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
<span class="go">&lt;_comprehension_ifs ROOT 0,0..0,9&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if a if b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span><span class="s1">&#39;strict&#39;</span><span class="p">,</span> <span class="n">raise_</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a + b&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="go">(0, 3)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">fst.astutil.WalkFail</span>: <span class="n">child classes differ in BinOp.op, Sub vs. Add, locs (&#39;?&#39;, &#39;?&#39;, &#39;?&#39;, &#39;?&#39;) / (&#39;?&#39;, &#39;?&#39;, &#39;?&#39;, &#39;?&#39;)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.dump" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">dump</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">src</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">],</span> <span class="o">&lt;</span><span class="nb">property</span> <span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">full</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">expand</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span>,</span><span class="param">	<span class="n">list_indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">bool</span> <span class="o">=</span> <span class="mi">1</span>,</span><span class="param">	<span class="n">loc</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">color</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">out</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;print&#39;</span><span class="p">,</span> <span class="s1">&#39;str&#39;</span><span class="p">,</span> <span class="s1">&#39;lines&#39;</span><span class="p">],</span> <span class="n">Callable</span><span class="p">[[</span><span class="o">&lt;</span><span class="nb">property</span> <span class="nb">object</span><span class="o">&gt;</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">],</span> <span class="n">TextIO</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;print&#39;</span>,</span><span class="param">	<span class="n">eol</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.dump"></a>
    
            <div class="docstring"><p>Dump a representation of the tree to stdout or other <code>TextIO</code> or return as a <code><a href="#FST.str">str</a></code> or <code>list[str]</code> of lines,
or call a provided function once with each line of the output.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.src">src</a></code>: Either what level of source to show along with the nodes or a shorthand string which can specify almost
all the formatting parameters as a string of characters.
<ul>
<li><code>'stmt'</code> or <code>'stmt+'</code> means output statement source lines (including <code>ExceptHandler</code> and <code>match_case</code>)
or top level source if level is below statement. The <code>+</code> means put all lines of source including
non-coding ones so that whole source is shown.</li>
<li><code>'node'</code> or <code>'node+'</code> means output source for each individual node. The <code>+</code> means the same as for
<code>'stmt+'</code>.</li>
<li><code>None</code> does not output any source.</li>
<li><code><a href="#FST.str">str</a></code>: Can be a string for shortcut specification of source and flags by first letter, <code>'s+feL'</code> would be
equivalent to <code><a href="#dump">.dump</a>(src='stmt+', full=True, expand=True, loc=False)</code>.
<ul>
<li><code>'s'</code> or <code>'s+'</code> means <code>src='stmt'</code> or <code>src='stmt+'</code></li>
<li><code>'S'</code> same as <code>'s+'</code></li>
<li><code>'n'</code> or <code>'n+'</code> means <code>src='node'</code> or <code>src='node+'</code></li>
<li><code>'N'</code> same as <code>'N+'</code></li>
<li><code>'f'</code> means <code>full=True</code></li>
<li><code>'e'</code> means <code>expand=True</code></li>
<li><code>'i'</code> means <code>list_indent=indent</code></li>
<li><code>'I'</code> means <code>list_indent=False</code></li>
<li><code>'L'</code> means <code>loc=False</code></li>
<li><code>'c'</code> means <code>color=True</code></li>
<li><code>'C'</code> means <code>color=False</code></li>
</ul></li>
</ul></li>
<li><code>full</code>: If <code>True</code> then will list all fields in nodes including empty ones, otherwise will exclude most empty
fields.</li>
<li><code>expand</code>: If <code>False</code> then the output is a nice compact representation. If <code>True</code> then it is ugly and wasteful.</li>
<li><code><a href="#FST.indent">indent</a></code>: Indentation per level as an integer (number of spaces) or a string.</li>
<li><code>list_indent</code>: Extra indentation for elements of lists as an integer or string (added to indent). If <code>True</code>
then will be same as <code><a href="#FST.indent">indent</a></code>.</li>
<li><code><a href="#FST.loc">loc</a></code>: Whether to dump locations of nodes or not.</li>
<li><code>color</code>: <code>True</code> or <code>False</code> means whether to use ANSI color codes or not. If <code>None</code> then will autodetect, which
can be overridden with environment variables <code>FORCE_COLOR</code> and <code>NO_COLOR</code>.</li>
<li><code>out</code>: <code>'print'</code> means print to stdout, <code>'lines'</code> returns a list of lines and <code>'str'</code> returns a whole string.
A <code>TextIO</code> object here will use the <code>write</code> method for each line of output. Otherwise a
<code>Callable[[str], None]</code> which is called for each line of output individually. If <code>'str'</code> or <code>'lines'</code> then
that is returned, otherwise <code>self</code> is returned for chaining.</li>
<li><code>eol</code>: What to put at the end of each text line, <code>None</code> means newline for a <code>TextIO</code> out and nothing for other
types of <code>out</code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST.str">str</a></code>: If was requested with <code>out='str'</code>, string of entire dump, lines ended with <code>eol</code>.</li>
<li><code>list[str]</code>: If was requested with <code>out='lines'</code>, list of lines ended wiith <code>eol</code>.</li>
<li><code>self</code>: If <code>out</code> is anything else, for convenience.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">if 1:</span>
<span class="gp">... </span><span class="s1">    call(a=b, **c)</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">()</span>
<span class="go">If - ROOT 0,0..1,18</span>
<span class="go">  .test Constant 1 - 0,3..0,4</span>
<span class="go">  .body[1]</span>
<span class="go">   0] Expr - 1,4..1,18</span>
<span class="go">     .value Call - 1,4..1,18</span>
<span class="go">       .func Name &#39;call&#39; Load - 1,4..1,8</span>
<span class="go">       .keywords[2]</span>
<span class="go">        0] keyword - 1,9..1,12</span>
<span class="go">          .arg &#39;a&#39;</span>
<span class="go">          .value Name &#39;b&#39; Load - 1,11..1,12</span>
<span class="go">        1] keyword - 1,14..1,17</span>
<span class="go">          .value Name &#39;c&#39; Load - 1,16..1,17</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">list_indent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">0: if 1:</span>
<span class="go">If - ROOT 0,0..1,18</span>
<span class="go">0:    1</span>
<span class="go">   .test Constant 1 - 0,3..0,4</span>
<span class="go">   .body[1]</span>
<span class="go">1:     call(a=b, **c)</span>
<span class="go">      0] Expr - 1,4..1,18</span>
<span class="go">         .value Call - 1,4..1,18</span>
<span class="go">1:     call</span>
<span class="go">            .func Name &#39;call&#39; Load - 1,4..1,8</span>
<span class="go">            .keywords[2]</span>
<span class="go">1:          a=b</span>
<span class="go">               0] keyword - 1,9..1,12</span>
<span class="go">                  .arg &#39;a&#39;</span>
<span class="go">1:            b</span>
<span class="go">                  .value Name &#39;b&#39; Load - 1,11..1,12</span>
<span class="go">1:               **c</span>
<span class="go">               1] keyword - 1,14..1,17</span>
<span class="go">1:                 c</span>
<span class="go">                  .value Name &#39;c&#39; Load - 1,16..1,17</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">out</span><span class="o">=</span><span class="s1">&#39;str&#39;</span><span class="p">)[:</span><span class="mi">64</span><span class="p">]</span>
<span class="go">&#39;If - ROOT 0,0..1,18\n  .test Constant 1 - 0,3..0,4\n  .body[1]\n   &#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">))</span>
<span class="go">[&#39;0: if 1:&#39;,</span>
<span class="go"> &#39;If - ROOT&#39;,</span>
<span class="go"> &#39;  .test Constant 1&#39;,</span>
<span class="go"> &#39;  .body[1]&#39;,</span>
<span class="go"> &#39;1:     call(a=b, **c)&#39;,</span>
<span class="go"> &#39;   0] Expr&#39;,</span>
<span class="go"> &#39;     .value Call&#39;,</span>
<span class="go"> &quot;       .func Name &#39;call&#39; Load&quot;,</span>
<span class="go"> &#39;       .keywords[2]&#39;,</span>
<span class="go"> &#39;        0] keyword&#39;,</span>
<span class="go"> &quot;          .arg &#39;a&#39;&quot;,</span>
<span class="go"> &quot;          .value Name &#39;b&#39; Load&quot;,</span>
<span class="go"> &#39;        1] keyword&#39;,</span>
<span class="go"> &quot;          .value Name &#39;c&#39; Load&quot;]</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.mark" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mark</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.mark"></a>
    
            <div class="docstring"><p>Create a checkpoint with data needed for a later <code><a href="#FST.reconcile">reconcile()</a></code>. After this function is used, no more
FST-native modifications should be made to the tree until after the <code><a href="#FST.reconcile">reconcile()</a></code>. Any changes for the
<code><a href="#FST.reconcile">reconcile()</a></code> to work must be exclusively in the <code>AST</code> tree. If any modifications are made using <code><a href="#FST">FST</a></code> functions
then the checkpoint will be invalidated and will need to be recreated if <code><a href="#FST.reconcile">reconcile()</a></code> is wanted after the
modifications.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>
</div>


                            </div>
                            <div id="FST.reconcile" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">reconcile</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">trivia_ast_put</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[()]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">trivia_fst_put</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[()]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">trivia_fst_get</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">bool</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[()]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">cleanup</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.reconcile"></a>
    
            <div class="docstring"><p>Reconcile <code>self</code> with a previously marked version and return a new valid <code><a href="#FST">FST</a></code> tree. This is meant for
allowing non-FST modifications to an <code><a href="#FST">FST</a></code> tree and later converting it to a valid <code><a href="#FST">FST</a></code> tree to preserve as
much formatting as possible and maybe continue operating in <code><a href="#FST">FST</a></code> land. Only <code>AST</code> nodes from the original tree
carry formatting information, so the more of those are replaced the more formatting is lost.</p>

<p><strong>Note:</strong> When replacing the <code>AST</code> nodes, make sure you are replacing the nodes in the actual <code>AST</code> node fields,
not the <code>.a</code> attribute in <code><a href="#FST">FST</a></code> nodes, that won't do anything.</p>

<p><strong>Disclaimer:</strong> This functionality is still experimental and unfinished so not all comments which should be may
be preserved and others may be duplicated.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>trivia_ast_put</code>: The <code>trivia</code> option to use when putting an <code>AST</code> node. Since <code>AST</code> nodes have no trivia in
practice this means how much of the existing trivia at the target node is deleted. <code>None</code> means use default.</li>
<li><code>trivia_fst_put</code>: The <code>trivia</code> option to use when putting an <code><a href="#FST">FST</a></code> node, which may or may not have attached
trivia depending on the <code>trivia_fst_get</code> option. This option only specifies what happens to the target
trivia so depending on if the node being put has any it means delete or replace. <code>None</code> means use default.</li>
<li><code>trivia_fst_get</code>: The <code>trivia</code> option to use when getting <code><a href="#FST">FST</a></code> nodes for put. This can happen due to nodes
completely translated to a place they were not anywhere near or due to movement because of deletions or
insertions into the body where the nodes live. <code>None</code> means use default.</li>
<li><code>cleanup</code>: By default after a successful reconcile <code>self</code> is cleanued up and no more reconcile can be
attempted on it. It can be left in place to continue working on it and <code><a href="#FST.reconcile">reconcile()</a></code> again by passing
<code>cleanup=False</code> but this is not guaranteed to survive further reconcile development.</li>
<li><code><a href="#FST.options">options</a></code>: Only a few options are allowed for reconcile as others are managed during the process. The most
useful ones are <code>elif_</code> and <code>pep8space</code>. See <code><a href="#FST.options">options()</a></code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: A new valid reconciled <code><a href="#FST">FST</a></code> if possible.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">@decorator  # something</span>
<span class="gp">... </span><span class="s1">def function(a: int, b=2)-&gt;int:  # blah</span>
<span class="gp">... </span><span class="s1">    return a+b  # return this</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s1">def other_function(a, b):</span>
<span class="gp">... </span><span class="s1">    return a - b  # return that</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">mark</span><span class="p">()</span>
<span class="go">&lt;Module ROOT 0,0..5,31&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">returns</span> <span class="o">=</span> <span class="n">Name</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>  <span class="c1"># pure AST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">annotation</span> <span class="o">=</span> <span class="n">Name</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">decorator_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call_decorator(1, 2, 3)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;last_function&#39;</span>  <span class="c1"># can change non-AST</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># AST from same FST tree</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">other</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def first_function(a, b): return a * b  # yay!&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># AST from other FST tree</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">reconcile</span><span class="p">(</span><span class="n">pep8space</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">l</span> <span class="ow">or</span> <span class="s1">&#39;.&#39;</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">lines</span><span class="p">))</span>  <span class="c1"># print this way for doctest</span>
<span class="go">def first_function(a, b): return a * b  # yay!</span>
<span class="go">.</span>
<span class="go">@call_decorator(1, 2, 3)  # something</span>
<span class="go">def function(a: float, b=2)-&gt;float:  # blah</span>
<span class="go">    return a+b  # return this</span>
<span class="go">.</span>
<span class="go">def last_function(a, b):</span>
<span class="go">    return a+b  # return this</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">mark</span><span class="p">()</span>
<span class="go">&lt;Module ROOT 0,0..7,29&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">body</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">body</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">a</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="n">body</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">reconcile</span><span class="p">(</span><span class="n">pep8space</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">l</span> <span class="ow">or</span> <span class="s1">&#39;.&#39;</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">lines</span><span class="p">))</span>
<span class="go">def first_function(a, b): return a * b  # yay!</span>
<span class="go">.</span>
<span class="go">def f():</span>
<span class="go">    return a+b  # return this</span>
<span class="go">.</span>
<span class="go">def last_function(a, b):</span>
<span class="go">    return a+b  # return this</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.__getitem__" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">__getitem__</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">slice</span> <span class="o">|</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="n"><a href="view.html#FSTView">fst.view.FSTView</a></span> <span class="o">|</span> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.__getitem__"></a>
    
            <div class="docstring"><p>Get a single item or a slice view from the default field of <code>self</code>. This is just an access, not a cut or a
copy, so if you want a copy you must explicitly do <code>.copy()</code> on the returned value.</p>

<p>Same as <code>self.default_field[idx]</code>.</p>

<p>Note that <code>FSTView</code> can also hold references to non-AST lists of items, so keep this in mind when dealing with
return values which may be <code>None</code> or may not be <code><a href="#FST">FST</a></code> nodes.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>idx</code>: The index or <code>builtins.slice</code> where to get the element(s) from. Or a <code><a href="#FST.str">str</a></code> for a single-element name
search.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FSTView | FST | str | None</code>: Either a single <code><a href="#FST">FST</a></code> node if accessing a single item or a new <code>FSTView</code> view
according to the slice passed. <code>builtins.str</code> can also be returned from a view of <code>Global.names</code> or <code>None</code>
from a <code>Dict.keys</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;1&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)[:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">&lt;&lt;List ROOT 0,0..0,12&gt;.elts[:3]&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)[:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
<span class="go">&lt;&lt;List ROOT 0,0..0,12&gt;.elts[1:4]&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def fun(): pass</span><span class="se">\n</span><span class="s1">class cls: pass</span><span class="se">\n</span><span class="s1">var = val&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&lt;ClassDef 1,0..1,15&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;global a, b, c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">names</span>
<span class="go">&lt;&lt;Global ROOT 0,0..0,14&gt;.names&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;global a, b, c&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&lt;&lt;Global ROOT 0,0..0,14&gt;.names[1:2]&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.__setitem__" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">__setitem__</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">slice</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.__setitem__"></a>
    
            <div class="docstring"><p>Set a single item or a slice view in the default field of <code>self</code>.</p>

<p>Same as <code>self.default_field[idx] = code</code>.</p>

<p>Note that <code>FSTView</code> can also hold references to non-AST lists of items, so keep this in mind when assigning
values.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>idx</code>: The index or <code>builtins.slice</code> where to put the element(s). Or a <code><a href="#FST.str">str</a></code> for a single-element name search.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fst</span><span class="w"> </span><span class="kn">import</span> <span class="n">FST</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;4&#39;</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 4, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;5&#39;</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[5, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;[5]&#39;</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[[5], 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;5,&#39;</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[5, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="o">=</span> <span class="s1">&#39;6&#39;</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 6]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span> <span class="o">=</span> <span class="s1">&#39;[6]&#39;</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, [6]]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[:]</span> <span class="o">=</span> <span class="s1">&#39;7, 8&#39;</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[7, 8]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[:]</span> <span class="o">=</span> <span class="s1">&#39;[7, 8]&#39;</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[[7, 8]]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 1, 2, 2, 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.__delitem__" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">__delitem__</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">idx</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">slice</span> <span class="o">|</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.__delitem__"></a>
    
            <div class="docstring"><p>Delete a single item or a slice from default field of <code>self</code>.</p>

<p>Note that <code>FSTView</code> can also hold references to non-AST lists of items, so keep this in mind when assigning
values.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>idx</code>: The index or <code>builtins.slice</code> to delete. Or a <code><a href="#FST.str">str</a></code> for a single-element name search.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fst</span><span class="w"> </span><span class="kn">import</span> <span class="n">FST</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[</span><span class="mi">1</span><span class="p">];</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[:</span><span class="mi">3</span><span class="p">];</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[</span><span class="o">-</span><span class="mi">3</span><span class="p">:];</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))[:];</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.own_lines" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">own_lines</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">whole</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">docstr</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;strict&#39;</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.own_lines"></a>
    
            <div class="docstring"><p>Lines of this node copied out of the tree and dedented as if the node were copied out. Unlike the <code>.lines</code>
property these will not contain parts of other nodes.</p>

<p>This function is a faster way to get this if you just want the source over <code>self.copy().lines</code>. The intermediate
parameters for getting this are also cached (not the lines themselves), so it is not so expensive to call this
repeatedly.</p>

<p>A valid list of strings is always returned, even for nodes which can never have source like <code>Load</code>, etc... The
lines list returned is always a copy so safe to modify.</p>

<p><strong>Caveat:</strong> There is an actual qualitative difference between this and <code>self.copy().lines</code>, though it is usually
inconsequential. The copy operation may carry out some reformatting to make sure the node is presentable at root
level (mostly adding parentheses), this function does not do that. It will however convert an <code>elif</code> to an <code>if</code>.
The copy also does trivia, we do not here (yet).</p>

<p><strong>WARNING!</strong> With the exception of the <code>elif</code> fix, you get just the text that is there so you will get
unparsable source if you get for example a string <code>Constant</code> from the <code><a href="#FST.values">values</a></code> field of a <code>JoinedStr</code>, or a
<code><a href="#FST.format_spec">format_spec</a></code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>whole</code>: If at root this determines whether to return the whole source or just the location of the node
(which may not be the whole source).</li>
<li><code>docstr</code>: How to treat multiline string docstring lines.
<ul>
<li><code>False</code>: Don't dedent any.</li>
<li><code>True</code>: Dedent all <code>Expr</code> multiline strings (as they serve no coding purpose).</li>
<li><code>'strict'</code>: Only dedent <code>Expr</code> multiline strings in standard docstring locations.</li>
<li><code>None</code>: Use the global default for the <code>docstr</code> option.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>list[str]</code>: List of lines belonging to this node dedented or list with one empty string if node does not have
location to get source from (unless at root and <code>whole=True</code>, in which case the whole source is returned).</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">def func():</span>
<span class="gp">... </span><span class="s1">    return (&#39;not_self&#39;, [</span>
<span class="gp">... </span><span class="s1">        &#39;self1&#39;,</span>
<span class="gp">... </span><span class="s1">        &#39;self2&#39;,</span>
<span class="gp">... </span><span class="s1">    ], &#39;other_not_self&#39;,</span>
<span class="gp">... </span><span class="s1">    &#39;outside_lines&#39;)</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<p>Notice the indentation comes with it as well as parts of other nodes.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">lines</span><span class="p">:</span>  <span class="c1"># the list node in the return value</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>
<span class="go">&quot;    return (&#39;not_self&#39;, [&quot;</span>
<span class="go">&quot;        &#39;self1&#39;,&quot;</span>
<span class="go">&quot;        &#39;self2&#39;,&quot;</span>
<span class="go">&quot;    ], &#39;other_not_self&#39;,&quot;</span>
</code></pre>
</div>

<p>And here it is all cleaned up.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">own_lines</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>
<span class="go">&#39;[&#39;</span>
<span class="go">&quot;    &#39;self1&#39;,&quot;</span>
<span class="go">&quot;    &#39;self2&#39;,&quot;</span>
<span class="go">&#39;]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.own_src" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">own_src</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">whole</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">docstr</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;strict&#39;</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.own_src"></a>
    
            <div class="docstring"><p>Source of this node as a string copied out of the tree and dedented as if the node were copied out.</p>

<p>This function is a faster way to get this if you just want the source over <code>self.copy().src</code>. The intermediate
parameters for getting this are also cached (not the source itself), so it is not so expensive to call this
repeatedly.</p>

<p>Here is a rough performance comparison for scale when using the three methods of getting source of the
<code><a href="#FST.mark">FST.mark()</a></code> function from this class (py 3.14).</p>

<ul>
<li><code>.src</code>: 532 nanoseconds</li>
<li><code>.copy().src</code>: 140 microseconds</li>
<li><code>.own_src()</code>: 7.96 microseconds  - intermediate parameters not in cache</li>
<li><code>.own_src()</code>: 2.43 microseconds  - intermediate parameters in cache (second+ time)</li>
</ul>

<p>A string is always returned, even for nodes which can never have source like <code>Load</code>, etc...</p>

<p><strong>Note:</strong> The first line is always completely dedented.</p>

<p><strong>Caveat:</strong> There is an actual qualitative difference between this and <code>self.copy().src</code>, though it is usually
inconsequential. The copy operation may carry out some reformatting to make sure the node is presentable at root
level (mostly adding parentheses), this function does not do that. It will however convert an <code>elif</code> to an <code>if</code>.
The copy also does trivia, we do not here (yet).</p>

<p><strong>WARNING!</strong> With the exception of the <code>elif</code> fix, you get just the text that is there so you will get
unparsable source if you get for example a string <code>Constant</code> from the <code><a href="#FST.values">values</a></code> field of a <code>JoinedStr</code>, or a
<code><a href="#FST.format_spec">format_spec</a></code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>whole</code>: If at root this determines whether to return the whole source or just the location of the node
(which may not be the whole source).</li>
<li><code>docstr</code>: How to treat multiline string docstring lines.
<ul>
<li><code>False</code>: Don't dedent any.</li>
<li><code>True</code>: Dedent all <code>Expr</code> multiline strings (as they serve no coding purpose).</li>
<li><code>'strict'</code>: Only dedent <code>Expr</code> multiline strings in standard docstring locations.</li>
<li><code>None</code>: Use the global default for the <code>docstr</code> option.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST.str">str</a></code>: The source of this node dedented as a string or empty string if node does not have location to get
source from (unless at root and <code>whole=True</code>, in which case the whole source is returned).</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">def func():</span>
<span class="gp">... </span><span class="s1">    return (&#39;not_self&#39;, [</span>
<span class="gp">... </span><span class="s1">        &#39;self1&#39;,</span>
<span class="gp">... </span><span class="s1">        &#39;self2&#39;,</span>
<span class="gp">... </span><span class="s1">    ], &#39;other_not_self&#39;,</span>
<span class="gp">... </span><span class="s1">    &#39;outside_lines&#39;)</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<p>Notice the indentation comes with it, but not parts of other nodes like for <code>.lines</code>. The first line for <code>.src</code>
is also completely dedented just like <code>.own_src()</code>.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>  <span class="c1"># the list node in the return value</span>
<span class="go">[</span>
<span class="go">        &#39;self1&#39;,</span>
<span class="go">        &#39;self2&#39;,</span>
<span class="go">    ]</span>
</code></pre>
</div>

<p>And here it is all cleaned up.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">own_src</span><span class="p">())</span>
<span class="go">[</span>
<span class="go">    &#39;self1&#39;,</span>
<span class="go">    &#39;self2&#39;,</span>
<span class="go">]</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.ast_src" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ast_src</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="o">&lt;</span><span class="nb">property</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7a6b678fe980</span><span class="o">&gt;</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.ast_src"></a>
    
            <div class="docstring"><p>Unparse the <code>AST</code> tree of self discarding all formatting. The unparse will correctly handle our own SPECIAL
SLICE nodes and does a few other minor tweaks like removing parentheses from top-level <code>Tuple</code> which contains
<code>Slice</code> nodes.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST.str">str</a></code>: Unparsed source with all formatting lost.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if a: b=c  # comment&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if a: b=c  # comment</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">ast_src</span><span class="p">())</span>
<span class="go">if a:</span>
<span class="go">    b = c</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;array[start : stop : step, other_start : other_stop]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">unparse</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">slice</span><span class="o">.</span><span class="n">a</span><span class="p">))</span>  <span class="c1"># invalid in any universe</span>
<span class="go">(start:stop:step, other_start:other_stop)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">slice</span><span class="o">.</span><span class="n">ast_src</span><span class="p">())</span>
<span class="go">start:stop:step, other_start:other_stop</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.copy_ast" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">copy_ast</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.copy_ast"></a>
    
            <div class="docstring"><p>Copy the <code>AST</code> node tree of this <code><a href="#FST">FST</a></code> node, not including any <code><a href="#FST">FST</a></code> stuff. Use when you just want a copy of
the <code>AST</code> tree from this point down.</p>

<p>Needless to say since this just returns an <code>AST</code> all formatting is lost, except that the <code>AST</code> nodes will have
the same <code><a href="#FST.lineno">lineno</a></code>, <code><a href="#FST.col_offset">col_offset</a></code>, <code><a href="#FST.end_lineno">end_lineno</a></code> and <code><a href="#FST.end_col_offset">end_col_offset</a></code> values as they had in the <code><a href="#FST">FST</a></code> tree.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>AST</code>: Copied <code>AST</code> tree from this point down.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">copy_ast</span><span class="p">()</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">&lt;class &#39;ast.List&#39;&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">dump</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">List(elts=[Constant(value=0), Constant(value=1), Constant(value=2), Constant(value=3)], ctx=Load())</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.copy" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">copy</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">whole</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.copy"></a>
    
            <div class="docstring"><p>Copy this node to a new top-level tree, dedenting and fixing as necessary. If copying root node then an
identical copy is made and no fixes / modifications are applied unless <code>whole=False</code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>whole</code>: This only has meaning when copying a root node, otherwise all <code><a href="#FST.options">options</a></code> rules apply.
<ul>
<li><code>True</code>: Copies the entire tree and source without any modifications (including leading and trailing source
which is not part of the node), no <code><a href="#FST.options">options</a></code> are honored.</li>
<li><code>False</code>: For statementlike nodes will honor the <code>trivia</code> option and only copy allowed trivia source along
with the node. For expressions and patterns the various <code><a href="#FST.pars">pars</a></code> options will be honored and any
parentesization which may happen on a normal copy will be carried out as well. For all other node types
that have a location will trim away any source that falls outside of the node and only copy the node and
its own source.</li>
</ul></li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">options()</a></code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: Copied node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[a(), b(), c(), d()]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;b()&#39;</span>
</code></pre>
</div>

<p>Copies at root are special, default copies everything.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1"># pre</span>
<span class="gp">... </span><span class="s1">call()  # tail</span>
<span class="gp">... </span><span class="s1"># post</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="s1">&#39;expr&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">lines</span><span class="p">))</span>
<span class="go">&#39;# pre&#39;</span>
<span class="go">&#39;call()  # tail&#39;</span>
<span class="go">&#39;# post&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">whole</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">lines</span><span class="p">))</span>
<span class="go">&#39;call()&#39;</span>
</code></pre>
</div>

<p>A module is always copied whole.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1"># pre</span>
<span class="gp">... </span><span class="s1">call()  # tail</span>
<span class="gp">... </span><span class="s1"># post</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="s1">&#39;Module&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">whole</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">lines</span><span class="p">))</span>
<span class="go">&#39;# pre&#39;</span>
<span class="go">&#39;call()  # tail&#39;</span>
<span class="go">&#39;# post&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.cut" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cut</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.cut"></a>
    
            <div class="docstring"><p>Cut out this node to a new top-level tree (if possible), dedenting and fixing as necessary. Cannot cut root
node.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">options()</a></code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: Cut node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cut</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;1&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 2, 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.replace" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">replace</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="n">one</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.replace"></a>
    
            <div class="docstring"><p>Replace or delete (if <code>code=None</code>, if possible) this node. Returns the new node for <code>self</code>, not the old
replaced node, or <code>None</code> if was deleted or raw replaced and the old node disappeared. Cannot delete root node.
<strong>CAN</strong> replace root node, in which case <code>self</code> remains the same but the top-level <code>AST</code> and source change.</p>

<p><strong>Note:</strong> If replacing root node, the <code>trivia</code> option is not honored.</p>

<p><strong>WARNING!</strong> If passing an <code><a href="#FST">FST</a></code> then this is not guaranteed to become the new node (on purpose). If you wish to
continue using the <code><a href="#FST">FST</a></code> node you just replaced then make sure to use the one returned from this function. The
<code>AST</code> node will also not be identical if coercion happened.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: <code><a href="#FST">FST</a></code>, <code>AST</code> or source <code><a href="#FST.str">str</a></code> or <code>list[str]</code> to put at this location. <code>None</code> to delete this node.</li>
<li><code>one</code>: Default <code>True</code> means replace with a single element. If <code>False</code> and field allows it then can replace
single element with a slice.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">options()</a></code>.
<ul>
<li><code>to</code>: Special option which only applies replacing in <code>raw</code> mode (either through <code>True</code> or <code>'auto'</code>).
Instead of replacing just this node, will replace the entire span from this node to the node specified
in <code>to</code> with the <code>code</code> passed.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code> or <code>None</code>: Returns the new node if successfully replaced or <code>None</code> if deleted or raw replace and
corresponding new node could not be found.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 4, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a, /, b, *c, **d) -&gt; int: pass&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">posonlyargs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">returns</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># raw reparse</span>
<span class="go">&lt;arguments 0,6..0,6&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;def f(): pass&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.remove" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">remove</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.remove"></a>
    
            <div class="docstring"><p>Delete this node if possible, equivalent to <code>replace(None, ...)</code>. Cannot delete root node.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">options()</a></code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 2, 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.insert" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">insert</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>,</span><span class="param">	<span class="n">idx</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">one</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.insert"></a>
    
            <div class="docstring"><p>Insert into <code>field</code> of <code>self</code> at a specific index. Default field if <code>field=None</code>. This is a convenience
function for <code>self.put_slice()</code>.</p>

<p>Same as <code>self.field.insert()</code>.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: <code><a href="#FST">FST</a></code>, <code>AST</code> or source <code><a href="#FST.str">str</a></code> or <code>list[str]</code> to insert.</li>
<li><code>idx</code>: Index to insert before. Can be <code>'end'</code> to indicate add at end of slice.</li>
<li><code>field</code>: Field to operate on or the default field if is <code>None</code>. Must be a list field.</li>
<li><code>one</code>: If <code>True</code> then will insert <code>code</code> as a single item. Otherwise <code>False</code> will attempt a slice insertion
(type must be compatible).</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">fst.fst.FST.options()</a></code>.</li>
</ul>

<p><strong>Note:</strong> The <code>field</code> value can optionally be passed positionally in the <code>idx</code> parameter. If passed in <code>idx</code>
<code>idx</code> is assumed to be 0.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fst</span><span class="w"> </span><span class="kn">import</span> <span class="n">FST</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, (4, 5), 1, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;(4, 5)&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, (4, 5), 1, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2, 3, 4, 5]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;(4, 5)&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2, 3, (4, 5)]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="c1"># same as &#39;end&#39; but &#39;end&#39; is always &#39;end&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2, 3, 4, 5]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;(4, 5)&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2, 3, (4, 5)]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">&#39;*star&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, *star, 1, 2, 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.append" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">append</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.append"></a>
    
            <div class="docstring"><p>Append <code>code</code> as a single element to <code>field</code> of <code>self</code>. Default field if <code>field=None</code>. This is a convenience
function for <code>self.put_slice()</code>.</p>

<p>Same as <code>self.field.append()</code>.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: <code><a href="#FST">FST</a></code>, <code>AST</code> or source <code><a href="#FST.str">str</a></code> or <code>list[str]</code> to append.</li>
<li><code>field</code>: Field to operate on or the default field if is <code>None</code>. Must be a list field.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">fst.fst.FST.options()</a></code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fst</span><span class="w"> </span><span class="kn">import</span> <span class="n">FST</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;(4, 5)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2, 3, (4, 5)]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;*star&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2, *star, 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.extend" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">extend</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">one</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.extend"></a>
    
            <div class="docstring"><p>Extend <code>field</code> of <code>self</code> with the slice in <code>code</code> (type must be compatible). Default field if <code>field=None</code>.
This is a convenience function for <code>self.put_slice()</code>.</p>

<p>Same as <code>self.field.extend()</code>.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: <code><a href="#FST">FST</a></code>, <code>AST</code> or source <code><a href="#FST.str">str</a></code> or <code>list[str]</code> slice to extend.</li>
<li><code>field</code>: Field to operate on or the default field if is <code>None</code>. Must be a list field.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">fst.fst.FST.options()</a></code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fst</span><span class="w"> </span><span class="kn">import</span> <span class="n">FST</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2, 3, 4, 5]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="s1">&#39;(4, 5)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2, 3, (4, 5)]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2, 4, 5, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="s1">&#39;(4, 5)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2, (4, 5), 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.prepend" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">prepend</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.prepend"></a>
    
            <div class="docstring"><p>prepend <code>code</code> as a single element to the beginning of <code>field</code> of <code>self</code>. Default field if <code>field=None</code>. This
is a convenience function for <code>self.put_slice()</code>.</p>

<p>Same as <code>self.field.prepend()</code>.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: <code><a href="#FST">FST</a></code>, <code>AST</code> or source <code><a href="#FST.str">str</a></code> or <code>list[str]</code> to preappend.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">fst.fst.FST.options()</a></code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fst</span><span class="w"> </span><span class="kn">import</span> <span class="n">FST</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">prepend</span><span class="p">(</span><span class="s1">&#39;(4, 5)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[(4, 5), 0, 1, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">prepend</span><span class="p">(</span><span class="s1">&#39;*star&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, *star, 1, 2, 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.prextend" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">prextend</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">one</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="view.html#FSTView">fst.view.FSTView</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.prextend"></a>
    
            <div class="docstring"><p>Extend the beginning of the <code>field</code> of <code>self</code> with the slice in <code>code</code> (type must be compatible). Default
field if <code>field=None</code>. This is a convenience function for <code>self.put_slice()</code>.</p>

<p>Same as <code>self.field.prextend()</code>.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: <code><a href="#FST">FST</a></code>, <code>AST</code> or source <code><a href="#FST.str">str</a></code> or <code>list[str]</code> to extend at the start.</li>
<li><code>field</code>: Field to operate on or the default field if is <code>None</code>. Must be a list field.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">fst.fst.FST.options()</a></code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">fst</span><span class="w"> </span><span class="kn">import</span> <span class="n">FST</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">prextend</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[4, 5, 0, 1, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">prextend</span><span class="p">(</span><span class="s1">&#39;(4, 5)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[(4, 5), 0, 1, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">prextend</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 4, 5, 1, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">prextend</span><span class="p">(</span><span class="s1">&#39;(4, 5)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">base</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, (4, 5), 1, 2, 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">idx</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">stop</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">cut</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">complex</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get"></a>
    
            <div class="docstring"><p>Copy or cut an individual child node or a slice of child nodes from <code>self</code> if possible. This function can do
everything that <code><a href="#FST.get_slice">get_slice()</a></code> can do.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>idx</code>: The index of the child node to get if the field being gotten from contains multiple elements or the
start of the slice to get if getting a slice (by specifying <code>stop</code>). If the field being gotten from is
an individual element then this must be <code>None</code>.</li>
<li><code>stop</code>: The end index (exclusive) of the child node to get if getting a slice from a field that contains
multiple elements. This should be one past the last element to get (like python list indexing). If the field
being gotten from is an individual element then this must be <code>None</code>.</li>
<li><code>field</code>: The name of the field to get the element(s) from, which can be an individual element like a <code><a href="#FST.value">value</a></code>
or a list like <code><a href="#FST.body">body</a></code>. If this is <code>None</code> then the default field for the node type is used. Most node types
have a common-sense default field, e.g. <code><a href="#FST.body">body</a></code> for all block statements, <code><a href="#FST.value">value</a></code> for things like <code>Return</code>
and <code>Yield</code>. <code>Dict</code>, <code>MatchMapping</code> and <code>Compare</code> nodes have special handling for a <code>None</code> field (which
defaults to the <code><a href="#FST._all">_all</a></code> virtual field for them).</li>
<li><code><a href="#FST.cut">cut</a></code>: Whether to cut out the child node (if possible) or not (just copy).</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">options()</a></code>.</li>
</ul>

<p><strong>Note:</strong> The <code>field</code> value can optionally be passed positionally in either the <code>idx</code> or <code>stop</code> parameter. If
passed in <code>idx</code> a value of <code>None</code> is used for <code>idx</code>, which will select either just the element from a single
element field or the entire slice from a list field. If passed in <code>stop</code> then the <code>idx</code> value is present and
<code>stop</code> is assumed to be <code>None</code>.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: When getting an actual node (most situations).</li>
<li><code><a href="#FST.str">str</a></code>: When getting an identifier, like from <code>Name.id</code>.</li>
<li><code>constant</code>: When getting a constant (<code>fst.astutil.constant</code>), like from <code>Constant.value</code> or
<code>MatchSingleton.value</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;1&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">cut</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;i = 1&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;orelse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;j = 2&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2; k = 3&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;k = 3&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2; k = 3; l = 4; m = 5&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;k = 3; l = 4&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;return 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># default field is &#39;value&#39;</span>
<span class="go">&#39;1&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># &#39;elts&#39; slice copy is made</span>
<span class="go">&#39;[0, 1, 2, 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.put" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">put</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">ellipsis</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="n">idx</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">stop</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">one</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.put"></a>
    
            <div class="docstring"><p>Put an individual node or a slice of nodes to <code>self</code> if possible. The node is passed as an existing
top-level <code><a href="#FST">FST</a></code>, <code>AST</code>, string or list of string lines. If passed as an <code><a href="#FST">FST</a></code> then it should be considered
"consumed" after this function returns and should not be accessed again, even on failure. If passed as an <code>AST</code>
then it is copied and can be reused after this function returns. This is the most general form of node put
function and can do everything that the other node put functions can.</p>

<p><strong>WARNING!</strong> The original <code>self</code> node may be invalidated during the operation if using raw mode (either
<code>raw=True</code> or if it happened as a fallback from <code>raw='auto'</code>). If there is a possibility of this happening then
make sure to use the new <code>self</code> returned from this function, otherwise if no raw happens then <code>self</code> remains
unchanged and usable.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: The node to put as an <code><a href="#FST">FST</a></code> (must be root node), <code>AST</code>, a string or list of line strings. If putting
to an identifier field then this should be a string and it will be taken literally (no parsing). If putting
to a constant like <code>MatchSingleton.value</code> or <code>Constant.value</code> then this should be an appropriate primitive
constant value.</li>
<li><code>idx</code>: The index of the field node to put to if the field being put to contains multiple elements or the start
of the slice to put if putting a slice (by specifying <code>stop</code>). If the field being put to is an individual
element then this must be <code>None</code>.</li>
<li><code>stop</code>: The end index (exclusive) of the field node to put to if putting a slice to a field that contains
multiple elements. This should be one past the last element to put (like python list indexing). If the field
being put to is an individual element then this must be <code>None</code>.</li>
<li><code>field</code>: The name of the field to put the element(s) to, which can be an individual element like a <code><a href="#FST.value">value</a></code> or
a list like <code><a href="#FST.body">body</a></code>. If this is <code>None</code> then the default field for the node type is used. Most node types have
a common-sense default field, e.g. <code><a href="#FST.body">body</a></code> for all block statements, <code><a href="#FST.value">value</a></code> for things like <code>Return</code> and
<code>Yield</code>. <code>Dict</code>, <code>MatchMapping</code> and <code>Compare</code> nodes have special handling for a <code>None</code> field (which defaults
to the <code><a href="#FST._all">_all</a></code> virtual field for them).</li>
<li><code>one</code>: Only has meaning if putting a slice and in this case <code>True</code> specifies that the source should be put as
a single element to the range specified even if it is a valid slice. <code>False</code> indicates that a slice value
should be put as slice and not an individual element, which must in this case be a compatible slice type.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">options()</a></code>.
<ul>
<li><code>to</code>: Special option which only applies when putting a single element in <code>raw</code> mode (either through <code>True</code>
or <code>'auto'</code>). Instead of replacing just the target node, will replace the entire span from the target
node to the node specified in <code>to</code> with the <code>code</code> passed.</li>
</ul></li>
</ul>

<p><strong>Note:</strong> The <code>field</code> value can optionally be passed positionally in either the <code>idx</code> or <code>stop</code> parameter. If
passed in <code>idx</code> a value of <code>None</code> is used for <code>idx</code>, which will select either just the element from a single
element field or the entire slice from a list field. If passed in <code>stop</code> then the <code>idx</code> value is present and
<code>stop</code> is assumed to be <code>None</code>.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code> or <code>None</code> if a raw put was done and corresponding new node could not be found.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, x, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, (x, y), 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, x, y, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[(x, y), 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, x, y]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, (x, y)]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, x, y]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if 1:</span>
<span class="go">    z = -1</span>
<span class="go">else: j = 2</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if 1: i = 1</span>
<span class="go">else:</span>
<span class="go">    z = -1</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span>
<span class="gp">... </span>      <span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1</span><span class="se">\n</span><span class="s1">y = -2</span><span class="se">\n</span><span class="s1">x = -3&#39;</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if 1: i = 1</span>
<span class="go">else:</span>
<span class="go">    z = -1</span>
<span class="go">    y = -2</span>
<span class="go">    x = -3</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">orelse</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if 1: z = -1</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get_slice" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_slice</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">start</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">stop</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;end&#39;</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">cut</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get_slice"></a>
    
            <div class="docstring"><p>Copy or cut a slice of child nodes from <code>self</code> if possible.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>start</code>: The start index of the slice to get. You can use <code>'end'</code> here but you will just wind up getting an
empty slice.</li>
<li><code>stop</code>: The end index (exclusive) of the slice to get. This should be one past the last element to get (like
python list indexing). If this is <code>'end'</code> then it indicates a slice operation to the end of the list (like
python <code>a[start:]</code>).</li>
<li><code>field</code>: The name of the field to get the elements from, which can be an individual element like a <code><a href="#FST.value">value</a></code> or
a list like <code><a href="#FST.body">body</a></code>. If this is <code>None</code> then the default field for the node type is used. Most node types
have a common-sense default field, e.g. <code><a href="#FST.body">body</a></code> for all block statements, <code><a href="#FST.elts">elts</a></code> for things like <code>List</code> and
<code>Tuple</code>. <code>Dict</code>, <code>MatchMapping</code> and <code>Compare</code> nodes have special handling for a <code>None</code> field (which defaults
to the <code><a href="#FST._all">_all</a></code> virtual field for them).</li>
<li><code><a href="#FST.cut">cut</a></code>: Whether to cut out the slice or not (just copy).</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">options()</a></code>.</li>
</ul>

<p><strong>Note:</strong> The <code>field</code> value can optionally be passed positionally in either the <code>start</code> or <code>stop</code> parameter. If
passed in <code>start</code> then the range is assumed to be the entire field. If passed in <code>stop</code> then the <code>start</code> value
is present and <code>stop</code> is assumed to be <code>'end'</code>.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: Slice node of nodes gotten.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 1, 2]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">get_slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">cut</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2]&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2; k = 3; l = 4; m = 5&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if 1: i = 1</span>
<span class="go">else: j = 2; k = 3; l = 4; m = 5</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">get_slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">,</span> <span class="n">cut</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">k = 3; l = 4</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if 1: i = 1</span>
<span class="go">else: j = 2; m = 5</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.put_slice" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">put_slice</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="n">start</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="n">stop</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;end&#39;</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">one</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.put_slice"></a>
    
            <div class="docstring"><p>Put a slice of nodes to <code>self</code> if possible.  The node is passed as an existing top-level <code><a href="#FST">FST</a></code>, <code>AST</code>, string
or list of string lines. If passed as an <code><a href="#FST">FST</a></code> then it should be considered "consumed" after this function
returns and is no longer valid, even on failure. <code>AST</code> is copied.</p>

<p><strong>WARNING!</strong> The original <code>self</code> node may be invalidated during the operation if using raw mode (either
<code>raw=True</code> or if it happened as a fallback from <code>raw='auto'</code>). If there is a possibility of this happening then
make sure to use the new <code>self</code> returned from this function, otherwise if no raw happens then <code>self</code> remains
unchanged and usable.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: The slice to put as an <code><a href="#FST">FST</a></code> (must be root node), <code>AST</code>, a string or list of line strings.</li>
<li><code>start</code>: The start index of the slice to put. <code>'end'</code> here allows extending at the end of the field.</li>
<li><code>stop</code>: The end index (exclusive) of the slice. This should be one past the last element to put (like python
list indexing). If this is <code>'end'</code> then it indicates a slice operation to the end of the list (like python
<code>a[start:]</code>).</li>
<li><code>field</code>: The name of the field to put the elements to. If this is <code>None</code> then the default field for the node
type is used. Most node types have a common-sense default field, e.g. <code><a href="#FST.body">body</a></code> for all block statements,
<code><a href="#FST.elts">elts</a></code> for things like <code>List</code> and <code>Tuple</code>. <code>Dict</code>, <code>MatchMapping</code> and <code>Compare</code> nodes have special handling
for a <code>None</code> field (which defaults to the <code><a href="#FST._all">_all</a></code> virtual field for them).</li>
<li><code>one</code>: <code>True</code> specifies that the source should be put as a single element to the range specified even if it
is a valid slice. <code>False</code> indicates a true slice operation replacing the range with the slice passed, which
must in this case be a compatible slice type.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.options">options()</a></code>.</li>
</ul>

<p><strong>Note:</strong> The <code>field</code> value can optionally be passed positionally in either the <code>start</code> or <code>stop</code> parameter. If
passed in <code>start</code> then the range is assumed to be the entire field. If passed in <code>stop</code> then the <code>start</code> value
is present and <code>stop</code> is assumed to be <code>'end'</code>.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code> or <code>None</code> if a raw put was done and corresponding new node could not be found.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put_slice</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, x]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put_slice</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, x, y, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put_slice</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, (x, y), 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put_slice</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[x, y, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put_slice</span><span class="p">(</span><span class="s1">&#39;x, y&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[0, (x, y)]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put_slice</span><span class="p">(</span><span class="s1">&#39;z = -1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if 1:</span>
<span class="go">    z = -1</span>
<span class="go">else: j = 2</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put_slice</span><span class="p">(</span><span class="s1">&#39;z = -1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if 1: i = 1</span>
<span class="go">else:</span>
<span class="go">    z = -1</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span>
<span class="gp">... </span>      <span class="o">.</span><span class="n">put_slice</span><span class="p">(</span><span class="s1">&#39;z = -1</span><span class="se">\n</span><span class="s1">y = -2</span><span class="se">\n</span><span class="s1">x = -3&#39;</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if 1: i = 1</span>
<span class="go">else:</span>
<span class="go">    z = -1</span>
<span class="go">    y = -2</span>
<span class="go">    x = -3</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get_src" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_src</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">ln</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span>,</span><span class="param">	<span class="n">col</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span>,</span><span class="param">	<span class="n">end_ln</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span>,</span><span class="param">	<span class="n">end_col</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span>,</span><span class="param">	<span class="n">as_lines</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get_src"></a>
    
            <div class="docstring"><p>Get source at location, without dedenting or any other modification, returned as a string or list of
individual lines.</p>

<p>Can call on any node in tree to access source for the whole tree.</p>

<p>The coordinates passed in are clipped to the whole valid source area. Negative indexing is supported and the
<code>'end'</code> special value means either the last line if used for <code><a href="#FST.ln">ln</a></code> or <code><a href="#FST.end_ln">end_ln</a></code> or one past the last column on
their respective line if used for <code><a href="#FST.col">col</a></code> or <code><a href="#FST.end_col">end_col</a></code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.ln">ln</a></code>: Start line of span to get (0 based).</li>
<li><code><a href="#FST.col">col</a></code>: Start column (character) on start line.</li>
<li><code><a href="#FST.end_ln">end_ln</a></code>: End line of span to get (0 based, inclusive).</li>
<li><code><a href="#FST.end_col">end_col</a></code>: End column (character, exclusive) on end line.</li>
<li><code>as_lines</code>: If <code>False</code> then source is returned as a single string with embedded newlines. If <code>True</code> then
source is returned as a list of line strings (without newlines).</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>str | list[str]</code>: A single string or a list of lines if <code>as_lines=True</code>. If lines then there are no trailing
newlines in the individual line strings.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">  i = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_src</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">&#39;1:\n  i =&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">  i = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_src</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">as_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">[&#39;1:&#39;, &#39;  i =&#39;]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">  i = 2&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">get_src</span><span class="p">(</span><span class="o">*</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">bloc</span><span class="p">)</span>
<span class="go">&#39;i = 2&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">  i = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_src</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span>
<span class="go">&#39;= 2&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.put_src" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">put_src</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="n">ln</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span>,</span><span class="param">	<span class="n">col</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span>,</span><span class="param">	<span class="n">end_ln</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span>,</span><span class="param">	<span class="n">end_col</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">]]</span>,</span><span class="param">	<span class="n">action</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;reparse&#39;</span><span class="p">,</span> <span class="s1">&#39;offset&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;reparse&#39;</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.put_src"></a>
    
            <div class="docstring"><p>Put source and maybe adjust <code>AST</code> tree for source modified. The adjustment may be a reparse of the area
changed, an offset of nodes (assuming put source was just trivia and wouldn't affect the tree) or nothing at
all. The <code>action</code> options are:</p>

<ul>
<li><p><code>'reparse'</code>: Put source and reparse. There are no rules on what is put, it is simply put and parse is
attempted.</p>

<p>The reparse that is triggered is of at least a statement level node or a statement block header, and can be
multiple statements if the location spans those or even statements outside of the location if the reparse
affects things like <code>elif</code>. <code><a href="#FST">FST</a></code> nodes in the region of the put or even outside of it can become invalid. The
only <code><a href="#FST">FST</a></code> node guaranteed not to change is the root node (identity, the <code>AST</code> it holds can change).</p>

<p>When putting source raw by location like this there are no automatic modifications made to the source or
destination. No parenthesization, prefixes or suffixes or indentation, the source is just put and parsed so you
are responsible for the correct indentation and precedence.</p>

<p>After put and successful reparse a new node can be found using <code><a href="#FST.find_loc">find_loc()</a></code> functions from the original start
<code><a href="#FST.ln">ln</a></code> and <code><a href="#FST.col">col</a></code> and newly returned <code><a href="#FST.end_ln">end_ln</a></code> and <code><a href="#FST.end_col">end_col</a></code>. It is possible that <code>None</code> is returned from these
functions if no good candidate is found (since this can be used to delete or merge nodes).</p>

<p><code>self</code> doesn't matter in this case, can call on any node in tree, even one which is not touched by the source
change and the appropriate nodes will be found and reparsed.</p></li>
<li><p><code>'offset'</code>: Put source and offset nodes around it according to what node the <code><a href="#FST.put_src">put_src()</a></code> was called on. In
this case <code>self</code> matters and should be the last node down within which the location is contained. Any child
nodes of this node are offset differently from this <code>self</code> node and its parents.</p>

<p>The <code>self</code> node and its parents will not have their start locations offset if the put is an insert at the
start (as the location is considered to be <strong>INSIDE</strong> these nodes), whereas child nodes will be moved.</p>

<p>The <code>self</code> node and its parents will have their end locations offset if the put ends at this location whereas
child nodes will not.</p></li>
<li><p><code>None</code>: Nothing is reparsed or offset, the source is just put. There are few cases where this will result in
a valid tree but can include removal of comments and trailing whitespace on a line or changing lines between
empty and comment. Some caches are cleared on put determined by the node this is called on so best to call on
the node that "ows" the source being put. For comment, block statement it is in or general statement it is on
the line of. For other misc, best just node that it is "in".</p></li>
</ul>

<p>If the <code>code</code> is passed as an <code>AST</code> then it is unparsed to a string and that string is put into the location. If
<code>code</code> is an <code><a href="#FST">FST</a></code> then the exact source of the <code><a href="#FST">FST</a></code> is put. If passed as a string or lines then that is put
directly.</p>

<p>The coordinates passed in are clipped to the whole valid source area. Negative indexing is supported and the
<code>'end'</code> special value means either the last line if used for <code><a href="#FST.ln">ln</a></code> or <code><a href="#FST.end_ln">end_ln</a></code> or one past the last column on
their respective line if used for <code><a href="#FST.col">col</a></code> or <code><a href="#FST.end_col">end_col</a></code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: The code to put as an <code><a href="#FST">FST</a></code> (must be root node), <code>AST</code>, a string or list of line strings.</li>
<li><code><a href="#FST.ln">ln</a></code>: Start line of span to put (0 based).</li>
<li><code><a href="#FST.col">col</a></code>: Start column (character) on start line.</li>
<li><code><a href="#FST.end_ln">end_ln</a></code>: End line of span to put (0 based, inclusive).</li>
<li><code><a href="#FST.end_col">end_col</a></code>: End column (character, exclusive) on end line.</li>
<li><code>action</code>: What action to take on the <code>AST</code> tree, the options are <code>'reparse'</code>, <code>'offset'</code> or <code>None</code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>(end_ln, end_col)</code>: New end location of source put (all source after this was not modified).</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = 1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">(0, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;i = 2&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = 1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39;+= 3&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">(0, 6)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;i += 3&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;{a: b, c: d, e: f}&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39;**&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">(0, 9)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;{a: b, **d, e: f}&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">if a:</span>
<span class="gp">... </span><span class="s1">  i = 2</span>
<span class="gp">... </span><span class="s1">elif b:</span>
<span class="gp">... </span><span class="s1">  j = 3</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if a:</span>
<span class="go">  i = 2</span>
<span class="go">elif b:</span>
<span class="go">  j = 3</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">else:</span>
<span class="gp">... </span><span class="s1">  if b:</span>
<span class="gp">... </span><span class="s1">    k = 4</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="o">*</span><span class="n">f</span><span class="o">.</span><span class="n">orelse</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span> <span class="o">*</span><span class="n">f</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
<span class="go">(4, 9)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if a:</span>
<span class="go">  i = 2</span>
<span class="go">else:</span>
<span class="go">  if b:</span>
<span class="go">    k = 4</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a, b&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;offset&#39;</span><span class="p">)</span>
<span class="go">(0, 5)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">loc</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span>
<span class="go">(&#39;a, b &#39;, fstloc(0, 0, 0, 5), fstloc(0, 3, 0, 4))</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get_docstr" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_docstr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get_docstr"></a>
    
            <div class="docstring"><p>Get the unformatted docstring value of this node if it is a <code>FunctionDef</code>, <code>AsyncFunctionDef</code>, <code>ClassDef</code> or
<code>Module</code>. The docstring is dedented and returned as a normal string, not a node. Keep in mind an empty docstring
may exist but will be a falsey value so make sure to explicitly check for <code>None</code> return. If you want the actual
docstring node then just check for presence with <code>.has_docstr</code> and get <code>.body[0]</code>.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>str | None</code>: Actual dedented docstring value, not the node or syntactic string representation with quotes.
<code>None</code> if there is no docstring or the node cannot have a docstring.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">def func():</span>
<span class="gp">... </span><span class="s1">    </span><span class="se">\&#39;\&#39;\&#39;</span><span class="s1">docstring indented</span>
<span class="gp">... </span><span class="s1">    in source with codes</span><span class="se">\\</span><span class="s1">x3f</span><span class="se">\\</span><span class="s1">x3f</span><span class="se">\\</span><span class="s1">x3f</span><span class="se">\&#39;\&#39;\&#39;</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">def func():</span>
<span class="go">    &#39;&#39;&#39;docstring indented</span>
<span class="go">    in source with codes\x3f\x3f\x3f&#39;&#39;&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">get_docstr</span><span class="p">()</span>
<span class="go">&#39;docstring indented\nin source with codes???&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.put_docstr" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">put_docstr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>, </span><span class="param"><span class="n">reput</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.put_docstr"></a>
    
            <div class="docstring"><p>Set or delete the docstring of this node if it is a <code>FunctionDef</code>, <code>AsyncFunctionDef</code>, <code>ClassDef</code> or
<code>Module</code>. Will replace, insert or delete the node as required. If setting, the <code>text</code> string that is passed will
be formatted with triple quotes and indented as needed.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>text</code>: The string to set as a docstring or <code>None</code> to delete.</li>
<li><code>reput</code>: If <code>True</code> then remove old docstring <code>Expr</code> first (if present) before reinserting new one. This is to
allow repositioning the docstring before any comments.</li>
<li><code><a href="#FST.options">options</a></code>: The options to use for a put if a put is done, see <code><a href="#FST.options">options()</a></code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def func(): pass&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">put_docstr</span><span class="p">(</span><span class="s1">&#39;docstring indented</span><span class="se">\n</span><span class="s1">in source with codes</span><span class="se">\x3f\x3f\x3f</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">def func():</span>
<span class="go">    &quot;&quot;&quot;docstring indented</span>
<span class="go">    in source with codes???&quot;&quot;&quot;</span>
<span class="go">    pass</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get_line_comment" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_line_comment</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">,</span> <span class="s1">&#39;finalbody&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">full</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get_line_comment"></a>
    
            <div class="docstring"><p>Get current line comment for this node.</p>

<p>The line comment is the single comment at the end of the last line of the location of this node, with the
exception of statement block nodes where the line comment lives on the last line of the header of the node
(after the <code>:</code>, since the comment on the last line of the location belongs to the last child).</p>

<p><strong>Note:</strong> Currently this functionality is limited to statement nodes.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>field</code>: If <code>self</code> is a block statement then this can specify which field to operate on, only <code>'body'</code>,
<code>'orelse'</code> and <code>'finalbody'</code> make sense to use and an error will be raised if the field is not present or
there is nothing in it. <code>None</code> means use default <code>'body'</code> if block statement.</li>
<li><code>full</code>:
<ul>
<li><code>False</code>: The gotten comment text is returned stripped of the <code>'#'</code> and any leading and trailing
whitespace.</li>
<li><code>True</code>: The entire gotten comment from the end of the node to the end of the line is returned with no
whitespace stripped, e.g. <code>'  # comment  '</code>.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST.str">str</a></code>: The current comment, with or without the leading whitespace and <code>'#'</code> as per the <code>full</code> paramenter.</li>
<li><code>None</code>: There is no comment present.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;statement  # comment  &#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_line_comment</span><span class="p">()</span>
<span class="go">&#39;comment&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;statement  # comment  &#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_line_comment</span><span class="p">(</span><span class="n">full</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;  # comment  &#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if a:  # ifc</span><span class="se">\n</span><span class="s1">  pass  # bodyc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_line_comment</span><span class="p">()</span>
<span class="go">&#39;bodyc&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if a:  # ifc</span><span class="se">\n</span><span class="s1">  pass  # bodyc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_line_comment</span><span class="p">()</span>
<span class="go">&#39;ifc&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if a: pass</span><span class="se">\n</span><span class="s1">else:  # elsec</span><span class="se">\n</span><span class="s1">  pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_line_comment</span><span class="p">(</span><span class="s1">&#39;orelse&#39;</span><span class="p">)</span>
<span class="go">&#39;elsec&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.put_line_comment" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">put_line_comment</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">comment</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">,</span> <span class="s1">&#39;finalbody&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">full</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.put_line_comment"></a>
    
            <div class="docstring"><p>Put line comment for this node returning whatever comment was there before.</p>

<p>The line comment is the single comment at the end of the last line of the location of this node, with the
exception of statement block nodes where the line comment lives on the last line of the header of the node
(after the <code>:</code>, since the comment on the last line of the location belongs to the last child).</p>

<p><strong>Note:</strong> Currently this functionality is limited to statement nodes.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>comment</code>: The comment operation to perform after getting the current comment.
<ul>
<li><code><a href="#FST.str">str</a></code>: Put new comment which may or may not need to have the initial <code>'#'</code> according to the <code>full</code>
parameter.</li>
<li><code>None</code>: Delete current comment (if present).</li>
</ul></li>
<li><code>field</code>: If <code>self</code> is a block statement then this can specify which field to operate on, only <code>'body'</code>,
<code>'orelse'</code> and <code>'finalbody'</code> make sense to use and an error will be raised if the field is not present or
there is nothing in it. <code>None</code> means use default <code>'body'</code> if block statement.</li>
<li><code>full</code>:
<ul>
<li><code>False</code>: The gotten comment text is returned stripped of the <code>'#'</code> and any leading and trailing
whitespace. The put <code>comment</code> text is put to existing comment if is present and otherwise is prepended
with <code>'  #'</code> and a single leading whitespace after that if needed and put after the node.</li>
<li><code>True</code>: The entire gotten comment from the end of the node to the end of the line is returned with no
whitespace stripped, e.g. <code>'  # comment  '</code>. The put <code>comment</code> <strong>MUST</strong> start with a <code>'#'</code> and possible
leading whitespace before that and is put verbatim with no stripping, replacing any existing comment
from the end of the node to the end of the line.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST.str">str</a></code>: The current comment, before replacement, with or without the leading whitespace and <code>'#'</code> as per the
<code>full</code> paramenter.</li>
<li><code>None</code>: There was no comment present.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;statement  # comment  &#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">put_line_comment</span><span class="p">(</span><span class="s1">&#39;new comment&#39;</span><span class="p">)</span>
<span class="go">&#39;comment&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">statement  # new comment</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if a:  # ifc</span><span class="se">\n</span><span class="s1">  pass  # bodyc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">put_line_comment</span><span class="p">(</span><span class="s1">&#39;new body comment&#39;</span><span class="p">)</span>
<span class="go">&#39;bodyc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if a:  # ifc</span>
<span class="go">  pass  # new body comment</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if a:  # ifc</span><span class="se">\n</span><span class="s1">  pass  # bodyc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">put_line_comment</span><span class="p">(</span><span class="s1">&#39;new if comment&#39;</span><span class="p">)</span>
<span class="go">&#39;ifc&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if a:  # new if comment</span>
<span class="go">  pass  # bodyc</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if a: pass</span><span class="se">\n</span><span class="s1">else:  # elsec</span><span class="se">\n</span><span class="s1">  pass&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">put_line_comment</span><span class="p">(</span><span class="s1">&#39;new else comment&#39;</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">)</span>
<span class="go">&#39;elsec&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if a: pass</span>
<span class="go">else:  # new else comment</span>
<span class="go">  pass</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.pars" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">pars</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span>, </span><span class="param"><span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="common.html#fstlocn">fst.common.fstlocn</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.pars"></a>
    
            <div class="docstring"><p>Return the location of enclosing <strong>GROUPING</strong> parentheses if present. Will balance parentheses if <code>self</code> is
an element of a tuple and not return the parentheses of the tuple. Likwise will not normally return the
parentheses of an enclosing <code>arguments</code> parent or class bases list (unless <code>shared=None</code>, but that is mostly for
internal use).</p>

<p>Only normally works on (and makes sense for) <code>expr</code> or <code><a href="#FST.pattern">pattern</a></code> nodes, otherwise returns <code>self.bloc</code> and count
of 0. Also handles special case of a single generator expression argument to a function sharing parameters with
the call arguments, in which case a count of -1 and the location of the <code>GeneratorExp</code> without its enclosing
parentheses may be returned, if this is enabled with <code>shared=False</code>.</p>

<p>This function is cached so feel free to call as often as is needed.</p>

<p><strong>Note:</strong> For a <code>Starred</code> this will always return the location of the whole <code>Starred</code> since that cannot be
parenthesized itself but rather its child. If you want he parenteses of the child then do
<code>starred.value.pars()</code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>shared</code>: If <code>True</code> then will include parentheses of a single call argument generator expression if they are
shared with the call arguments enclosing parentheses with a count of 0. If <code>False</code> then does not return
these and returns a count of -1, and thus the location is not a full valid <code>GeneratorExp</code> location. If
<code>None</code> then returns <strong>ANY</strong> directly enclosing parentheses, whether they belong to this node or not.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>fstlocn | None</code>: Location of enclosing parentheses if present else <code>self.bloc</code> (which can be <code>None</code>).
Negative parentheses count (from shared pars solo call arg generator expression) can also be checked in the
case of <code>shared=False</code> via <code>fst.pars() &gt; fst.bloc</code>. If only loc is returned, it will be an <code>fstloc</code> which
will still have the count of parentheses in an attribute <code>.n</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="go">fstlocn(0, 0, 0, 1, n=0)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(i)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="go">fstlocn(0, 0, 0, 3, n=1)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;((i))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="go">fstlocn(0, 0, 0, 5, n=2)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(1, 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>  <span class="c1"># tuple pars are not considered grouping pars</span>
<span class="go">fstlocn(0, 0, 0, 6, n=0)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;((1, 2))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="go">fstlocn(0, 0, 0, 8, n=1)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(a)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>  <span class="c1"># any node, not just root</span>
<span class="go">fstlocn(0, 5, 0, 6, n=0)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call((a))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="go">fstlocn(0, 5, 0, 8, n=1)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(i for i in j)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="go">fstlocn(0, 4, 0, 18, n=0)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(i for i in j)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pars</span><span class="p">(</span><span class="n">shared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># exclude shared pars</span>
<span class="go">fstlocn(0, 5, 0, 17, n=-1)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call((i for i in j))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pars</span><span class="p">(</span><span class="n">shared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">fstlocn(0, 5, 0, 19, n=0)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.par" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">par</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">force</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;invalid&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">whole</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.par"></a>
    
            <div class="docstring"><p>Parenthesize node if it <strong>MAY</strong> need it. Will not parenthesize atoms which are always enclosed like <code>List</code>,
or nodes which are not <code><a href="#FST.is_parenthesizable">is_parenthesizable()</a></code>, unless <code>force=True</code>. Will add intrinsic node-owned parentheses to
unparenthesized <code>Tuple</code> and brackets to unbracketed <code>MatchSequence</code>, adjusting the node location. If dealing with
a <code>Starred</code> then the parentheses are applied to the child.</p>

<p><strong>WARNING!</strong> If you invalid-force-parenthesize something that shouldn't be parenthesized, and you wind up poking
an eye out, that's on you.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>force</code>:
<ul>
<li><code>False</code>: Only parenthesize if not currently parenthesized and if the node type is not an atom or is an
atom which can be split over multiple lines (in which case it would need parentheses for parsability).</li>
<li><code>True</code>: Add a layer of perentheses regardless if any already present or if node type is an atom, but only
if allowed by syntax, e.g. this won't parenthesize an <code><a href="#FST.arg">arg</a></code>, <code>withitem</code> any kind of <code>statement</code> or
anything which would cause a syntax error with the parentheses there, so no <code>Slice</code>s or f-string
<code>Constant</code>s either.</li>
<li><code>'invalid'</code>: Add a layer of parentheses regardless if any already present or even syntactically allowed.</li>
</ul></li>
<li><code>whole</code>: If at root then parenthesize whole source instead of just node, if <code>False</code> then only node.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a + b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;(a + b)&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a + b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># already parenthesized, so nothing done</span>
<span class="go">&#39;(a + b)&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a + b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># force it</span>
<span class="go">&#39;((a + b))&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;1, 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># parenthesize tuple</span>
<span class="go">&#39;(1, 2)&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># an atom doesn&#39;t need parentheses</span>
<span class="go">&#39;i&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># so must be forced</span>
<span class="go">&#39;(i)&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a:b:c&#39;</span><span class="p">,</span> <span class="s1">&#39;Slice&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># syntactically wrong</span>
<span class="go">&#39;a:b:c&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a:b:c&#39;</span><span class="p">,</span> <span class="s1">&#39;Slice&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="s1">&#39;invalid&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># can still force</span>
<span class="go">&#39;(a:b:c)&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="c1"># parethesize MatchSequence puts brackets like ast.unparse()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;1, 2&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;*a or b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># par() a Starred parenthesizes its child</span>
<span class="go">&#39;*(a or b)&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(i = 1 + 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># not just root node</span>
<span class="go">&#39;call(i = (1 + 2))&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.unpar" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">unpar</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">node</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;invalid&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.unpar"></a>
    
            <div class="docstring"><p>Remove all parentheses if present. Normally removes just grouping parentheses but can also remove intrinsic
<code>Tuple</code> node parentheses and <code>MatchSequence</code> parentheses or brackets if <code>node=True</code>. If dealing with a <code>Starred</code>
then the parentheses are checked in and removed from the child.</p>

<p>If <code>shared=None</code> then will also remove parentheses which do not belong to this node but enclose it directly,
this is meant for internal use.</p>

<p><strong>WARNING!</strong> This function doesn't do any higher level parsability validation. So if you unparenthesize
something that shouldn't be unparenthesized, and you wind up poking an eye out, that's on you.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>node</code>: What to remove.
<ul>
<li><code>False</code>: Only grouping parentheses.</li>
<li><code>True</code>: Grouping parentheses and also remove intrinsic parentheses from a parenthesized <code>Tuple</code> and
parentheses / brackets from parenthesized / bracketed <code>MatchSequence</code>. Also from a parentesized
<code>Starred</code> arglike-only expression which can cause it to become unparsable, e.g. <code>*(a or b)</code>.</li>
<li><code>'invalid'</code>: Remove intrinsic delimiters also from <code>List</code>, <code>Set</code>, <code>Dict</code>, <code>MatchMapping</code>, <code>ListComp</code>,
<code>SetComp</code>, <code>DictComp</code> and <code>GeneratorExp</code>.</li>
</ul></li>
<li><code>shared</code>: Whether to allow merge of parentheses of single call argument generator expression with <code>Call</code>
parentheses or not. If <code>None</code> then will attempt to unparenthesize <strong>ANY</strong> enclosing parentheses, whether
they belong to this node or not (meant for internal use).</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a + b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># nothing done if no pars</span>
<span class="go">&#39;a + b&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a + b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;a + b&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;((a + b))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># removes all</span>
<span class="go">&#39;a + b&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(1, 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># but not from tuple</span>
<span class="go">&#39;(1, 2)&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(1, 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># unless explicitly specified</span>
<span class="go">&#39;1, 2&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(((1, 2)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;(1, 2)&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(((1, 2)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;1, 2&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[1, 2]&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[1, 2]&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;1, 2&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;*(a)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># Starred unparenthesizes its child</span>
<span class="go">&#39;*a&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="c1"># unless it is arglike since that is syntax error, the pars belong to the node</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;*(a or b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;*(a or b)&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;*(a or b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># so can force with node=True</span>
<span class="go">&#39;*a or b&#39;</span>
</code></pre>
</div>

<p>Not just root node.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(i = (1 + 2))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;call(i = 1 + 2)&#39;</span>
</code></pre>
</div>

<p>By default allows sharing.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(((i for i in j)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;call(i for i in j)&#39;</span>
</code></pre>
</div>

<p>Unless told not to.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(((i for i in j)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">unpar</span><span class="p">(</span><span class="n">shared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;call((i for i in j))&#39;</span>
</code></pre>
</div>

<p>Invalid stuff.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;{1: a, **rest}&#39;</span><span class="p">,</span> <span class="n">pattern</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="s1">&#39;invalid&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;1: a, **rest&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[i for i in j if i]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="s1">&#39;invalid&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;i for i in j if i&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.scope_symbols" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">scope_symbols</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">full</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">local</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">free</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">import_star</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">]]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">]]]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.scope_symbols"></a>
    
            <div class="docstring"><p>Get the symbols accessed in the scope of <code>self</code> (from <code>self</code> on down, will not search up if <code>self</code> is only
part of a scope and doesn't define its own). Normally should be called on something that has a scope like a
module or function definition or lambda or comprehension, but can be called on anything. Returns either a simple
dictionary of all the symbol names (with the respective <code><a href="#FST">FST</a></code> nodes where they are accessed) or a categorized
dictionary of these if <code>full=True</code>.</p>

<p><strong>Note:</strong> The order of the nodes in the various dictionaries are the order in which they appear
<strong>SYNTACTICALLY</strong>, not the order they will be processed in semantically by the interpreter.</p>

<p><strong>Note:</strong> For <code>AugAssign</code> nodes the same node will appear in both the <code>load</code> and <code>store</code> dictionaries in a
<code>full=True</code> return but only once in the single dictionary returned when <code>full=False</code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>full</code>: Whether to return a single dictionary with all names or a catgorized dictionary of dictionaries. If
<code>True</code> then the categories are:
<ul>
<li><code>'load'</code>: Dictionary of symbol names to list of nodes where these names are read.</li>
<li><code>'store'</code>: Dictionary of symbol names to list of nodes where these names are written.</li>
<li><code>'del'</code>: Dictionary of symbol names to list of nodes where these names are deleted.</li>
<li><code>'global'</code>: Dictionary of symbol names to list of <code>Global</code> nodes where these names are declared. The nodes
aren't where the symbols are used, those are still in the <code>'load'</code> / <code>'store'</code> / <code>'del'</code> lists, just
where they are <strong>DECLARED</strong> as global. Multiple symbol names will probably have the same node since a
single <code>global</code> declaration can declare multiple names and the names themselves don't have their own
individual nodes, they are just strings in the <code>Global</code> node.</li>
<li><code>'nonlocal'</code>: Similar to <code>global</code> but for <code>nonlocal</code> declarations. This is just the declarations, these
are not necessarily all the truly nonlocal symbols as there can be "free" variables which are nonlocal
but not explicitly declared as such.</li>
<li><code>'local'</code>: This is a dictionary of symbols determined to be local to the scope. These are all <code>'store'</code>
symbols which do not appear in either <code>'global'</code> or <code>'nonlocal'</code> explicit declarations. There are no
<code>'load'</code> or <code>'del'</code> nodes in these lists even if they are local both because "local" symbols are defined
as such by a store operation and also because it is faster. If you need any respective <code>'load'</code> or
<code>'del'</code> nodes then look them up in their respective category dictionary.</li>
<li><code>'free'</code>: This is a dictionary of symbols determined to be implicitly nonlocal to the scope. Basically all
nodes which are read but never written or deleted and are not explicitly <code>global</code> or <code>nonlocal</code>. Note
that this is slightly different from the python definition of a "free" variable as those can include
explicitly <code>nonlocal</code> variables. For our purposes here it is only the <strong>IMPLICIT</strong> nonlocal symbols.</li>
</ul></li>
<li><code>local</code>: Whether to compute the <code>'local'</code> category of symbols or not, set to <code>False</code> if you don't need this.</li>
<li><code>free</code>: Whether to compute the <code>'free'</code> category symbols or not, set to <code>False</code> if you don't need this.</li>
<li><code>import_star</code>: Normally a <code>from mod import *</code> does not generate any symbols. If you pass this parameter as
<code>True</code> then the <code>*</code> (invalid) name with its <code>alias</code> node is added to the <code>'store'</code> category.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(v=b): v = a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scope_symbols</span><span class="p">())</span>  <span class="c1"># notice no &#39;b&#39; or &#39;f&#39;</span>
<span class="go">{&#39;v&#39;: [&lt;arg 0,6..0,7&gt;, &lt;Name 0,12..0,13&gt;], &#39;a&#39;: [&lt;Name 0,16..0,17&gt;]}</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">def func(arg: int = default) -&gt; object:</span>
<span class="gp">... </span><span class="s1">    global mod0, declared_global  # this will make the import global</span>
<span class="gp">... </span><span class="s1">    nonlocal aug</span>
<span class="gp">... </span><span class="s1">    loc = arg</span>
<span class="gp">... </span><span class="s1">    del delete</span>
<span class="gp">... </span><span class="s1">    aug += implicit_nonlocal</span>
<span class="gp">... </span><span class="s1">    import mod0</span>
<span class="gp">... </span><span class="s1">    import mod1.submod</span>
<span class="gp">... </span><span class="s1">    import mod2 as asname1</span>
<span class="gp">... </span><span class="s1">    from mod3 import mod_name1</span>
<span class="gp">... </span><span class="s1">    from mod4 import mod_name2 as asname2</span>
<span class="gp">... </span><span class="s1">    from mod5 import *</span>
<span class="gp">... </span><span class="s1">    return str(arg)</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span><span class="o">.</span><span class="n">scope_symbols</span><span class="p">(</span><span class="n">full</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">import_star</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">{&#39;load&#39;: {&#39;arg&#39;: [&lt;Name 3,10..3,13&gt;, &lt;Name 12,15..12,18&gt;],</span>
<span class="go">          &#39;aug&#39;: [&lt;Name 5,4..5,7&gt;],</span>
<span class="go">          &#39;implicit_nonlocal&#39;: [&lt;Name 5,11..5,28&gt;],</span>
<span class="go">          &#39;str&#39;: [&lt;Name 12,11..12,14&gt;]},</span>
<span class="go"> &#39;store&#39;: {&#39;arg&#39;: [&lt;arg 0,9..0,17&gt;],</span>
<span class="go">           &#39;loc&#39;: [&lt;Name 3,4..3,7&gt;],</span>
<span class="go">           &#39;aug&#39;: [&lt;Name 5,4..5,7&gt;],</span>
<span class="go">           &#39;mod0&#39;: [&lt;alias 6,11..6,15&gt;],</span>
<span class="go">           &#39;mod1&#39;: [&lt;alias 7,11..7,22&gt;],</span>
<span class="go">           &#39;asname1&#39;: [&lt;alias 8,11..8,26&gt;],</span>
<span class="go">           &#39;mod_name1&#39;: [&lt;alias 9,21..9,30&gt;],</span>
<span class="go">           &#39;asname2&#39;: [&lt;alias 10,21..10,41&gt;],</span>
<span class="go">           &#39;*&#39;: [&lt;alias 11,21..11,22&gt;]},</span>
<span class="go"> &#39;del&#39;: {&#39;delete&#39;: [&lt;Name 4,8..4,14&gt;]},</span>
<span class="go"> &#39;global&#39;: {&#39;mod0&#39;: [&lt;Global 1,4..1,32&gt;],</span>
<span class="go">            &#39;declared_global&#39;: [&lt;Global 1,4..1,32&gt;]},</span>
<span class="go"> &#39;nonlocal&#39;: {&#39;aug&#39;: [&lt;Nonlocal 2,4..2,16&gt;]},</span>
<span class="go"> &#39;local&#39;: {&#39;arg&#39;: [&lt;arg 0,9..0,17&gt;],</span>
<span class="go">           &#39;loc&#39;: [&lt;Name 3,4..3,7&gt;],</span>
<span class="go">           &#39;mod1&#39;: [&lt;alias 7,11..7,22&gt;],</span>
<span class="go">           &#39;asname1&#39;: [&lt;alias 8,11..8,26&gt;],</span>
<span class="go">           &#39;mod_name1&#39;: [&lt;alias 9,21..9,30&gt;],</span>
<span class="go">           &#39;asname2&#39;: [&lt;alias 10,21..10,41&gt;],</span>
<span class="go">           &#39;*&#39;: [&lt;alias 11,21..11,22&gt;]},</span>
<span class="go"> &#39;free&#39;: {&#39;implicit_nonlocal&#39;: [&lt;Name 5,11..5,28&gt;],</span>
<span class="go">          &#39;str&#39;: [&lt;Name 12,11..12,14&gt;]}}</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.walk" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">walk</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="nb">all</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Container</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]],</span> <span class="n">Callable</span><span class="p">[[</span><span class="n"><a href="#FST">FST</a></span><span class="p">],</span> <span class="nb">object</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">recurse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">scope</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">back</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">asts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">Generator</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.walk"></a>
    
            <div class="docstring"><p>Walk <code>self</code> and descendants in syntactic order.</p>

<p>When walking, you can <code>send(False)</code> to the generator to skip recursion into the current child. <code>send(True)</code> will
allow recursion into child if called with <code>recurse=False</code> or <code>scope=True</code> would otherwise disallow it. Can send
multiple times, last value sent takes effect.</p>

<p>The walk is defined forwards or backwards in that it returns a parent, then recurses into the children and walks
those in the given direction, recursing into each child's children before continuing with siblings. Walking
backwards will not generate the same sequence as <code>list(walk())[::-1]</code> due to this behavior.</p>

<p>Node <strong>REPLACEMENT</strong> and <strong>DELETION</strong> during the walk is supported with some caveats. The most important and useful
rule to remember is:</p>

<ul>
<li>The current node can always be deleted, replaced or inserted before or after (if list field). If replaced the new
children will be walked next unless you explicitly <code>send(False)</code> to the generator. Note that on replace the new
children can only be walked if the replacement was of the single current node as a single element operation. If
the replacement was with a slice operation then the children will not be walked.</li>
</ul>

<p>The rest of the details are:</p>

<ul>
<li>Child nodes of the current node can be replaced and they will be walked when the walk gets to them.</li>
<li>Sibling nodes of either this node or any parents which have not been walked yet can be deleted, replaced or
inserted before but the new nodes will not be walked (and neither will any deleted nodes).</li>
<li>Previously walked nodes can likewise be deleted, replaced or inserted before.</li>
<li>Replacing or deleting a node in the current parent chain is allowed and will cause the walk to continue at its
following siblings which were not modified.</li>
<li>The header said replacement and deletion, so <code>del</code>, <code><a href="#FST.remove">remove()</a></code>, <code><a href="#FST.replace">replace()</a></code>, <code><a href="#FST.put">put()</a></code>, etc... Not <code>.cut()</code> or
<code>get(..., cut=True)</code>, with or without inserting them somewhere else. If cut, those nodes may still wind up
being walked as part of this walk, even if transferred to a different tree. If you wish to do this kind of
operation during a walk then either explicitly copy then delete the node(s), or defer the cut and move until
after the walk.</li>
<li><code>raw</code> operations can change a lot of nodes and cause the walk to miss some you thought would get walked, but they
will not cause the walk to break.</li>
</ul>

<p><strong>Note:</strong> About scopes, the <code>NamedExpr</code> (walrus) expression is treated specially in a Comprehension (capital 'C' to
differentiate from the node type <code>comprehension</code>). The <code><a href="#FST.target">target</a></code> of the operation actually belongs to the first
non-Comprehension enclosing scope. For this reason, when a walk recurses into a Comprehension scope the walrus
<code><a href="#FST.target">target</a></code> nodes are still returned even though everything else belongs to the Comprehension scope and is not returned
(except for the first <code>comprehension.iter</code>, which also belongs to the enclosing scope). This remains true for
whatever level of nesting of Comprehensions is recursed into. One quirk, if starting a scope walk on a
Comprehension, any walrus <code><a href="#FST.target">target</a></code>s <strong>WILL</strong> be returned, the first iterator though will not. This is on purpose.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>all</code>: Whether to return all nodes or only specific types.
<ul>
<li><code>True</code>: All nodes will be returned.</li>
<li><code>False</code>: Only nodes which have intrinsic <code>AST</code> locations and also larger calculated location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present). Operators are not returned (even though they have calculated locations).</li>
<li><code>'loc'</code>: Same as <code>True</code> but always returns <code>arguments</code> even if empty (as it has a location even then). Also
operators with calculated locations (excluding <code>and</code> and <code>or</code> since they do not always have a well defined
location).</li>
<li><code>type[AST]</code>: A singe <strong>LEAF</strong> <code>AST</code> type to return. This will not constrain the walk, just filter which nodes
are returned.</li>
<li><code>Container[type[AST]]</code>: A container of <strong>LEAF</strong> <code>AST</code> types to return. Best container type is a <code>set</code>,
<code>frozenset</code> or <code>dict</code> with the keys being the <code>AST</code> classes as those are the fastest checks. This will not
constrain the walk, just filter which nodes are returned.</li>
<li><code>Callable[[<a href="#FST">fst.FST</a>], object]</code>: Call out to an external function for each node which should return a truthy or
falsey object for whether to yield the node or not.</li>
</ul></li>
<li><code>self_</code>: If <code>True</code> then self will be returned first with the possibility to skip children with <code>send(False)</code>,
otherwise will start directly with children.</li>
<li><code>recurse</code>: Whether to recurse past the first level of children by default, <code>send(True)</code> for a given node will
always override this. Meaning that if <code>False</code>, will only return <code>self</code> (if allowed to by <code>self_</code>) and the
the immediate children of <code>self</code> and no deeper.</li>
<li><code>scope</code>: If <code>True</code> then will walk only within the scope of <code>self</code>. Meaning if called on a <code>FunctionDef</code> then
will only walk children which are within the function scope. Will yield children which have their own
scopes, and the parts of them which are visible in this scope (like default argument values), but will not
recurse into
them unless <code>send(True)</code> is done for that child.</li>
<li><code>back</code>: If <code>True</code> then walk every node in reverse syntactic order. This is not the same as a full forwards
walk reversed due to recursion (parents are still returned before children, only in reverse sibling order).</li>
<li><code>asts</code>: If this is provided as a list of <code>AST</code> nodes then this is used for the initial list of nodes to walk and
recurse into (if recurse allowed). In this case <code>self_</code> is ignored and no setup is done in case of <code>scope</code>,
though <code>scope</code> is honored for recursing into child scopes. <code>recurse</code> and <code>back</code> are also honored (<code>back</code> will
reverse the order of the walk for the given <code>asts</code> as expected). No syntax ordering is done on this list, it is
walked "as-is", so it may just be a collection of different nodes to walk individually. The <code>asts</code> list is not
consumed.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>Generator</code>: This will yield the nodes which fit the parametes. Can also <code>send(True)</code> or <code>send(False)</code> to this
generator to explicitly indicate whether to recurse or not into the yielded node. Sending to the generator does
not advance the iteration and can be done an arbitrary number of times before continuing with the iteration.</li>
</ul>

<p><strong>Examples:</strong></p>

<p>Normal walk.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[pre, [child], post]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="p">(</span><span class="n">gen</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">walk</span><span class="p">()):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">g</span><span class="si">!r:</span><span class="s1">&lt;23</span><span class="si">}{</span><span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">[:</span><span class="mi">47</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">is_List</span> <span class="ow">and</span> <span class="n">g</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">src</span> <span class="o">==</span> <span class="s1">&#39;send_False&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">gen</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&lt;List ROOT 0,0..0,20&gt;  [pre, [child], post]</span>
<span class="go">&lt;Name 0,1..0,4&gt;        pre</span>
<span class="go">&lt;List 0,6..0,13&gt;       [child]</span>
<span class="go">&lt;Name 0,7..0,12&gt;       child</span>
<span class="go">&lt;Name 0,15..0,19&gt;      post</span>
</code></pre>
</div>

<p>Reject recursion into a child.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[pre, [send_False], post]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="p">(</span><span class="n">gen</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">walk</span><span class="p">()):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">g</span><span class="si">!r:</span><span class="s1">&lt;23</span><span class="si">}{</span><span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">[:</span><span class="mi">47</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">is_List</span> <span class="ow">and</span> <span class="n">g</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">src</span> <span class="o">==</span> <span class="s1">&#39;send_False&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">gen</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&lt;List ROOT 0,0..0,25&gt;  [pre, [send_False], post]</span>
<span class="go">&lt;Name 0,1..0,4&gt;        pre</span>
<span class="go">&lt;List 0,6..0,18&gt;       [send_False]</span>
<span class="go">&lt;Name 0,20..0,24&gt;      post</span>
</code></pre>
</div>

<p>Walk nodes that are part of a scope. We walk with <code>self_=False</code> just to not print the top level mutliline function,
the rest of the walk over the children just goes as normal.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">def func(func_arg=func_def) -&gt; bool:</span>
<span class="gp">... </span><span class="s1">    def sub(sub_arg=sub_def) -&gt; int: pass</span>
<span class="gp">... </span><span class="s1">    val = [i := j for j in iterator]</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">self_</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">g</span><span class="si">!r:</span><span class="s1">&lt;25</span><span class="si">}{</span><span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">[:</span><span class="mi">47</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">&lt;arguments 0,9..0,26&gt;    func_arg=func_def</span>
<span class="go">&lt;arg 0,9..0,17&gt;          func_arg</span>
<span class="go">&lt;FunctionDef 1,4..1,41&gt;  def sub(sub_arg=sub_def) -&gt; int: pass</span>
<span class="go">&lt;Name 1,20..1,27&gt;        sub_def</span>
<span class="go">&lt;Name 1,32..1,35&gt;        int</span>
<span class="go">&lt;Assign 2,4..2,36&gt;       val = [i := j for j in iterator]</span>
<span class="go">&lt;Name 2,4..2,7&gt;          val</span>
<span class="go">&lt;ListComp 2,10..2,36&gt;    [i := j for j in iterator]</span>
<span class="go">&lt;Name 2,11..2,12&gt;        i</span>
<span class="go">&lt;Name 2,27..2,35&gt;        iterator</span>
</code></pre>
</div>

<p>Replace all <code>Name</code> nodes.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">ast</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a * (x.y + u[v])&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="n">ast</span><span class="o">.</span><span class="n">Name</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">_</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;new_&#39;</span> <span class="o">+</span> <span class="n">g</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">new_a * (new_x.y + new_u[new_v])</span>
</code></pre>
</div>

<p>Replace nodes around us. The replacement doesn't have to be executed on the node being walked, it can be on any
node. Note how replacing a node that hasn't been walked yet removes both that node <strong>AND</strong> the replacement node from
the walk. After the walk though, all nodes which were replaced have their new values.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[pre_parent, [pre_self, [child], post_self], post_parent]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">walk</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">g</span><span class="si">!r:</span><span class="s1">&lt;23</span><span class="si">}{</span><span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">[:</span><span class="mi">57</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">src</span> <span class="o">==</span> <span class="s1">&#39;[child]&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;new_pre_parent&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;new_post_parent&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;new_pre_self&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;new_post_self&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;new_child&#39;</span><span class="p">)</span>
<span class="go">&lt;List ROOT 0,0..0,57&gt;  [pre_parent, [pre_self, [child], post_self], post_parent]</span>
<span class="go">&lt;Name 0,1..0,11&gt;       pre_parent</span>
<span class="go">&lt;List 0,13..0,43&gt;      [pre_self, [child], post_self]</span>
<span class="go">&lt;Name 0,14..0,22&gt;      pre_self</span>
<span class="go">&lt;List 0,24..0,31&gt;      [child]</span>
<span class="go">&lt;Name 0,33..0,42&gt;      new_child</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">[new_pre_parent, [new_pre_self, [new_child], new_post_self], new_post_parent]</span>
</code></pre>
</div>

<p>Replacing or removing a parent node is allowed and the walk will continue where it can.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[pre_grand, [pre_parent, [self], post_parent], post_grand]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">walk</span><span class="p">():</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">g</span><span class="si">!r:</span><span class="s1">&lt;23</span><span class="si">}{</span><span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">[:</span><span class="mi">58</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">src</span> <span class="o">==</span> <span class="s1">&#39;self&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">g</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>  <span class="c1"># [pre_parent, [self], post_parent]</span>
<span class="go">&lt;List ROOT 0,0..0,58&gt;  [pre_grand, [pre_parent, [self], post_parent], post_grand]</span>
<span class="go">&lt;Name 0,1..0,10&gt;       pre_grand</span>
<span class="go">&lt;List 0,12..0,45&gt;      [pre_parent, [self], post_parent]</span>
<span class="go">&lt;Name 0,13..0,23&gt;      pre_parent</span>
<span class="go">&lt;List 0,25..0,31&gt;      [self]</span>
<span class="go">&lt;Name 0,26..0,30&gt;      self</span>
<span class="go">&lt;Name 0,12..0,22&gt;      post_grand</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">[pre_grand, post_grand]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, [2, 3], 4, 5]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">src</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">asts</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])))</span>
<span class="go">[&#39;1&#39;, &#39;[2, 3]&#39;, &#39;2&#39;, &#39;3&#39;]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">src</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">asts</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">back</span><span class="o">=</span><span class="kc">True</span><span class="p">)))</span>
<span class="go">[&#39;[2, 3]&#39;, &#39;3&#39;, &#39;2&#39;, &#39;1&#39;]</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.next" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="nb">all</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Container</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.next"></a>
    
            <div class="docstring"><p>Get next sibling of <code>self</code> in syntactic order, only within parent.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>all</code>: Whether to return all nodes or only specific types.
<ul>
<li><code>True</code>: All nodes will be returned.</li>
<li><code>False</code>: Only nodes which have intrinsic <code>AST</code> locations and also larger calculated location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present). Operators are not returned (even though they have calculated location).</li>
<li><code>'loc'</code>: Same as <code>True</code> but always returns <code>arguments</code> even if empty (as it has a location even then). Also
operators with calculated locations (excluding <code>and</code> and <code>or</code> since they do not always have a well defined
location).</li>
<li><code>type[AST]</code>: A singe <strong>LEAF</strong> <code>AST</code> type to return. This will not constrain the walk, just filter which nodes
are returned.</li>
<li><code>Container[type[AST]]</code>: A container of <strong>LEAF</strong> <code>AST</code> types to return. Best container type is a <code>set</code>,
<code>frozenset</code> or <code>dict</code> with the keys being the <code>AST</code> classes as those are the fastest checks.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if last valid sibling in parent, otherwise next node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">next</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[3, 4]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
<span class="go">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.prev" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">prev</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="nb">all</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Container</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.prev"></a>
    
            <div class="docstring"><p>Get previous sibling of <code>self</code> in syntactic order, only within parent.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>all</code>: Whether to return all nodes or only specific types.
<ul>
<li><code>True</code>: All nodes will be returned.</li>
<li><code>False</code>: Only nodes which have intrinsic <code>AST</code> locations and also larger calculated location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present). Operators are not returned (even though they have calculated location).</li>
<li><code>'loc'</code>: Same as <code>True</code> but always returns <code>arguments</code> even if empty (as it has a location even then). Also
operators with calculated locations (excluding <code>and</code> and <code>or</code> since they do not always have a well defined
location).</li>
<li><code>type[AST]</code>: A singe <strong>LEAF</strong> <code>AST</code> type to return. This will not constrain the walk, just filter which nodes
are returned.</li>
<li><code>Container[type[AST]]</code>: A container of <strong>LEAF</strong> <code>AST</code> types to return. Best container type is a <code>set</code>,
<code>frozenset</code> or <code>dict</code> with the keys being the <code>AST</code> classes as those are the fastest checks.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if first valid sibling in parent, otherwise previous node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">prev</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">prev</span><span class="p">())</span>
<span class="go">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.first_child" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">first_child</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="nb">all</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Container</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.first_child"></a>
    
            <div class="docstring"><p>Get first valid child in syntactic order.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>all</code>: Whether to return all nodes or only specific types.
<ul>
<li><code>True</code>: All nodes will be returned.</li>
<li><code>False</code>: Only nodes which have intrinsic <code>AST</code> locations and also larger calculated location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present). Operators are not returned (even though they have calculated location).</li>
<li><code>'loc'</code>: Same as <code>True</code> but always returns <code>arguments</code> even if empty (as it has a location even then). Also
operators with calculated locations (excluding <code>and</code> and <code>or</code> since they do not always have a well defined
location).</li>
<li><code>type[AST]</code>: A singe <strong>LEAF</strong> <code>AST</code> type to return. This will not constrain the walk, just filter which nodes
are returned.</li>
<li><code>Container[type[AST]]</code>: A container of <strong>LEAF</strong> <code>AST</code> types to return. Best container type is a <code>set</code>,
<code>frozenset</code> or <code>dict</code> with the keys being the <code>AST</code> classes as those are the fastest checks.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if no valid children, otherwise first valid child.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a: list[str], /, reject: int, *c, d=100, **e): pass&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">first_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;a: list[str], /, reject: int, *c, d=100, **e&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">first_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;a: list[str]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">first_child</span><span class="p">()</span><span class="o">.</span><span class="n">first_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;list[str]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.last_child" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">last_child</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="nb">all</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Container</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.last_child"></a>
    
            <div class="docstring"><p>Get last valid child in syntactic order.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>all</code>: Whether to return all nodes or only specific types.
<ul>
<li><code>True</code>: All nodes will be returned.</li>
<li><code>False</code>: Only nodes which have intrinsic <code>AST</code> locations and also larger calculated location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present). Operators are not returned (even though they have calculated location).</li>
<li><code>'loc'</code>: Same as <code>True</code> but always returns <code>arguments</code> even if empty (as it has a location even then). Also
operators with calculated locations (excluding <code>and</code> and <code>or</code> since they do not always have a well defined
location).</li>
<li><code>type[AST]</code>: A singe <strong>LEAF</strong> <code>AST</code> type to return. This will not constrain the walk, just filter which nodes
are returned.</li>
<li><code>Container[type[AST]]</code>: A container of <strong>LEAF</strong> <code>AST</code> types to return. Best container type is a <code>set</code>,
<code>frozenset</code> or <code>dict</code> with the keys being the <code>AST</code> classes as those are the fastest checks.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if no valid children, otherwise last valid child.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a: list[str], /, reject: int, *c, d=100, **e): pass&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">last_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;pass&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">last_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;e&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.last_header_child" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">last_header_child</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="nb">all</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Container</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.last_header_child"></a>
    
            <div class="docstring"><p>Get last valid child in syntactic order in a block header (before the <code>:</code>), e.g. the <code>something</code> in
<code>if something: pass</code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>all</code>: Whether to return all nodes or only specific types.
<ul>
<li><code>True</code>: All nodes will be returned.</li>
<li><code>False</code>: Only nodes which have intrinsic <code>AST</code> locations and also larger calculated location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present). Operators are not returned (even though they have calculated location).</li>
<li><code>'loc'</code>: Same as <code>True</code> but always returns <code>arguments</code> even if empty (as it has a location even then). Also
operators with calculated locations (excluding <code>and</code> and <code>or</code> since they do not always have a well defined
location).</li>
<li><code>type[AST]</code>: A singe <strong>LEAF</strong> <code>AST</code> type to return. This will not constrain the walk, just filter which nodes
are returned.</li>
<li><code>Container[type[AST]]</code>: A container of <strong>LEAF</strong> <code>AST</code> types to return. Best container type is a <code>set</code>,
<code>frozenset</code> or <code>dict</code> with the keys being the <code>AST</code> classes as those are the fastest checks.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if no valid children or if <code>self</code> is not a block statement, otherwise last valid child in the block
header.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if something:</span><span class="se">\n</span><span class="s1">    i = 2</span><span class="se">\n</span><span class="s1">    i = 3&#39;</span><span class="p">)</span>
<span class="gp">... </span>      <span class="o">.</span><span class="n">last_header_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">something</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except Exception as exc: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">... </span>      <span class="o">.</span><span class="n">last_header_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">Exception</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;with a, b: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">last_header_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">b</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">finally: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">last_header_child</span><span class="p">())</span>
<span class="go">None</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">last_header_child</span><span class="p">())</span>
<span class="go">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.next_child" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_child</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="n">from_child</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>,</span><span class="param">	<span class="nb">all</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Container</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.next_child"></a>
    
            <div class="docstring"><p>Get the next child in syntactic order, meant for simple iteration.</p>

<p>This is a slower way to iterate vs. <code><a href="#FST.walk">walk()</a></code>, but will walk any modified future sibling nodes not yet walked as long
as the replaced node and its parent is used for the following call.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>all</code>: Whether to return all nodes or only specific types.
<ul>
<li><code>True</code>: All nodes will be returned.</li>
<li><code>False</code>: Only nodes which have intrinsic <code>AST</code> locations and also larger calculated location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present). Operators are not returned (even though they have calculated location).</li>
<li><code>'loc'</code>: Same as <code>True</code> but always returns <code>arguments</code> even if empty (as it has a location even then). Also
operators with calculated locations (excluding <code>and</code> and <code>or</code> since they do not always have a well defined
location).</li>
<li><code>type[AST]</code>: A singe <strong>LEAF</strong> <code>AST</code> type to return. This will not constrain the walk, just filter which nodes
are returned.</li>
<li><code>Container[type[AST]]</code>: A container of <strong>LEAF</strong> <code>AST</code> types to return. Best container type is a <code>set</code>,
<code>frozenset</code> or <code>dict</code> with the keys being the <code>AST</code> classes as those are the fastest checks.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if last valid child in <code>self</code>, otherwise next child node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">next_child</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[3, 4]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">next_child</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="go">None</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[this, is_, reparsed, each, step, and_, still, walks, ok]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">next_child</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">n</span><span class="o">.</span><span class="n">is_Name</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">id</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[siht, _si, desraper, hcae, pets, _dna, llits, sklaw, ko]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.prev_child" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">prev_child</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="n">from_child</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>,</span><span class="param">	<span class="nb">all</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Container</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.prev_child"></a>
    
            <div class="docstring"><p>Get the previous child in syntactic order, meant for simple iteration.</p>

<p>This is a slower way to iterate vs. <code><a href="#FST.walk">walk()</a></code> but will walk any modified future sibling nodes not yet walked as long
as the replaced node and its parent is used for the following call.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>all</code>: Whether to return all nodes or only specific types.
<ul>
<li><code>True</code>: All nodes will be returned.</li>
<li><code>False</code>: Only nodes which have intrinsic <code>AST</code> locations and also larger calculated location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present). Operators are not returned (even though they have calculated location).</li>
<li><code>'loc'</code>: Same as <code>True</code> but always returns <code>arguments</code> even if empty (as it has a location even then). Also
operators with calculated locations (excluding <code>and</code> and <code>or</code> since they do not always have a well defined
location).</li>
<li><code>type[AST]</code>: A singe <strong>LEAF</strong> <code>AST</code> type to return. This will not constrain the walk, just filter which nodes
are returned.</li>
<li><code>Container[type[AST]]</code>: A container of <strong>LEAF</strong> <code>AST</code> types to return. Best container type is a <code>set</code>,
<code>frozenset</code> or <code>dict</code> with the keys being the <code>AST</code> classes as those are the fastest checks.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if first valid child in <code>self</code>, otherwise previous child node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">prev_child</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">prev_child</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="go">None</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[this, is_, reparsed, each, step, and_, still, walks, ok]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">prev_child</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">n</span><span class="o">.</span><span class="n">is_Name</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">id</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[siht, _si, desraper, hcae, pets, _dna, llits, sklaw, ko]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.step_fwd" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">step_fwd</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="nb">all</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Container</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">recurse_self</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">top</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.step_fwd"></a>
    
            <div class="docstring"><p>Step forward in the tree in syntactic order, as if <code><a href="#FST.walk">walk()</a></code>ing forward, <strong>NOT</strong> the inverse of <code><a href="#FST.step_back">step_back()</a></code>. Will
walk up parents and down children to get the next node, returning <code>None</code> only when we are at the end of the whole
thing.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>all</code>: Whether to return all nodes or only specific types.
<ul>
<li><code>True</code>: All nodes will be returned.</li>
<li><code>False</code>: Only nodes which have intrinsic <code>AST</code> locations and also larger calculated location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present). Operators are not returned (even though they have calculated location).</li>
<li><code>'loc'</code>: Same as <code>True</code> but always returns <code>arguments</code> even if empty (as it has a location even then). Also
operators with calculated locations (excluding <code>and</code> and <code>or</code> since they do not always have a well defined
location).</li>
<li><code>type[AST]</code>: A singe <strong>LEAF</strong> <code>AST</code> type to return. This will not constrain the walk, just filter which nodes
are returned.</li>
<li><code>Container[type[AST]]</code>: A container of <strong>LEAF</strong> <code>AST</code> types to return. Best container type is a <code>set</code>,
<code>frozenset</code> or <code>dict</code> with the keys being the <code>AST</code> classes as those are the fastest checks.</li>
</ul></li>
<li><code>recurse_self</code>: Whether to allow recursion into <code>self</code> to return children or move directly to next nodes of
<code>self</code> on start.</li>
<li><code>top</code>: If present, specifies the top of the container we are walking. This is checked on the way up out of
children and not returned when encountered, rather <code>None</code> is returned. Passing this allows you to restrict a
walk to a certain scope or container. It is checked on entry if there are no children, so you can make the first
call on this node without problem.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if last valid node in tree, otherwise next node in order.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">step_fwd</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;1&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">step_fwd</span><span class="p">(</span><span class="n">recurse_self</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[3, 4]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;2&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">step_fwd</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[3, 4]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[this, [is_, [reparsed, each], step, and_, still], walks, ok]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">n</span><span class="o">.</span><span class="n">is_Name</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">id</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">n</span> <span class="o">:=</span> <span class="n">n</span><span class="o">.</span><span class="n">step_fwd</span><span class="p">()):</span>
<span class="gp">... </span>        <span class="k">break</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[siht, [_si, [desraper, hcae], pets, _dna, llits], sklaw, ko]&#39;</span>
</code></pre>
</div>

<p>Example from <code><a href="#FST.walk">walk()</a></code> but using this method all modified nodes are walked.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[pre_parent, [pre_self, [child], post_self], post_parent]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">g</span><span class="si">!r:</span><span class="s1">&lt;23</span><span class="si">}{</span><span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">[:</span><span class="mi">57</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">g</span><span class="o">.</span><span class="n">src</span> <span class="o">==</span> <span class="s1">&#39;[child]&#39;</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;new_pre_parent&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;new_post_parent&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;new_pre_self&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;new_post_self&#39;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">_</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;new_child&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">g</span> <span class="o">:=</span> <span class="n">g</span><span class="o">.</span><span class="n">step_fwd</span><span class="p">()):</span>
<span class="gp">... </span>        <span class="k">break</span>
<span class="go">&lt;List ROOT 0,0..0,57&gt;  [pre_parent, [pre_self, [child], post_self], post_parent]</span>
<span class="go">&lt;Name 0,1..0,11&gt;       pre_parent</span>
<span class="go">&lt;List 0,13..0,43&gt;      [pre_self, [child], post_self]</span>
<span class="go">&lt;Name 0,14..0,22&gt;      pre_self</span>
<span class="go">&lt;List 0,24..0,31&gt;      [child]</span>
<span class="go">&lt;Name 0,33..0,42&gt;      new_child</span>
<span class="go">&lt;Name 0,45..0,58&gt;      new_post_self</span>
<span class="go">&lt;Name 0,61..0,76&gt;      new_post_parent</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">[new_pre_parent, [new_pre_self, [new_child], new_post_self], new_post_parent]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[a, [b, c], d]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">g</span> <span class="o">:=</span> <span class="n">g</span><span class="o">.</span><span class="n">step_fwd</span><span class="p">(</span><span class="n">Name</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">a</span>
<span class="go">b</span>
<span class="go">c</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.step_back" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">step_back</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="nb">all</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Container</span><span class="p">[</span><span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">recurse_self</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">top</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.step_back"></a>
    
            <div class="docstring"><p>Step backward in the tree in syntactic order, as if <code><a href="#FST.walk">walk()</a></code>ing backward, <strong>NOT</strong> the inverse of <code><a href="#FST.step_fwd">step_fwd()</a></code>.
Will walk up parents and down children to get the next node, returning <code>None</code> only when we are at the beginning
of the whole thing.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>all</code>: Whether to return all nodes or only specific types.
<ul>
<li><code>True</code>: All nodes will be returned.</li>
<li><code>False</code>: Only nodes which have intrinsic <code>AST</code> locations and also larger calculated location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present). Operators are not returned (even though they have calculated location).</li>
<li><code>'loc'</code>: Same as <code>True</code> but always returns <code>arguments</code> even if empty (as it has a location even then). Also
operators with calculated locations (excluding <code>and</code> and <code>or</code> since they do not always have a well defined
location).</li>
<li><code>type[AST]</code>: A singe <strong>LEAF</strong> <code>AST</code> type to return. This will not constrain the walk, just filter which nodes
are returned.</li>
<li><code>Container[type[AST]]</code>: A container of <strong>LEAF</strong> <code>AST</code> types to return. Best container type is a <code>set</code>,
<code>frozenset</code> or <code>dict</code> with the keys being the <code>AST</code> classes as those are the fastest checks.</li>
</ul></li>
<li><code>recurse_self</code>: Whether to allow recursion into <code>self</code> to return children or move directly to previous nodes
of <code>self</code> on start.</li>
<li><code>top</code>: If present, specifies the top of the container we are walking. This is checked on the way up out of
children and not returned when encountered, rather <code>None</code> is returned. Passing this allows you to restrict a
walk to a certain scope or container. It is checked on entry if there are no children, so you can make the first
call on this node without problem.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if first valid node in tree, otherwise previous node in order.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[3, 4]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">step_back</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;4&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">step_back</span><span class="p">(</span><span class="n">recurse_self</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;3&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">step_back</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[1, 2]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[this, [is_, [reparsed, each], step, and_, still], walks, ok]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">n</span><span class="o">.</span><span class="n">is_Name</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">id</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">n</span> <span class="o">:=</span> <span class="n">n</span><span class="o">.</span><span class="n">step_back</span><span class="p">()):</span>
<span class="gp">... </span>        <span class="k">break</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;[siht, [_si, [desraper, hcae], pets, _dna, llits], sklaw, ko]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[a, [b, c], d]&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">g</span> <span class="o">:=</span> <span class="n">g</span><span class="o">.</span><span class="n">step_back</span><span class="p">(</span><span class="n">Name</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">d</span>
<span class="go">c</span>
<span class="go">b</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parents" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parents</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">Generator</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">NoneType</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parents"></a>
    
            <div class="docstring"><p>Generator which yields parents all the way up to root. If <code>self_</code> is <code>True</code> then will yield <code>self</code> first.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>self_</code>: Whether to yield <code>self</code> first.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>Generator</code>: Will walk up the parent chain.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = (f(), g())&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parents</span><span class="p">())</span>
<span class="go">[&lt;Tuple 0,4..0,14&gt;, &lt;Assign 0,0..0,14&gt;, &lt;Module ROOT 0,0..0,14&gt;]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = (f(), g())&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parents</span><span class="p">(</span><span class="n">self_</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">[&lt;Call 0,5..0,8&gt;, &lt;Tuple 0,4..0,14&gt;, &lt;Assign 0,0..0,14&gt;, &lt;Module ROOT 0,0..0,14&gt;]</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_stmt" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_stmt</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">mod</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_stmt"></a>
    
            <div class="docstring"><p>The first parent which is a <code>stmt</code> or optionally <code>mod</code> node (if any). If <code>self_</code> is <code>True</code> then will check
<code>self</code> first (possibly returning <code>self</code>), otherwise only checks parents.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>self_</code>: Whether to include <code>self</code> in the search, if so and <code>self</code> matches criteria then it is returned.</li>
<li><code>mod</code>: Whether to return <code>mod</code> nodes if found.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: First <code>stmt</code> or optionally <code>mod</code> parent if present, else <code>None</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_stmt</span><span class="p">()</span>
<span class="go">&lt;Assign 0,6..0,11&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmt</span><span class="p">()</span>
<span class="go">&lt;If 0,0..0,11&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmt</span><span class="p">()</span>
<span class="go">&lt;Module ROOT 0,0..0,11&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmt</span><span class="p">(</span><span class="n">mod</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">None</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmt</span><span class="p">(</span><span class="n">self_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&lt;If 0,0..0,11&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_stmtlike" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_stmtlike</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">mod</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_stmtlike"></a>
    
            <div class="docstring"><p>The first parent which is a <code>stmt</code>, <code>ExceptHandler</code>, <code>match_case</code> or optionally <code>mod</code> node (if any). If
<code>self_</code> is <code>True</code> then will check <code>self</code> first, otherwise only checks parents.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: First <code>stmtlike</code> or optionally <code>mod</code> parent if present, else <code>None</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except: pass&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmtlike</span><span class="p">())</span>
<span class="go">&lt;ExceptHandler 1,0..1,12&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except: pass&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmtlike</span><span class="p">()</span>
<span class="go">&lt;Try 0,0..1,12&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except: pass&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmtlike</span><span class="p">()</span>
<span class="go">&lt;Module ROOT 0,0..1,12&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case 1: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmtlike</span><span class="p">()</span>
<span class="go">&lt;match_case 1,2..1,14&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case 1: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">parent_stmtlike</span><span class="p">()</span>
<span class="go">&lt;match_case 1,2..1,14&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_block" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_block</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">mod</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_block"></a>
    
            <div class="docstring"><p>The first parent which opens a block that <code>self</code> lives in (if any). Types include <code>FunctionDef</code>,
<code>AsyncFunctionDef</code>, <code>ClassDef</code>, <code>For</code>, <code>AsyncFor</code>, <code>While</code>, <code>If</code>, <code>With</code>, <code>AsyncWith</code>, <code>Match</code>, <code>Try</code>,
<code>TryStar</code>, <code>ExceptHandler</code>, <code>match_case</code> or optionally <code>mod</code> node (if any). If <code>self_</code> is <code>True</code> then will check
<code>self</code> first, otherwise only checks parents.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: First block <code>stmt</code> or optionally <code>mod</code> parent if present, else <code>None</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_block</span><span class="p">()</span>
<span class="go">&lt;If 0,0..0,11&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_block</span><span class="p">()</span>
<span class="go">&lt;Module ROOT 0,0..0,11&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_scope" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_scope</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">mod</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_scope"></a>
    
            <div class="docstring"><p>The first parent which opens a scope that <code>self</code> lives in (if any). Types include <code>FunctionDef</code>,
<code>AsyncFunctionDef</code>, <code>ClassDef</code>, <code>Lambda</code>, <code>ListComp</code>, <code>SetComp</code>, <code>DictComp</code>, <code>GeneratorExp</code> or optionally <code>mod</code>
node (if any). If <code>self_</code> is <code>True</code> then will check <code>self</code> first, otherwise only checks parents.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: First scope <code>stmt</code> or optionally <code>mod</code> parent if present, else <code>None</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_scope</span><span class="p">()</span>
<span class="go">&lt;Module ROOT 0,0..0,11&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f():</span><span class="se">\n</span><span class="s1">  if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_scope</span><span class="p">())</span>
<span class="go">&lt;FunctionDef 0,0..1,13&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;lambda: None&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">parent_scope</span><span class="p">()</span>
<span class="go">&lt;Lambda 0,0..0,12&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[i for i in j]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="o">.</span><span class="n">parent_scope</span><span class="p">()</span>
<span class="go">&lt;ListComp 0,0..0,14&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_named_scope" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_named_scope</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">mod</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_named_scope"></a>
    
            <div class="docstring"><p>The first parent which opens a named scope that <code>self</code> lives in (if any). Types include <code>FunctionDef</code>,
<code>AsyncFunctionDef</code>, <code>ClassDef</code> or optionally <code>mod</code> node (if any). If <code>self_</code> is <code>True</code> then will check <code>self</code>
first, otherwise only checks parents.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: First named scope <code>stmt</code> or optionally <code>mod</code> parent if present, else <code>None</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_named_scope</span><span class="p">()</span>
<span class="go">&lt;Module ROOT 0,0..0,11&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f():</span><span class="se">\n</span><span class="s1">  if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_named_scope</span><span class="p">())</span>
<span class="go">&lt;FunctionDef 0,0..1,13&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): lambda: None&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">parent_named_scope</span><span class="p">())</span>
<span class="go">&lt;FunctionDef 0,0..0,21&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;class cls: [i for i in j]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="o">.</span><span class="n">parent_named_scope</span><span class="p">())</span>
<span class="go">&lt;ClassDef 0,0..0,25&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_non_expr" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_non_expr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">strict</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_non_expr"></a>
    
            <div class="docstring"><p>The first parent which is not an <code>expr</code>. If <code>self_</code> is <code>True</code> then will check <code>self</code> first (possibly
returning <code>self</code>), otherwise only checks parents.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>self_</code>: Whether to include <code>self</code> in the search, if so and <code>self</code> matches criteria then it is returned.</li>
<li><code>strict</code>: <code>False</code> means consider <code>comprehension</code>, <code>arguments</code>, <code><a href="#FST.arg">arg</a></code> and <code>keyword</code> nodes as <code>expr</code> for the
sake of the walk up since these nodes can have other <code>expr</code> parents (meaning they will be skipped). <code>True</code>
means only <code>expr</code> nodes, which means you could get an <code><a href="#FST.arg">arg</a></code> or <code>comprehension</code> node for example which still
has <code>expr</code> parents. Also <code>expr_context</code>, <code>boolop</code>, <code>operator</code>, <code>unaruop</code> and <code>cmpop</code> are included if
<code>strict=False</code> but this only makes sense if <code>self_=True</code> and you are calling this function on one of those.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: First non-<code>expr</code> parent if present, possibly skipping mentioned nodes according to <code>strict</code>,
else <code>None</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1 + a[b]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_non_expr</span><span class="p">()</span>
<span class="go">&lt;Assign 0,6..0,18&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1"> case </span><span class="si">{a.b.c: 1}</span><span class="s1">: pass&#39;</span><span class="p">)</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_non_expr</span><span class="p">())</span>
<span class="go">&lt;MatchMapping 1,6..1,16&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var = call(a, b=1)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_non_expr</span><span class="p">()</span>
<span class="go">&lt;Assign ROOT 0,0..0,18&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var = call(a, b=1)&#39;</span><span class="p">)</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_non_expr</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">&lt;keyword 0,14..0,17&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_pattern" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_pattern</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_pattern"></a>
    
            <div class="docstring"><p>The first parent which is a <code><a href="#FST.pattern">pattern</a></code>. If <code>self_</code> is <code>True</code> then will check <code>self</code> first (possibly returning
<code>self</code>), otherwise only checks parents.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>self_</code>: Whether to include <code>self</code> in the search, if so and <code>self</code> matches criteria then it is returned.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: First <code><a href="#FST.pattern">pattern</a></code> parent if present, else <code>None</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case 1+1j: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">parent_pattern</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;1+1j&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case 1 | </span><span class="si">{a.b: c}</span><span class="s1">: pass&#39;</span><span class="p">)</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_pattern</span><span class="p">(</span><span class="n">self_</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">&lt;MatchAs 0,15..0,16&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case 1 | </span><span class="si">{a.b: c}</span><span class="s1">: pass&#39;</span><span class="p">)</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_pattern</span><span class="p">())</span>
<span class="go">&lt;MatchMapping 0,9..0,17&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case 1 | </span><span class="si">{a.b: c}</span><span class="s1">: pass&#39;</span><span class="p">)</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_pattern</span><span class="p">()</span><span class="o">.</span><span class="n">parent_pattern</span><span class="p">())</span>
<span class="go">&lt;MatchOr 0,5..0,17&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_ftstr" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_ftstr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_ftstr"></a>
    
            <div class="docstring"><p>The first parent which is an f or t-string. If <code>self_</code> is <code>True</code> then will check <code>self</code> first (possibly
returning <code>self</code>), otherwise only checks parents. This can be used to determine if an expression (or anything
else like lambda arguments) are ultimately inside one of these.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: First <code>JoinedStr</code> or <code>TemplateStr</code> parent if present, else <code>None</code>.</li>
</ul>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>self_</code>: Whether to include <code>self</code> in the search, if so and <code>self</code> matches criteria then it is returned.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;f&quot;</span><span class="si">{a}</span><span class="s1">&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_ftstr</span><span class="p">())</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;f&quot;</span><span class="si">{a}</span><span class="s1">&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">parent_ftstr</span><span class="p">())</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;f&quot;</span><span class="si">{a}</span><span class="s1">&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">parent_ftstr</span><span class="p">(</span><span class="n">self_</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;f&quot;{a:</span><span class="si">{b}</span><span class="s1">}&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">format_spec</span><span class="o">.</span><span class="n">parent_ftstr</span><span class="p">(</span><span class="n">self_</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">True</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.child_path" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">child_path</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">child</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="n">as_str</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="common.html#astfield">fst.common.astfield</a></span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.child_path"></a>
    
            <div class="docstring"><p>Get path to <code>child</code> node from <code>self</code> which can later be used on a copy of this tree to get to the  same
relative child node.</p>

<p><strong>Note:</strong> This function is intentionally made to work for nodes which have been removed from a tree (because
their parent links are not severed). This is useful for finding a node if it has been replaced by a raw reparse.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>child</code>: Child node to get path to, can be <code>self</code> in which case an empty path is returned.</li>
<li><code>as_str</code>: If <code>True</code> will return the path as a python-ish string suitable for attribute access, else a list of
<code>astfield</code>s which can be used more directly.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>list[astfield] | str</code>: Path to child if exists, otherwise raises.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[i for i in j]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="p">)</span>
<span class="go">[astfield(&#39;body&#39;, 0), astfield(&#39;value&#39;), astfield(&#39;elt&#39;)]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">((</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[i for i in j]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">))</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="p">,</span> <span class="n">as_str</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">&#39;body[0].value.elt&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">[]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">as_str</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.child_from_path" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">child_from_path</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">path</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="common.html#astfield">fst.common.astfield</a></span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">last_valid</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">]]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.child_from_path"></a>
    
            <div class="docstring"><p>Get child node specified by <code>path</code> if it exists. If succeeds then it doesn't mean that the child node is
guaranteed to be the same or even same type as was originally used to get the path, just that the path is valid.
For example after deleting an element from a list the item at the former element's location will be the previous
next element.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>path</code>: Path to child as a list of <code>astfield</code>s or string.</li>
<li><code>last_valid</code>: If <code>True</code> then return the last valid node along the path. Will not fail, can return <code>self</code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: Child node if path is valid, otherwise <code>False</code> if path invalid. <code>False</code> and not <code>None</code> because <code>None</code>
can be in a field that can hold an <code>AST</code> but <code>False</code> can not.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[i for i in j]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">child_from_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="p">))</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;i&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">child_from_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;i&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">child_from_path</span><span class="p">(</span><span class="s1">&#39;body[0].value.elts[4]&#39;</span><span class="p">)</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="gp">... </span> <span class="o">.</span><span class="n">child_from_path</span><span class="p">(</span><span class="s1">&#39;body[0].value.elts[4]&#39;</span><span class="p">,</span> <span class="n">last_valid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">&#39;[0, 1, 2, 3]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">child_from_path</span><span class="p">([])</span> <span class="ow">is</span> <span class="n">f</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">child_from_path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">f</span>
<span class="go">True</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.repath" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">repath</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">last_valid</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.repath"></a>
    
            <div class="docstring"><p>Recalculate <code>self</code> from path from root. Useful if <code>self</code> has been replaced by another node by some operation.
When nodes are deleted the corresponding <code><a href="#FST.a">FST.a</a></code> and <code>AST.f</code> attributes are set to <code>None</code>. The <code><a href="#FST.parent">parent</a></code> and
<code><a href="#FST.pfield">pfield</a></code> attributes are left so that things like this can work. Useful when a node has been deleted but you want
to know where it was and what may be there now.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>last_valid</code>: If <code>True</code> then return the last valid node along the path from root to where <code>self</code> is or was. W
Will not fail, can return root.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: Possibly <code>self</code> or the node which took our place at our relative position from <code><a href="#FST.root">root</a></code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[a, b, c, d]&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">is_alive</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">True c</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">is_alive</span><span class="p">)</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">repath</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">is_alive</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">True d</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">[a, b, d]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">is_alive</span><span class="p">)</span>
<span class="go">False</span>
</code></pre>
</div>

<p>After the previous delete there is now nothing at the previous list location of <code>g</code>.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="o">.</span><span class="n">repath</span><span class="p">()</span>
<span class="go">False</span>
</code></pre>
</div>

<p>So we get the last valid node along the chain from root.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">repath</span><span class="p">(</span><span class="n">last_valid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">is_alive</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">True [a, b]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">[a, b]</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.match" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">match</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="n">pat</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="match.html#M_Pattern">fst.match.M_Pattern</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n"><a href="match.html#M_Pattern">fst.match.M_Pattern</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]],</span> <span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ellipsis</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">ctx</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="match.html#FSTMatch">fst.match.FSTMatch</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.match"></a>
    
            <div class="docstring"><p>This will attempt to match this <code>self</code> against the given pattern. The pattern may be any of the <code><a href="match.html">fst.match</a></code> <code>M*</code>
patterns or it can be a pure <code>AST</code> pattern. Attempt to match against a <code><a href="#FST.str">str</a></code> will check the source against that
string. Likewise matching against a <code>re.Pattern</code> will check the source against the regex. Matching can also be done
against a <code>type[AST]</code> or <code>type[MAST]</code> for a trivial type match. Trying to match lists or primitives with this will
always fail (as <code>self</code> is an <code><a href="#FST">FST</a></code>) and matching against a wildcard ellipsis <code>...</code> will always succeed.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>pat</code>: The pattern to search for. Must resolve to a node, not a primitive or list (node patterns, type, wildcard,
functional patterns of these). Because you're matching against a node, otherwise nothing will match.</li>
<li><code><a href="#FST.ctx">ctx</a></code>: Whether to match <code>expr_context</code> INSTANCES or not (<code>expr_context</code> types are always matched). Defaults to
<code>False</code> to allow matching backreferences with different <code><a href="#FST.ctx">ctx</a></code> values with each other, such as a <code>Name</code> as a
target of an <code>Assign</code> with the same name later used in an expression (<code>Store</code> vs. <code>Load</code>). Also as a
conveninence since when creating <code>AST</code> nodes for patterns the <code><a href="#FST.ctx">ctx</a></code> field may be created automatically if
you don't specify it so may inadvertantly break matches where you don't want to take that into
consideration.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FSTMatch</code>: The match object on successful match.</li>
<li><code>None</code>: Did not match.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn"><a href="match.html">fst.match</a></span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn"><a href="docs.html">fst.docs</a></span><span class="w"> </span><span class="kn">import</span> <span class="n">ppmatch</span>  <span class="c1"># pretty-print FSTMatch</span>
</code></pre>
</div>

<p>Quick and dirty use of <code>AST</code> nodes and strings and regex.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;val.attr&#39;</span><span class="p">,</span> <span class="n">Attribute</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">Attribute</span><span class="p">(</span><span class="n">Name</span><span class="p">(</span><span class="s1">&#39;val&#39;</span><span class="p">),</span> <span class="s1">&#39;attr&#39;</span><span class="p">))</span>
<span class="go">&lt;FSTMatch &lt;Attribute ROOT 0,0..0,8&gt;&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;val&#39;</span><span class="p">,</span> <span class="s1">&#39;attr&#39;</span><span class="p">))</span>
<span class="go">&lt;FSTMatch &lt;Attribute ROOT 0,0..0,8&gt;&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s1">&#39;val.attr&#39;</span><span class="p">)</span>
<span class="go">&lt;FSTMatch &lt;Attribute ROOT 0,0..0,8&gt;&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;.*\.attr&#39;</span><span class="p">))</span>
<span class="go">&lt;FSTMatch &lt;Attribute ROOT 0,0..0,8&gt;&gt;</span>
</code></pre>
</div>

<p>Pattern for finding a <code>logger.info()</code> call that has a keyword argument named <code>cid</code>, returning that keyword in a tag
called <code>cid_kw</code>. This one uses the pattern <code>MCall</code> and <code>Mkeyword</code> classes to avoid having to specify unused required
fields.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pat</span> <span class="o">=</span> <span class="n">MCall</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">func</span><span class="o">=</span><span class="n">Attribute</span><span class="p">(</span><span class="n">Name</span><span class="p">(</span><span class="s1">&#39;logger&#39;</span><span class="p">),</span> <span class="s1">&#39;info&#39;</span><span class="p">),</span>
<span class="gp">... </span>   <span class="n">keywords</span><span class="o">=</span><span class="p">[</span><span class="n">MQSTAR</span><span class="p">,</span> <span class="n">M</span><span class="p">(</span><span class="n">cid_kw</span><span class="o">=</span><span class="n">Mkeyword</span><span class="p">(</span><span class="s1">&#39;cid&#39;</span><span class="p">)),</span> <span class="n">MQSTAR</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;logger.info(&quot;text&quot;, a=1, cid=123, b=2)&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pat</span><span class="p">)</span>
<span class="go">&lt;FSTMatch &lt;Call ROOT 0,0..0,38&gt; {&#39;cid_kw&#39;: &lt;keyword 0,25..0,32&gt;}&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;logger.warning(&quot;text&quot;, a=1, cid=123, b=2)&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pat</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;notlogger.info(&quot;text&quot;, a=1, cid=123, b=2)&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pat</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;logger.info(&quot;text&quot;, a=1, b=2)&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pat</span><span class="p">)</span>
</code></pre>
</div>

<p>Pattern for finding any <code>[*_cls | object.__class__] [is | is not] [ZST | zst.ZST]</code>. Will tag the initial object as
<code>obj</code> and return whether the comparison is an <code>is</code> or <code>is not</code> in the <code>is_is</code> tag (which is missing in case of
<code>IsNot</code> but the attribute check on the <code>FSTMatch</code> object returns a false value in this case.)</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pat</span> <span class="o">=</span> <span class="n">Compare</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">left</span><span class="o">=</span><span class="n">MOR</span><span class="p">(</span><span class="n">Attribute</span><span class="p">(</span><span class="n">M</span><span class="p">(</span><span class="n">obj</span><span class="o">=</span><span class="n">expr</span><span class="p">),</span> <span class="s1">&#39;__class__&#39;</span><span class="p">),</span>
<span class="gp">... </span>             <span class="n">obj</span><span class="o">=</span><span class="n">M</span><span class="p">(</span><span class="n">Name</span><span class="p">(</span><span class="n">MRE</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\w*_cls$&#39;</span><span class="p">)),</span> <span class="n">is_name</span><span class="o">=</span><span class="kc">True</span><span class="p">)),</span>
<span class="gp">... </span>    <span class="n">ops</span><span class="o">=</span><span class="p">[</span><span class="n">MOR</span><span class="p">(</span><span class="n">IsNot</span><span class="p">,</span> <span class="n">is_is</span><span class="o">=</span><span class="n">Is</span><span class="p">)],</span>
<span class="gp">... </span>    <span class="n">comparators</span><span class="o">=</span><span class="p">[</span><span class="n">MOR</span><span class="p">(</span><span class="n">Name</span><span class="p">(</span><span class="s1">&#39;ZST&#39;</span><span class="p">),</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;zst&#39;</span><span class="p">,</span> <span class="s1">&#39;ZST&#39;</span><span class="p">))],</span>
<span class="gp">... </span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a.__class__ is not ZST&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pat</span><span class="p">)</span>
<span class="go">&lt;FSTMatch &lt;Compare ROOT 0,0..0,22&gt; {&#39;obj&#39;: &lt;Name 0,0..0,1&gt;}&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">_</span><span class="p">[</span><span class="s1">&#39;is_is&#39;</span><span class="p">])</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a.__class__ is AST&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pat</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">ppmatch</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;node_cls is zst.ZST&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pat</span><span class="p">))</span>
<span class="go">&lt;FSTMatch &lt;Compare ROOT 0,0..0,19&gt;</span>
<span class="go">  {&#39;is_name&#39;: True, &#39;obj&#39;: &lt;Name 0,0..0,8&gt;, &#39;is_is&#39;: &lt;Is 0,9..0,11&gt;}&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;node_cls_bad is zst.ZST&#39;</span><span class="p">)</span> <span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pat</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.search" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">search</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="n">pat</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="match.html#M_Pattern">fst.match.M_Pattern</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n"><a href="match.html#M_Pattern">fst.match.M_Pattern</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]],</span> <span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ellipsis</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="n">nested</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">ctx</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">recurse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">scope</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">back</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">asts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n">Generator</span><span class="p">[</span><span class="n"><a href="match.html#FSTMatch">fst.match.FSTMatch</a></span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.search"></a>
    
            <div class="docstring"><p>This will walk the subtree of <code>self</code> looking for <code>pat</code> using <code><a href="#FST.match">match()</a></code>. The walk is carried out using the
standard <code><a href="#FST.walk">walk()</a></code> and the various parameters to that function are accepted here and passed on (check self_,
recursion, scope, walk backwards, etc...).</p>

<p>This function returns a generator similar to the <code><a href="#FST.walk">walk()</a></code> generator which can be interacted with in the same way as
that one. Meaning you can control the recursion into children by sending <code>True</code> or <code>False</code> to this generator.
Replacement and deletion of nodes during the search is allowed according to the rules specified by <code><a href="#FST.walk">walk()</a></code>.</p>

<p>If you do not delete or <code>send(False)</code> for any given node then the search will continue into that node with the
possibility of finding nested matches, unless you pass <code>nested=False</code> to the <code><a href="#FST.search">search()</a></code> call.</p>

<p><strong>Note:</strong> The generator returned by this function does not yield the matched nodes themselves, but rather the
<code>FSTMatch</code> objects. You can get the matched nodes from these objects using the <code>matched</code> attribute, e.g.
<code>match.matched</code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>pat</code>: The pattern to search for.</li>
<li><code>nested</code>: Whether to recurse into nested matches or not.</li>
<li><code><a href="#FST.ctx">ctx</a></code>: Whether to match <code>expr_context</code> INSTANCES or not (<code>expr_context</code> types are always matched). Defaults to
<code>False</code> to allow matching backreferences with different <code><a href="#FST.ctx">ctx</a></code> values with each other, such as a <code>Name</code> as a
target of an <code>Assign</code> with the same name later used in an expression (<code>Store</code> vs. <code>Load</code>). Also as a
conveninence since when creating <code>AST</code> nodes for patterns the <code><a href="#FST.ctx">ctx</a></code> field may be created automatically if
you don't specify it so may inadvertantly break matches where you don't want to take that into
consideration.</li>
<li><code>self_</code>, <code>recurse</code>, <code>scope</code>, <code>back</code>, <code>asts</code>: These are parameters for the underlying <code><a href="#FST.walk">walk()</a></code> function. See that
function for their meanings.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>Generator</code>: This is a <code><a href="#FST.walk">walk()</a></code> style generator which accepts <code>send(bool)</code> to decide whether to recurse into a
node or not.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn"><a href="match.html">fst.match</a></span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">if is_AST := ast_cls is not zst.ZST:</span>
<span class="gp">... </span><span class="s1">    ast = code.a</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s1">if code_cls is keyword or (</span>
<span class="gp">... </span><span class="s1">        code_cls is zst.ZST and code.a.__class__ is keyword):</span>
<span class="gp">... </span><span class="s1">    return code_as_keyword(code, options, parse_params, sanitize=sanitize)</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s1">if src_or_ast_or_fst.__class__ is ZST:</span>
<span class="gp">... </span><span class="s1">    return src_or_ast_or_fst.as_(</span>
<span class="gp">... </span><span class="s1">        mode, kwargs.get(&#39;copy&#39;, True), **filter_options(kwargs))</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s1">return &#39;an ZST&#39; if value.__class__ is not zst.ZST else None</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pat</span> <span class="o">=</span> <span class="n">Compare</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">left</span><span class="o">=</span><span class="n">MOR</span><span class="p">(</span><span class="n">MAttribute</span><span class="p">(</span><span class="n">attr</span><span class="o">=</span><span class="s1">&#39;__class__&#39;</span><span class="p">),</span> <span class="n">Name</span><span class="p">(</span><span class="n">MRE</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\w*_cls$&#39;</span><span class="p">))),</span>
<span class="gp">... </span>    <span class="n">ops</span><span class="o">=</span><span class="p">[</span><span class="n">MOR</span><span class="p">(</span><span class="n">IsNot</span><span class="p">,</span> <span class="n">Is</span><span class="p">)],</span>
<span class="gp">... </span>    <span class="n">comparators</span><span class="o">=</span><span class="p">[</span><span class="n">MOR</span><span class="p">(</span><span class="n">Name</span><span class="p">(</span><span class="s1">&#39;ZST&#39;</span><span class="p">),</span> <span class="n">Attribute</span><span class="p">(</span><span class="s1">&#39;zst&#39;</span><span class="p">,</span> <span class="s1">&#39;ZST&#39;</span><span class="p">))],</span>
<span class="gp">... </span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pat</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">matched</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">ast_cls is not zst.ZST</span>
<span class="go">code_cls is zst.ZST</span>
<span class="go">src_or_ast_or_fst.__class__ is ZST</span>
<span class="go">value.__class__ is not zst.ZST</span>
</code></pre>
</div>

<p>If you just want the first match.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pat</span><span class="p">))</span><span class="o">.</span><span class="n">matched</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">ast_cls is not zst.ZST</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.sub" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">sub</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="n">pat</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="match.html#M_Pattern">fst.match.M_Pattern</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n"><a href="match.html#M_Pattern">fst.match.M_Pattern</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]],</span> <span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ellipsis</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="n">repl</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>,</span><span class="param">	<span class="n">nested</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">loop</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">copy_options</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">repl_options</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">ctx</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">recurse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">scope</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">back</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">asts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">retn</span><span class="p">:</span> <span class="nb">list</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.sub"></a>
    
            <div class="docstring"><p>Substitute matching targets with a given <code>repl</code> template. The template substitutions can include tagged elements
from a match. These are specified in the <code>repl</code> template as <code>__FST_&lt;tag&gt;</code> names, where the <code>&lt;tag&gt;</code> maps to a matched
tag or is left empty to indicate the whole matched node. The replacement template can be passed as source or an
<code><a href="#FST">FST</a></code> or <code>AST</code> node.</p>

<p><code>__FSS_&lt;tag&gt;</code> can be used to force slice substitution of tags the <code>repl</code> template and <code>__FSO_&lt;tag&gt;</code> can be used to
force single element substitution.</p>

<p>THIS IS AN IN-PLACE MUTATION!</p>

<p>Individual options can be passed for each of the three phases of each substitution. The phases and their options are
as follows:</p>

<ul>
<li><code>copy_options</code>: Copy tagged nodes from matched element of <code>self</code>.</li>
<li><code>repl_options</code>: Put tagged nodes to <code>repl</code> template tag slots <code>__FST_&lt;tag&gt;</code>.</li>
<li><code><a href="#FST.options">options</a></code>: Put filled <code>repl</code> template back to <code>self</code> node which was matched by the pattern.</li>
</ul>

<p>If either <code>copy_options</code> or <code>repl_options</code> are not provided then the normal top level <code><a href="#FST.options">options</a></code> are used for those.</p>

<p>This function can handle individual node or slice substitutions, including compound patterns like <code>Dict</code> key:value
pairs and whole <code>ExceptHandler</code> or <code>match_case</code> entries.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>pat</code>: The pattern to search for. Must resolve to a node, not a primitive or list (node patterns, type, wildcard,
functional patterns of these).</li>
<li><code>repl</code>: Replacement template as an <code><a href="#FST">FST</a></code>, <code>AST</code> or source.</li>
<li><code>nested</code>: Whether to allow recursion into nested substitutions or not. In order to prevent infinite recursion,
regardless of this parameter, none of the original nodes of the <code>repl</code> template are ever substituted, even if
they match the pattern. If the full original match is put anywhere in the template then the top node of that is
not considered for substitution again either (even though by definition it matches the pattern). Subparts of
that matched template can be matched and substituted again as that cannot cause infinite recursion.</li>
<li><code>count</code>: If this is above <code>0</code> then only this number of substitutions will be made. This only increments by 1 for
each new substituted location in <code>self</code>, regardless of how many times that node is substituted with <code>loop</code> if
that is being used.</li>
<li><code>loop</code>: <strong>WARNING!</strong> Improper usage of this parameter can easily lead to infinite looping so the onus is on the
user to make sure the replacement template cannot cause this. If this is not <code>False</code> then after each match is
substituted then check if it still matches the pattern, and if so substitute again, up to <code>loop</code> number of
times. A value of <code>True</code> or <code>0</code> (or below) means keep looping until the node doesn't match anymore.</li>
<li><code>copy_options</code>: Options to use when copying from matched nodes from <code>self</code> for putting into the <code>repl</code> template.
If <code>None</code> then just uses <code><a href="#FST.options">options</a></code>.</li>
<li><code>repl_options</code>: Options to use when putting into the <code>repl</code> template. If <code>None</code> then just uses <code><a href="#FST.options">options</a></code>.</li>
<li><code><a href="#FST.ctx">ctx</a></code>: Whether to match <code>expr_context</code> INSTANCES or not (<code>expr_context</code> types are always matched). Defaults to
<code>False</code> to allow matching backreferences with different <code><a href="#FST.ctx">ctx</a></code> values with each other, such as a <code>Name</code> as a
target of an <code>Assign</code> with the same name later used in an expression (<code>Store</code> vs. <code>Load</code>). Also as a
conveninence since when creating <code>AST</code> nodes for patterns the <code><a href="#FST.ctx">ctx</a></code> field may be created automatically if
you don't specify it so may inadvertantly break matches where you don't want to take that into
consideration.</li>
<li><code>self_</code>, <code>recurse</code>, <code>scope</code>, <code>back</code>, <code>asts</code>: These are parameters for the underlying <code><a href="#FST.walk">walk()</a></code> function. See that
function for their meanings.</li>
<li><code>retn</code>: This is used internally to return the number of substitutions made for <code><a href="#FST.subn">subn()</a></code> to return.</li>
<li><code><a href="#FST.options">options</a></code>: The options to use when replacing matched nodes in <code>self</code> with the <code>repl</code> template. See <code><a href="#FST.options">options()</a></code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code>: Mutated in-place.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn"><a href="match.html">fst.match</a></span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>
</code></pre>
</div>

<p>Simple substitution.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a + b.c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">Name</span><span class="p">,</span> <span class="s1">&#39;log(__FST_)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;log(a) + log(b).c&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a + b.c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">MOR</span><span class="p">(</span><span class="n">Name</span><span class="p">,</span> <span class="n">Attribute</span><span class="p">),</span> <span class="s1">&#39;log(__FST_)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;log(a) + log(b.c)&#39;</span>
</code></pre>
</div>

<p>Allow nested substitutions and don't substitute target expressions.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = j.k = a + b.c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">Mexpr</span><span class="p">(</span><span class="n">ctx</span><span class="o">=</span><span class="n">Load</span><span class="p">),</span> <span class="s1">&#39;log(__FST_)&#39;</span><span class="p">,</span> <span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;i = log(j).k = log(a) + log(log(b).c)&#39;</span>
</code></pre>
</div>

<p>Statements and optional parts of block statements are handled (like <code>else</code> or <code>finally</code>).</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">if a:</span>
<span class="gp">... </span><span class="s1">    a_true()</span>
<span class="gp">... </span><span class="s1">else:</span>
<span class="gp">... </span><span class="s1">    a_false()</span>
<span class="gp">... </span><span class="s1">    fail()</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="gp">... </span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">MIf</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="n">M</span><span class="p">(</span><span class="n">t</span><span class="o">=...</span><span class="p">),</span> <span class="n">body</span><span class="o">=</span><span class="n">M</span><span class="p">(</span><span class="n">b</span><span class="o">=...</span><span class="p">),</span> <span class="n">orelse</span><span class="o">=</span><span class="n">M</span><span class="p">(</span><span class="n">e</span><span class="o">=...</span><span class="p">)),</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">if not __FST_t:</span>
<span class="gp">... </span><span class="s1">    __FST_e</span>
<span class="gp">... </span><span class="s1">else:</span>
<span class="gp">... </span><span class="s1">    __FST_b</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">if not a:</span>
<span class="go">    a_false()</span>
<span class="go">    fail()</span>
<span class="go">else:</span>
<span class="go">    a_true()</span>
</code></pre>
</div>

<p>Multinode elements of sequences like <code>Dict</code> and <code>MatchMapping</code> can be substituted, in these two cases with the
<code>'...': __FST_&lt;tag&gt;</code> template.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span>
<span class="gp">... </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;{a: b, c: d, e: f}&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">MDict</span><span class="p">(</span><span class="n">_all</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">M</span><span class="p">(</span><span class="n">mid</span><span class="o">=...</span><span class="p">),</span> <span class="o">...</span><span class="p">]),</span>
<span class="gp">... </span><span class="s1">&#39;{x: y, &quot;...&quot;: __FST_mid}&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">{x: y, c: d}</span>
</code></pre>
</div>

<p><code>arguments</code> can be substituted as well, including changing the type of argument (with some caveats, see
the documentation).</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span>
<span class="gp">... </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a=1, /, b=2, *, c=3): pass&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">Marguments</span><span class="p">(</span><span class="n">_all</span><span class="o">=</span><span class="p">[</span><span class="n">MQSTAR</span><span class="p">,</span> <span class="n">M</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">Marguments</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">])),</span> <span class="n">MQSTAR</span><span class="p">]),</span>
<span class="gp">... </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;__FST_a&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">),</span>
<span class="gp">... </span><span class="n">args_as</span><span class="o">=</span><span class="s1">&#39;pos&#39;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">def f(c=3, /): pass</span>
</code></pre>
</div>

<p>Entire <code>ExceptHandlers</code> and <code>match_cases</code> can be substituted using their respective templates
<code>except '...': __FST_&lt;tag&gt;</code> and <code>case '...': __FST_&lt;tag&gt;</code>.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">try: pass</span>
<span class="gp">... </span><span class="s1">except a: a()</span>
<span class="gp">... </span><span class="s1">except b: b()</span>
<span class="gp">... </span><span class="s1">except c: c()</span>
<span class="gp">... </span><span class="s1">except d: d()</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="gp">... </span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">MTry</span><span class="p">(</span><span class="n">handlers</span><span class="o">=</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="n">MQSTAR</span><span class="p">(</span><span class="n">hand</span><span class="o">=...</span><span class="p">),</span> <span class="o">...</span><span class="p">]),</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">try: new()</span>
<span class="gp">... </span><span class="s1">except x: pass</span>
<span class="gp">... </span><span class="s1">except &#39;...&#39;: __FST_hand</span>
<span class="gp">... </span><span class="s1">except y: pass</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">try: new()</span>
<span class="go">except x: pass</span>
<span class="go">except b: b()</span>
<span class="go">except c: c()</span>
<span class="go">except y: pass</span>
</code></pre>
</div>

<p><code>comprehension</code> nodes have the template <code>for __FST_&lt;tag&gt; in '...'</code>.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span>
<span class="gp">... </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = [a for a in b if a]&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">MListComp</span><span class="p">(</span><span class="n">generators</span><span class="o">=</span><span class="p">[</span><span class="n">M</span><span class="p">(</span><span class="n">comp</span><span class="o">=</span><span class="n">Mcomprehension</span><span class="p">)]),</span>
<span class="gp">... </span><span class="s1">&#39;{f(a) for __FST_comp in &quot;...&quot;}&#39;</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">i = {f(a) for a in b if a}</span>
</code></pre>
</div>

<p>Substitutions inside string constants are put as source appropriately escaped for the string.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">something()</span>
<span class="gp">... </span><span class="s1">if a:</span>
<span class="gp">... </span><span class="s1">    while a: \</span>
<span class="gp">... </span><span class="s1">        a = call(a, &#39;str&#39;)</span>
<span class="gp">... </span><span class="s1">something_else()</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="gp">... </span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">MWhile</span><span class="p">,</span>
<span class="gp">... </span><span class="s1">&#39;used_to_be_while = &quot;now is string: __FST_ &lt;--&quot;&#39;</span>
<span class="gp">... </span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">something()</span>
<span class="go">if a:</span>
<span class="go">    used_to_be_while = &quot;now is string: while a: \\\n    a = call(a, \&#39;str\&#39;) &lt;--&quot;</span>
<span class="go">something_else()</span>
</code></pre>
</div>

<p><code>nested</code>, <code>loop</code>, <code>count</code> and <code><a href="#FST.subn">subn()</a></code>.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">with a:</span>
<span class="gp">... </span><span class="s1">    with b:</span>
<span class="gp">... </span><span class="s1">        with c:</span>
<span class="gp">... </span><span class="s1">            with d:</span>
<span class="gp">... </span><span class="s1">                with e:</span>
<span class="gp">... </span><span class="s1">                    pass</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">pat</span> <span class="o">=</span> <span class="n">MWith</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">items</span><span class="o">=</span><span class="n">M</span><span class="p">(</span><span class="n">outer_items</span><span class="o">=...</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">body</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>        <span class="n">MWith</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">items</span><span class="o">=</span><span class="n">M</span><span class="p">(</span><span class="n">inner_items</span><span class="o">=...</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">body</span><span class="o">=</span><span class="n">M</span><span class="p">(</span><span class="n">inner_body</span><span class="o">=...</span><span class="p">)</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>        <span class="n">MQSTAR</span><span class="p">(</span><span class="n">outer_body</span><span class="o">=...</span><span class="p">),</span>
<span class="gp">... </span>    <span class="p">],</span>
<span class="gp">... </span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">repl</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">with __FST_outer_items, __FST_inner_items:</span>
<span class="gp">... </span><span class="s1">    __FST_inner_body</span>
<span class="gp">... </span><span class="s1">    __FST_outer_body</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre>
</div>

<p>The <code>nested=True</code> parameter allows you to recurse into substituted nodes to continue substituting inside.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">with a, b:</span>
<span class="go">    with c, d:</span>
<span class="go">        with e:</span>
<span class="go">            pass</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">subn</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">(&lt;With ROOT 0,0..3,16&gt;, 2, 2)</span>
</code></pre>
</div>

<p>The <code>count</code> parameter allows you to limit the number of unique substitutions made.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">with a, b:</span>
<span class="go">    with c:</span>
<span class="go">        with d:</span>
<span class="go">            with e:</span>
<span class="go">                pass</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">subn</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="go">(&lt;With ROOT 0,0..4,20&gt;, 1, 1)</span>
</code></pre>
</div>

<p>The <code>loop</code> parameter allows you to repeatedly apply substitution to the same node as long as it still matches the
pattern.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">with a, b, c, d, e:</span>
<span class="go">    pass</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">subn</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">(&lt;With ROOT 0,0..1,8&gt;, 1, 4)</span>
</code></pre>
</div>

<p>The <code><a href="#FST.subn">subn()</a></code> function does the same thing as <code><a href="#FST.sub">sub()</a></code> but returns the number of unique and total substitutions made.</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">with a, b, c:</span>
<span class="go">    with d, e:</span>
<span class="go">        pass</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">subn</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span> <span class="n">repl</span><span class="p">,</span> <span class="n">nested</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">loop</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">(&lt;With ROOT 0,0..2,12&gt;, 2, 3)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.subn" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">subn</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="n">pat</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="match.html#M_Pattern">fst.match.M_Pattern</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n"><a href="match.html#M_Pattern">fst.match.M_Pattern</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]],</span> <span class="n">re</span><span class="o">.</span><span class="n">Pattern</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ellipsis</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="n">repl</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>,</span><span class="param">	<span class="n">nested</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">loop</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">copy_options</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">repl_options</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">ctx</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">recurse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">scope</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">back</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">asts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.subn"></a>
    
            <div class="docstring"><p>Perform the same operation as <code><a href="#FST.sub">sub()</a></code>, but return a tuple <code>(self, unique_number_of_subs_made,
total_number_of_subs_made)</code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li>See <code><a href="#FST.sub">sub()</a></code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>(self, unique_number_of_subs_made, total_number_of_subs_made)</code>:
<ul>
<li><code>self</code>: Self-explanatory.</li>
<li><code>unique_number_of_subs_made</code>: This is the number of locations in <code>self</code> that were substituted, not taking into
account how many times each location may have been substituted due to <code>loop</code>, each location counts just
once.</li>
<li><code>total_number_of_subs_made</code>: This is the total number of times that substitution was done, which includes the
number of times that <code>loop</code> was applied in each location.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="FST.find_def" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">find_def</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">path</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">prev_found</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">recurse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">asts</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.find_def"></a>
    
            <div class="docstring"><p>Find function and / or class definition in current scope. Can specify multiple levels of scopes to recurse
into. This will find the elements in the <strong>SCOPE</strong> of <code>self</code> (and recursed scopes for dotted names). So it can
be a few children down for nested <code>if</code>, <code>while</code> and others from the last scope.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>path</code>: Possibly qualified dotted name path to find. Can be a single name to find in this node scope or
dotted list of individual names to recurse into the scopes of. Each individual name can be prefixed with
<code>'def'</code> or <code>'class'</code> to indicate match function or class definition or not prefixed to indicate match both.</li>
<li><code>prev_found</code>: If <code>None</code> then find the first instance of <code>path</code>, otherwise search starts with this last node
which was found. Used for iterating over multiple definitions with the same name (<code>@overload</code> maybe?).
Removal or replacement is not currently supported while iterating.</li>
<li><code>recurse</code>: Whether to recurse past the first level of children by default. This only applies to the last scope
in <code>path</code> and determines whether only direct children of that scope are checked for the last name or if
recursion is allowed into block statements which are part of the scope.</li>
<li><code>asts</code>: If this is provided then it is walked as the first scope of the path instead of all of <code>self</code>. <code>self</code>
must still be a parent of these nodes (not necessarily a direct parent).</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: Node found if any.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_def</span><span class="p">(</span><span class="s1">&#39;nonexistent&#39;</span><span class="p">))</span>
<span class="go">None</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): pass</span><span class="se">\n</span><span class="s1">def g(): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_def</span><span class="p">(</span><span class="s1">&#39;g&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">def g(): pass</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): pass</span><span class="se">\n</span><span class="s1">class f: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_def</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">def f(): pass</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): pass</span><span class="se">\n</span><span class="s1">class f: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_def</span><span class="p">(</span><span class="s1">&#39;class f&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">class f: pass</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">class pre: pass</span>
<span class="gp">... </span><span class="s1">class cls:</span>
<span class="gp">... </span><span class="s1">    def f(): pass</span>
<span class="gp">... </span><span class="s1">    class g: pass</span>
<span class="gp">... </span><span class="s1">    if something:</span>
<span class="gp">... </span><span class="s1">        def g():</span>
<span class="gp">... </span><span class="s1">            class inner: pass</span>
<span class="gp">... </span><span class="s1">    def h(): pass</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">find_def</span><span class="p">(</span><span class="s1">&#39;cls.def g.inner&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">class inner: pass</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">@overload</span>
<span class="gp">... </span><span class="s1">def parse(data: bytes) -&gt; bytes: ...</span>
<span class="gp">... </span><span class="s1">@overload</span>
<span class="gp">... </span><span class="s1">def parse(data: str) -&gt; str: ...</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="s1">if VERSION:</span>
<span class="gp">... </span><span class="s1">    def parse(data):</span>
<span class="gp">... </span><span class="s1">        return data</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">prev_found</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">prev_found</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">find_def</span><span class="p">(</span><span class="s1">&#39;parse&#39;</span><span class="p">,</span> <span class="n">prev_found</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">prev_found</span><span class="p">,</span> <span class="n">prev_found</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">&lt;FunctionDef 1,0..1,36&gt; data: bytes</span>
<span class="go">&lt;FunctionDef 3,0..3,32&gt; data: str</span>
<span class="go">&lt;FunctionDef 6,4..7,19&gt; data</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">prev_found</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">prev_found</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">find_def</span><span class="p">(</span><span class="s1">&#39;parse&#39;</span><span class="p">,</span> <span class="n">prev_found</span><span class="p">,</span> <span class="n">recurse</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">prev_found</span><span class="p">,</span> <span class="n">prev_found</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">&lt;FunctionDef 1,0..1,36&gt; data: bytes</span>
<span class="go">&lt;FunctionDef 3,0..3,32&gt; data: str</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">asts</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prev_found</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">prev_found</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">find_def</span><span class="p">(</span><span class="s1">&#39;parse&#39;</span><span class="p">,</span> <span class="n">prev_found</span><span class="p">,</span> <span class="n">asts</span><span class="o">=</span><span class="n">asts</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">prev_found</span><span class="p">,</span> <span class="n">prev_found</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">&lt;FunctionDef 1,0..1,36&gt; data: bytes</span>
<span class="go">&lt;FunctionDef 6,4..7,19&gt; data</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.find_loc" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">find_loc</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">ln</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">col</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">end_ln</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">end_col</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">exact_top</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.find_loc"></a>
    
            <div class="docstring"><p>Find node which best fits location. If an exact location match is found then that is returned with the <code>top</code>
parameter specifying which of multiple nodes at same location is returned if that is the case. Otherwise
<code><a href="#FST.find_in_loc">find_in_loc()</a></code> is preferred if there is a match and if not then <code><a href="#FST.find_contains_loc">find_contains_loc()</a></code>. The search is done
efficiently so that the same nodes are not walked multiple times.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.ln">ln</a></code>: Start line of location to search for (0 based).</li>
<li><code><a href="#FST.col">col</a></code>: Start column (character) on start line.</li>
<li><code><a href="#FST.end_ln">end_ln</a></code>: End line of location to search for (0 based, inclusive).</li>
<li><code><a href="#FST.end_col">end_col</a></code>: End column (character, inclusive with <code><a href="#FST.end_col">FST.end_col</a></code>, exclusive with <code><a href="#FST.col">FST.col</a></code>) on end line.</li>
<li><code>exact_top</code>: If an exact location match is found and multiple nodes share this location (<code>Expr</code> and <code>expr</code>)
then this decides whether the highest level node is returned or the lowest (<code>True</code> means highest).</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: Node found if any.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">&lt;Name 0,0..0,3&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">exact_top</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&lt;Module ROOT 0,0..0,3&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">&lt;Name 0,0..0,3&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">exact_top</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&lt;Name 0,0..0,3&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">&lt;Module ROOT 0,0..0,3&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">repr</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="go">&#39;None&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.find_contains_loc" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">find_contains_loc</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">ln</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">col</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">end_ln</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">end_col</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">allow_exact</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.find_contains_loc"></a>
    
            <div class="docstring"><p>Find the lowest level node which entirely contains location (starting search at <code>self</code>). The search will
only find nodes at self or below, no parents.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.ln">ln</a></code>: Start line of location to search for (0 based).</li>
<li><code><a href="#FST.col">col</a></code>: Start column (character) on start line.</li>
<li><code><a href="#FST.end_ln">end_ln</a></code>: End line of location to search for (0 based, inclusive).</li>
<li><code><a href="#FST.end_col">end_col</a></code>: End column (character, inclusive with <code><a href="#FST.end_col">FST.end_col</a></code>, exclusive with <code><a href="#FST.col">FST.col</a></code>) on end line.</li>
<li><code>allow_exact</code>: Whether to allow return of exact location match with node or not. <code>True</code> means allow return of
node which matches location exactly. <code>False</code> means location must be inside the node but cannot be touching
<strong>BOTH</strong> ends of the node. This basically determines whether you can get the exact node of the location or
its parent. A value of <code>'top'</code> specifies an exact match is allowed and return the highest level node with
the match, otherwise the lowest level exact match is returned. This only applies to nodes like <code>Expr</code> which
will have the same location as the contained <code>expr</code> or a <code>Module</code> which only contains a single statement
without any other junk like comments or empty lines surrounding it.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: Node which entirely contains location, either exactly or not, or <code>None</code> if no such node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_contains_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">&lt;Name 0,4..0,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_contains_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">&lt;Name 0,4..0,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_contains_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">allow_exact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&lt;Assign 0,0..0,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_contains_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">allow_exact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&lt;Name 0,4..0,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_contains_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">allow_exact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&lt;Name 0,4..0,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_contains_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">&lt;Assign 0,0..0,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_contains_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">allow_exact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&lt;Assign 0,0..0,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_contains_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">allow_exact</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">None</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_contains_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">allow_exact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">&lt;Module ROOT 0,0..1,0&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_contains_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">&lt;Assign 0,0..0,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_contains_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">allow_exact</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
<span class="go">&lt;Module ROOT 0,0..0,7&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.find_in_loc" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">find_in_loc</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">ln</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">col</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">end_ln</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">end_col</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.find_in_loc"></a>
    
            <div class="docstring"><p>Find the first highest level node which is contained entirely in location (inclusive, starting search at
<code>self</code>). The search will only find nodes at self or below, no parents.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.ln">ln</a></code>: Start line of location to search (0 based).</li>
<li><code><a href="#FST.col">col</a></code>: Start column (character) on start line.</li>
<li><code><a href="#FST.end_ln">end_ln</a></code>: End line of location to search (0 based, inclusive).</li>
<li><code><a href="#FST.end_col">end_col</a></code>: End column (character, inclusive with <code><a href="#FST.end_col">FST.end_col</a></code>, exclusive with <code><a href="#FST.col">FST.col</a></code>) on end line.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: First node in syntactic order which is entirely contained in the location or <code>None</code> if no such
node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_in_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">&lt;Module ROOT 0,0..0,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_in_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">&lt;Name 0,4..0,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_in_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="go">&lt;Name 0,4..0,7&gt;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_in_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="go">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_parenthesizable" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_parenthesizable</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span>, </span><span class="param"><span class="n">star</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_parenthesizable"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is parenthesizable with grouping parentheses or not. <code>True</code> for all <code><a href="#FST.pattern">pattern</a></code>s and almost all
<code>expr</code>s (those which which are not <code>Slice</code>, <code>FormattedValue</code> or <code>Interpolation</code> and are not themselves inside
<code><a href="#FST.pattern">pattern</a></code>s).</p>

<p><strong>Note:</strong> <code>Starred</code> may return <code>True</code> even though the <code>Starred</code> itself is not parenthesizable but rather its
child is.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>star</code>: Whether to return top-level <code>Starred</code> as parenthesizable or not. It is convenient to consider it
parenthesizable like a normal expression since its children are parenthesizable and that is what gets
parenthesized if you try to <code><a href="#FST.par">par()</a></code> a <code>Starred</code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>bool</code>: Whether is syntactically legal to add grouping parentheses or not. Can always be forced.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i + j&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># expr</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;{a.b: c, **d}&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a:b:c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># Slice</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;for i in j&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># comprehension</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a: int, b=2&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># arguments</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a: int&#39;</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;key=&quot;word&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a as b&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;with a: pass&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># withitem is not parenthesizable</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">context_expr</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># the expr in it is</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case 1: pass&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># pattern is parenthesizable</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># expr in pattern is not</span>
<span class="go">False</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_parenthesized_tuple" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_parenthesized_tuple</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_parenthesized_tuple"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is a parenthesized <code>Tuple</code> or not, or not a <code>Tuple</code> at all.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>True</code>: Is a parenthesized <code>Tuple</code> node.</li>
<li><code>False</code>: Is an unparenthesized <code>Tuple</code> node.</li>
<li><code>None</code>: Is not a <code>Tuple</code> node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;1, 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesized_tuple</span><span class="p">()</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(1, 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesized_tuple</span><span class="p">()</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesized_tuple</span><span class="p">())</span>
<span class="go">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_delimited_matchseq" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_delimited_matchseq</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="s1">&#39;()&#39;</span><span class="p">]]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_delimited_matchseq"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is a delimited <code>MatchSequence</code> or not (parenthesized or bracketed), or not a <code>MatchSequence</code>
at all.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>'()'</code> or <code>'[]'</code>: Is a <code>MatchSequence</code> delimited with these delimiters.</li>
<li><code>''</code>: Is an undelimited <code>MatchSequence</code>.</li>
<li><code>None</code>: Is not a <code>MatchSequence</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case 1, 2: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">is_delimited_matchseq</span><span class="p">()</span>
<span class="go">&#39;&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case [1, 2]: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">is_delimited_matchseq</span><span class="p">()</span>
<span class="go">&#39;[]&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case (1, 2): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">is_delimited_matchseq</span><span class="p">()</span>
<span class="go">&#39;()&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case 1: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">is_delimited_matchseq</span><span class="p">())</span>
<span class="go">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_empty_arguments" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_empty_arguments</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_empty_arguments"></a>
    
            <div class="docstring"><p>Is this an empty <code>arguments</code> node or not an <code>arguments</code> node at all?</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>True</code>: Is an empty <code>arguments</code> node.</li>
<li><code>False</code>: Is an <code>arguments</code> node but not empty.</li>
<li><code>None</code>: Is not an <code>arguments</code> node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">is_empty_arguments</span><span class="p">())</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a, b): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">is_empty_arguments</span><span class="p">())</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_empty_arguments</span><span class="p">())</span>
<span class="go">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_except_star" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_except_star</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_except_star"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is an <code>except*</code> <code>ExceptHandler</code> or a normal <code>ExceptHandler</code>, or not and <code>ExceptHandler</code> at
all.</p>

<p><strong>Note:</strong> This function checks the source, not the parent <code>Try</code> or <code>TryStar</code> node so it will give the correct
answer even for top-level <code>ExceptHandler</code> nodes cut out of their blocks.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>True</code>: Is an <code>except*</code> <code>ExceptHandler</code>.</li>
<li><code>False</code>: Is a normal <code>ExceptHandler</code>.</li>
<li><code>None</code>: Is not an <code>ExceptHandler</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except* Exception: pass&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_except_star</span><span class="p">())</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except Exception: pass&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_except_star</span><span class="p">())</span>
<span class="gp">... </span><span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_except_star</span><span class="p">())</span>
<span class="go">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_elif" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_elif</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_elif"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is an <code>elif</code> or not, or not an <code>If</code> at all.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>True</code>: Is an <code>elif</code> <code>If</code>.</li>
<li><code>False</code>: Is a normal <code>If</code>.</li>
<li><code>None</code>: Is not an <code>If</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: pass</span><span class="se">\n</span><span class="s1">elif 2: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">orelse</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_elif</span><span class="p">()</span>
<span class="go">True</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: pass</span><span class="se">\n</span><span class="s1">else:</span><span class="se">\n</span><span class="s1">  if 2: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">orelse</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_elif</span><span class="p">()</span>
<span class="go">False</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: pass</span><span class="se">\n</span><span class="s1">else:</span><span class="se">\n</span><span class="s1">  i = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">orelse</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_elif</span><span class="p">())</span>
<span class="go">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_mod" class="classattr">
                                <div class="attr variable">
            <span class="name">is_mod</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_mod"></a>
    
            <div class="docstring"><p>Is a <code>mod</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_stmt" class="classattr">
                                <div class="attr variable">
            <span class="name">is_stmt</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_stmt"></a>
    
            <div class="docstring"><p>Is a <code>stmt</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_expr" class="classattr">
                                <div class="attr variable">
            <span class="name">is_expr</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_expr"></a>
    
            <div class="docstring"><p>Is an <code>expr</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_expr_context" class="classattr">
                                <div class="attr variable">
            <span class="name">is_expr_context</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_expr_context"></a>
    
            <div class="docstring"><p>Is an <code>expr_context</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_boolop" class="classattr">
                                <div class="attr variable">
            <span class="name">is_boolop</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_boolop"></a>
    
            <div class="docstring"><p>Is a <code>boolop</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_operator" class="classattr">
                                <div class="attr variable">
            <span class="name">is_operator</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_operator"></a>
    
            <div class="docstring"><p>Is an <code>operator</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_unaryop" class="classattr">
                                <div class="attr variable">
            <span class="name">is_unaryop</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_unaryop"></a>
    
            <div class="docstring"><p>Is a <code>unaryop</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_cmpop" class="classattr">
                                <div class="attr variable">
            <span class="name">is_cmpop</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_cmpop"></a>
    
            <div class="docstring"><p>Is a <code>cmpop</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_excepthandler" class="classattr">
                                <div class="attr variable">
            <span class="name">is_excepthandler</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_excepthandler"></a>
    
            <div class="docstring"><p>Is a <code>excepthandler</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_pattern" class="classattr">
                                <div class="attr variable">
            <span class="name">is_pattern</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_pattern"></a>
    
            <div class="docstring"><p>Is a <code><a href="#FST.pattern">pattern</a></code> node.</p>
</div>


                            </div>
                            <div id="FST.is_type_ignore" class="classattr">
                                <div class="attr variable">
            <span class="name">is_type_ignore</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_type_ignore"></a>
    
            <div class="docstring"><p>Is a <code>type_ignore</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_type_param" class="classattr">
                                <div class="attr variable">
            <span class="name">is_type_param</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_type_param"></a>
    
            <div class="docstring"><p>Is a <code>type_param</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_stmt_or_mod" class="classattr">
                                <div class="attr variable">
            <span class="name">is_stmt_or_mod</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_stmt_or_mod"></a>
    
            <div class="docstring"><p>Is a <code>stmt</code> or <code>mod</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_stmtlike" class="classattr">
                                <div class="attr variable">
            <span class="name">is_stmtlike</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_stmtlike"></a>
    
            <div class="docstring"><p>Is a <code>stmt</code>, <code>ExceptHandler</code> or <code>match_case</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_stmtlike_or_mod" class="classattr">
                                <div class="attr variable">
            <span class="name">is_stmtlike_or_mod</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_stmtlike_or_mod"></a>
    
            <div class="docstring"><p>Is a <code>stmt</code>, <code>ExceptHandler</code>, <code>match_case</code> or <code>mod</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_block" class="classattr">
                                <div class="attr variable">
            <span class="name">is_block</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_block"></a>
    
            <div class="docstring"><p>Is a node which opens a block. Types include <code>FunctionDef</code>, <code>AsyncFunctionDef</code>, <code>ClassDef</code>, <code>For</code>,
<code>AsyncFor</code>, <code>While</code>, <code>If</code>, <code>With</code>, <code>AsyncWith</code>, <code>Match</code>, <code>Try</code>, <code>TryStar</code>, <code>ExceptHandler</code> or <code>match_case</code>.</p>
</div>


                            </div>
                            <div id="FST.is_block_or_mod" class="classattr">
                                <div class="attr variable">
            <span class="name">is_block_or_mod</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_block_or_mod"></a>
    
            <div class="docstring"><p>Is a node which opens a block. Types include <code>FunctionDef</code>, <code>AsyncFunctionDef</code>, <code>ClassDef</code>, <code>For</code>,
<code>AsyncFor</code>, <code>While</code>, <code>If</code>, <code>With</code>, <code>AsyncWith</code>, <code>Match</code>, <code>Try</code>, <code>TryStar</code>, <code>ExceptHandler</code>, <code>match_case</code> or
<code>mod</code>.</p>
</div>


                            </div>
                            <div id="FST.is_scope" class="classattr">
                                <div class="attr variable">
            <span class="name">is_scope</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_scope"></a>
    
            <div class="docstring"><p>Is a node which opens a scope. Types include <code>FunctionDef</code>, <code>AsyncFunctionDef</code>, <code>ClassDef</code>, <code>Lambda</code>,
<code>ListComp</code>, <code>SetComp</code>, <code>DictComp</code> or <code>GeneratorExp</code>.</p>
</div>


                            </div>
                            <div id="FST.is_scope_or_mod" class="classattr">
                                <div class="attr variable">
            <span class="name">is_scope_or_mod</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_scope_or_mod"></a>
    
            <div class="docstring"><p>Is a node which opens a scope. Types include <code>FunctionDef</code>, <code>AsyncFunctionDef</code>, <code>ClassDef</code>, <code>Lambda</code>,
<code>ListComp</code>, <code>SetComp</code>, <code>DictComp</code>, <code>GeneratorExp</code> or <code>mod</code>.</p>
</div>


                            </div>
                            <div id="FST.is_named_scope" class="classattr">
                                <div class="attr variable">
            <span class="name">is_named_scope</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_named_scope"></a>
    
            <div class="docstring"><p>Is a node which opens a named scope. Types include <code>FunctionDef</code>, <code>AsyncFunctionDef</code> or <code>ClassDef</code>.</p>
</div>


                            </div>
                            <div id="FST.is_named_scope_or_mod" class="classattr">
                                <div class="attr variable">
            <span class="name">is_named_scope_or_mod</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_named_scope_or_mod"></a>
    
            <div class="docstring"><p>Is a node which opens a named scope. Types include <code>FunctionDef</code>, <code>AsyncFunctionDef</code>, <code>ClassDef</code> or <code>mod</code>.</p>
</div>


                            </div>
                            <div id="FST.is_anon_scope" class="classattr">
                                <div class="attr variable">
            <span class="name">is_anon_scope</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_anon_scope"></a>
    
            <div class="docstring"><p>Is a node which opens an anonymous scope. Types include <code>Lambda</code>, <code>ListComp</code>, <code>SetComp</code>, <code>DictComp</code> or
<code>GeneratorExp</code>.</p>
</div>


                            </div>
                            <div id="FST.is_funcdef" class="classattr">
                                <div class="attr variable">
            <span class="name">is_funcdef</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_funcdef"></a>
    
            <div class="docstring"><p>Is a sync or async function definition node, <code>FunctionDef</code> or <code>AsyncFunctionDef</code>.</p>
</div>


                            </div>
                            <div id="FST.is_def" class="classattr">
                                <div class="attr variable">
            <span class="name">is_def</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_def"></a>
    
            <div class="docstring"><p>Is a sync or async function or class definition node, <code>FunctionDef</code>, <code>AsyncFunctionDef</code> or <code>ClassDef</code>. Same
as <code><a href="#FST.is_named_scope">is_named_scope</a></code>.</p>
</div>


                            </div>
                            <div id="FST.is_def_or_mod" class="classattr">
                                <div class="attr variable">
            <span class="name">is_def_or_mod</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_def_or_mod"></a>
    
            <div class="docstring"><p>Is a sync or async function or class definition node, <code>FunctionDef</code>, <code>AsyncFunctionDef</code>, <code>ClassDef</code> or
<code>mod</code>. Same as <code><a href="#FST.is_named_scope_or_mod">is_named_scope_or_mod</a></code>.</p>
</div>


                            </div>
                            <div id="FST.is_for" class="classattr">
                                <div class="attr variable">
            <span class="name">is_for</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_for"></a>
    
            <div class="docstring"><p>Is a sync or async <code>for</code> node, <code>For</code> or <code>AsyncFor</code>, different from <code><a href="#FST.is_For">is_For</a></code> or <code><a href="#FST.is_AsyncFor">is_AsyncFor</a></code>.</p>
</div>


                            </div>
                            <div id="FST.is_with" class="classattr">
                                <div class="attr variable">
            <span class="name">is_with</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_with"></a>
    
            <div class="docstring"><p>Is a sync or async <code>with</code> node, <code>With</code> or <code>AsyncWith</code>, different from <code><a href="#FST.is_For">is_For</a></code> or <code><a href="#FST.is_AsyncFor">is_AsyncFor</a></code>.</p>
</div>


                            </div>
                            <div id="FST.is_try" class="classattr">
                                <div class="attr variable">
            <span class="name">is_try</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_try"></a>
    
            <div class="docstring"><p>Is a <code>Try</code> or <code>TryStar</code> node, different from <code><a href="#FST.is_Try">is_Try</a></code> or <code><a href="#FST.is_TryStar">is_TryStar</a></code>.</p>
</div>


                            </div>
                            <div id="FST.is_import" class="classattr">
                                <div class="attr variable">
            <span class="name">is_import</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_import"></a>
    
            <div class="docstring"><p>Is an <code>Import</code> or <code>ImportFrom</code> node, different from <code><a href="#FST.is_Import">is_Import</a></code> or <code><a href="#FST.is_ImportFrom">is_ImportFrom</a></code>.</p>
</div>


                            </div>
                            <div id="FST.is_ftstr" class="classattr">
                                <div class="attr variable">
            <span class="name">is_ftstr</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_ftstr"></a>
    
            <div class="docstring"><p>Is an f-string <code>JoinedStr</code> or t-string <code>TemplateStr</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_ftstr_fmt" class="classattr">
                                <div class="attr variable">
            <span class="name">is_ftstr_fmt</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_ftstr_fmt"></a>
    
            <div class="docstring"><p>Is an f-string <code>FormattedValue</code> or t-string <code>Interpolation</code> node.</p>
</div>


                            </div>
                            <div id="FST.is__slice" class="classattr">
                                <div class="attr variable">
            <span class="name">is__slice</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is__slice"></a>
    
            <div class="docstring"><p>Is one of our own custom SPECIAL SLICE nodes.</p>
</div>


                            </div>
                            <div id="FST.is_Module" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Module</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Module"></a>
    
            <div class="docstring"><p>Is a <code>Module</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Interactive" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Interactive</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Interactive"></a>
    
            <div class="docstring"><p>Is a <code>Interactive</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Expression" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Expression</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Expression"></a>
    
            <div class="docstring"><p>Is a <code>Expression</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_FunctionType" class="classattr">
                                <div class="attr variable">
            <span class="name">is_FunctionType</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_FunctionType"></a>
    
            <div class="docstring"><p>Is a <code>FunctionType</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_FunctionDef" class="classattr">
                                <div class="attr variable">
            <span class="name">is_FunctionDef</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_FunctionDef"></a>
    
            <div class="docstring"><p>Is a <code>FunctionDef</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_AsyncFunctionDef" class="classattr">
                                <div class="attr variable">
            <span class="name">is_AsyncFunctionDef</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_AsyncFunctionDef"></a>
    
            <div class="docstring"><p>Is a <code>AsyncFunctionDef</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_ClassDef" class="classattr">
                                <div class="attr variable">
            <span class="name">is_ClassDef</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_ClassDef"></a>
    
            <div class="docstring"><p>Is a <code>ClassDef</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Return" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Return</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Return"></a>
    
            <div class="docstring"><p>Is a <code>Return</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Delete" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Delete</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Delete"></a>
    
            <div class="docstring"><p>Is a <code>Delete</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Assign" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Assign</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Assign"></a>
    
            <div class="docstring"><p>Is a <code>Assign</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_TypeAlias" class="classattr">
                                <div class="attr variable">
            <span class="name">is_TypeAlias</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_TypeAlias"></a>
    
            <div class="docstring"><p>Is a <code>TypeAlias</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_AugAssign" class="classattr">
                                <div class="attr variable">
            <span class="name">is_AugAssign</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_AugAssign"></a>
    
            <div class="docstring"><p>Is a <code>AugAssign</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_AnnAssign" class="classattr">
                                <div class="attr variable">
            <span class="name">is_AnnAssign</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_AnnAssign"></a>
    
            <div class="docstring"><p>Is a <code>AnnAssign</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_For" class="classattr">
                                <div class="attr variable">
            <span class="name">is_For</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_For"></a>
    
            <div class="docstring"><p>Is a <code>For</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_AsyncFor" class="classattr">
                                <div class="attr variable">
            <span class="name">is_AsyncFor</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_AsyncFor"></a>
    
            <div class="docstring"><p>Is a <code>AsyncFor</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_While" class="classattr">
                                <div class="attr variable">
            <span class="name">is_While</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_While"></a>
    
            <div class="docstring"><p>Is a <code>While</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_If" class="classattr">
                                <div class="attr variable">
            <span class="name">is_If</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_If"></a>
    
            <div class="docstring"><p>Is a <code>If</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_With" class="classattr">
                                <div class="attr variable">
            <span class="name">is_With</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_With"></a>
    
            <div class="docstring"><p>Is a <code>With</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_AsyncWith" class="classattr">
                                <div class="attr variable">
            <span class="name">is_AsyncWith</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_AsyncWith"></a>
    
            <div class="docstring"><p>Is a <code>AsyncWith</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Match" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Match</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Match"></a>
    
            <div class="docstring"><p>Is a <code>Match</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Raise" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Raise</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Raise"></a>
    
            <div class="docstring"><p>Is a <code>Raise</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Try" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Try</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Try"></a>
    
            <div class="docstring"><p>Is a <code>Try</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_TryStar" class="classattr">
                                <div class="attr variable">
            <span class="name">is_TryStar</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_TryStar"></a>
    
            <div class="docstring"><p>Is a <code>TryStar</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Assert" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Assert</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Assert"></a>
    
            <div class="docstring"><p>Is a <code>Assert</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Import" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Import</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Import"></a>
    
            <div class="docstring"><p>Is a <code>Import</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_ImportFrom" class="classattr">
                                <div class="attr variable">
            <span class="name">is_ImportFrom</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_ImportFrom"></a>
    
            <div class="docstring"><p>Is a <code>ImportFrom</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Global" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Global</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Global"></a>
    
            <div class="docstring"><p>Is a <code>Global</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Nonlocal" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Nonlocal</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Nonlocal"></a>
    
            <div class="docstring"><p>Is a <code>Nonlocal</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Expr" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Expr</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Expr"></a>
    
            <div class="docstring"><p>Is a <code>Expr</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Pass" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Pass</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Pass"></a>
    
            <div class="docstring"><p>Is a <code>Pass</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Break" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Break</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Break"></a>
    
            <div class="docstring"><p>Is a <code>Break</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Continue" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Continue</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Continue"></a>
    
            <div class="docstring"><p>Is a <code>Continue</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_BoolOp" class="classattr">
                                <div class="attr variable">
            <span class="name">is_BoolOp</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_BoolOp"></a>
    
            <div class="docstring"><p>Is a <code>BoolOp</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_NamedExpr" class="classattr">
                                <div class="attr variable">
            <span class="name">is_NamedExpr</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_NamedExpr"></a>
    
            <div class="docstring"><p>Is a <code>NamedExpr</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_BinOp" class="classattr">
                                <div class="attr variable">
            <span class="name">is_BinOp</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_BinOp"></a>
    
            <div class="docstring"><p>Is a <code>BinOp</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_UnaryOp" class="classattr">
                                <div class="attr variable">
            <span class="name">is_UnaryOp</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_UnaryOp"></a>
    
            <div class="docstring"><p>Is a <code>UnaryOp</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Lambda" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Lambda</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Lambda"></a>
    
            <div class="docstring"><p>Is a <code>Lambda</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_IfExp" class="classattr">
                                <div class="attr variable">
            <span class="name">is_IfExp</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_IfExp"></a>
    
            <div class="docstring"><p>Is a <code>IfExp</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Dict" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Dict</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Dict"></a>
    
            <div class="docstring"><p>Is a <code>Dict</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Set" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Set</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Set"></a>
    
            <div class="docstring"><p>Is a <code>Set</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_ListComp" class="classattr">
                                <div class="attr variable">
            <span class="name">is_ListComp</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_ListComp"></a>
    
            <div class="docstring"><p>Is a <code>ListComp</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_SetComp" class="classattr">
                                <div class="attr variable">
            <span class="name">is_SetComp</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_SetComp"></a>
    
            <div class="docstring"><p>Is a <code>SetComp</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_DictComp" class="classattr">
                                <div class="attr variable">
            <span class="name">is_DictComp</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_DictComp"></a>
    
            <div class="docstring"><p>Is a <code>DictComp</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_GeneratorExp" class="classattr">
                                <div class="attr variable">
            <span class="name">is_GeneratorExp</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_GeneratorExp"></a>
    
            <div class="docstring"><p>Is a <code>GeneratorExp</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Await" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Await</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Await"></a>
    
            <div class="docstring"><p>Is a <code>Await</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Yield" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Yield</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Yield"></a>
    
            <div class="docstring"><p>Is a <code>Yield</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_YieldFrom" class="classattr">
                                <div class="attr variable">
            <span class="name">is_YieldFrom</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_YieldFrom"></a>
    
            <div class="docstring"><p>Is a <code>YieldFrom</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Compare" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Compare</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Compare"></a>
    
            <div class="docstring"><p>Is a <code>Compare</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Call" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Call</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Call"></a>
    
            <div class="docstring"><p>Is a <code>Call</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_FormattedValue" class="classattr">
                                <div class="attr variable">
            <span class="name">is_FormattedValue</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_FormattedValue"></a>
    
            <div class="docstring"><p>Is a <code>FormattedValue</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Interpolation" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Interpolation</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Interpolation"></a>
    
            <div class="docstring"><p>Is a <code>Interpolation</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_JoinedStr" class="classattr">
                                <div class="attr variable">
            <span class="name">is_JoinedStr</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_JoinedStr"></a>
    
            <div class="docstring"><p>Is a <code>JoinedStr</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_TemplateStr" class="classattr">
                                <div class="attr variable">
            <span class="name">is_TemplateStr</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_TemplateStr"></a>
    
            <div class="docstring"><p>Is a <code>TemplateStr</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Constant" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Constant</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Constant"></a>
    
            <div class="docstring"><p>Is a <code>Constant</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Attribute" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Attribute</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Attribute"></a>
    
            <div class="docstring"><p>Is a <code>Attribute</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Subscript" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Subscript</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Subscript"></a>
    
            <div class="docstring"><p>Is a <code>Subscript</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Starred" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Starred</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Starred"></a>
    
            <div class="docstring"><p>Is a <code>Starred</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Name" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Name</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Name"></a>
    
            <div class="docstring"><p>Is a <code>Name</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_List" class="classattr">
                                <div class="attr variable">
            <span class="name">is_List</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_List"></a>
    
            <div class="docstring"><p>Is a <code>List</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Tuple" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Tuple</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Tuple"></a>
    
            <div class="docstring"><p>Is a <code>Tuple</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Slice" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Slice</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Slice"></a>
    
            <div class="docstring"><p>Is a <code>Slice</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Load" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Load</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Load"></a>
    
            <div class="docstring"><p>Is a <code>Load</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Store" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Store</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Store"></a>
    
            <div class="docstring"><p>Is a <code>Store</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Del" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Del</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Del"></a>
    
            <div class="docstring"><p>Is a <code>Del</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_And" class="classattr">
                                <div class="attr variable">
            <span class="name">is_And</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_And"></a>
    
            <div class="docstring"><p>Is a <code>And</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Or" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Or</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Or"></a>
    
            <div class="docstring"><p>Is a <code>Or</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Add" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Add</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Add"></a>
    
            <div class="docstring"><p>Is a <code>Add</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Sub" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Sub</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Sub"></a>
    
            <div class="docstring"><p>Is a <code>Sub</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Mult" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Mult</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Mult"></a>
    
            <div class="docstring"><p>Is a <code>Mult</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_MatMult" class="classattr">
                                <div class="attr variable">
            <span class="name">is_MatMult</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_MatMult"></a>
    
            <div class="docstring"><p>Is a <code>MatMult</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Div" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Div</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Div"></a>
    
            <div class="docstring"><p>Is a <code>Div</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Mod" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Mod</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Mod"></a>
    
            <div class="docstring"><p>Is a <code>Mod</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Pow" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Pow</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Pow"></a>
    
            <div class="docstring"><p>Is a <code>Pow</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_LShift" class="classattr">
                                <div class="attr variable">
            <span class="name">is_LShift</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_LShift"></a>
    
            <div class="docstring"><p>Is a <code>LShift</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_RShift" class="classattr">
                                <div class="attr variable">
            <span class="name">is_RShift</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_RShift"></a>
    
            <div class="docstring"><p>Is a <code>RShift</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_BitOr" class="classattr">
                                <div class="attr variable">
            <span class="name">is_BitOr</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_BitOr"></a>
    
            <div class="docstring"><p>Is a <code>BitOr</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_BitXor" class="classattr">
                                <div class="attr variable">
            <span class="name">is_BitXor</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_BitXor"></a>
    
            <div class="docstring"><p>Is a <code>BitXor</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_BitAnd" class="classattr">
                                <div class="attr variable">
            <span class="name">is_BitAnd</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_BitAnd"></a>
    
            <div class="docstring"><p>Is a <code>BitAnd</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_FloorDiv" class="classattr">
                                <div class="attr variable">
            <span class="name">is_FloorDiv</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_FloorDiv"></a>
    
            <div class="docstring"><p>Is a <code>FloorDiv</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Invert" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Invert</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Invert"></a>
    
            <div class="docstring"><p>Is a <code>Invert</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Not" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Not</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Not"></a>
    
            <div class="docstring"><p>Is a <code>Not</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_UAdd" class="classattr">
                                <div class="attr variable">
            <span class="name">is_UAdd</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_UAdd"></a>
    
            <div class="docstring"><p>Is a <code>UAdd</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_USub" class="classattr">
                                <div class="attr variable">
            <span class="name">is_USub</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_USub"></a>
    
            <div class="docstring"><p>Is a <code>USub</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Eq" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Eq</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Eq"></a>
    
            <div class="docstring"><p>Is a <code>Eq</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_NotEq" class="classattr">
                                <div class="attr variable">
            <span class="name">is_NotEq</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_NotEq"></a>
    
            <div class="docstring"><p>Is a <code>NotEq</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Lt" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Lt</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Lt"></a>
    
            <div class="docstring"><p>Is a <code>Lt</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_LtE" class="classattr">
                                <div class="attr variable">
            <span class="name">is_LtE</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_LtE"></a>
    
            <div class="docstring"><p>Is a <code>LtE</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Gt" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Gt</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Gt"></a>
    
            <div class="docstring"><p>Is a <code>Gt</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_GtE" class="classattr">
                                <div class="attr variable">
            <span class="name">is_GtE</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_GtE"></a>
    
            <div class="docstring"><p>Is a <code>GtE</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_Is" class="classattr">
                                <div class="attr variable">
            <span class="name">is_Is</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_Is"></a>
    
            <div class="docstring"><p>Is a <code>Is</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_IsNot" class="classattr">
                                <div class="attr variable">
            <span class="name">is_IsNot</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_IsNot"></a>
    
            <div class="docstring"><p>Is a <code>IsNot</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_In" class="classattr">
                                <div class="attr variable">
            <span class="name">is_In</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_In"></a>
    
            <div class="docstring"><p>Is a <code>In</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_NotIn" class="classattr">
                                <div class="attr variable">
            <span class="name">is_NotIn</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_NotIn"></a>
    
            <div class="docstring"><p>Is a <code>NotIn</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_comprehension" class="classattr">
                                <div class="attr variable">
            <span class="name">is_comprehension</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_comprehension"></a>
    
            <div class="docstring"><p>Is a <code>comprehension</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_ExceptHandler" class="classattr">
                                <div class="attr variable">
            <span class="name">is_ExceptHandler</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_ExceptHandler"></a>
    
            <div class="docstring"><p>Is a <code>ExceptHandler</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_arguments" class="classattr">
                                <div class="attr variable">
            <span class="name">is_arguments</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_arguments"></a>
    
            <div class="docstring"><p>Is a <code>arguments</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_arg" class="classattr">
                                <div class="attr variable">
            <span class="name">is_arg</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_arg"></a>
    
            <div class="docstring"><p>Is a <code><a href="#FST.arg">arg</a></code> node.</p>
</div>


                            </div>
                            <div id="FST.is_keyword" class="classattr">
                                <div class="attr variable">
            <span class="name">is_keyword</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_keyword"></a>
    
            <div class="docstring"><p>Is a <code>keyword</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_alias" class="classattr">
                                <div class="attr variable">
            <span class="name">is_alias</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_alias"></a>
    
            <div class="docstring"><p>Is a <code>alias</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_withitem" class="classattr">
                                <div class="attr variable">
            <span class="name">is_withitem</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_withitem"></a>
    
            <div class="docstring"><p>Is a <code>withitem</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_match_case" class="classattr">
                                <div class="attr variable">
            <span class="name">is_match_case</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_match_case"></a>
    
            <div class="docstring"><p>Is a <code>match_case</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_MatchValue" class="classattr">
                                <div class="attr variable">
            <span class="name">is_MatchValue</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_MatchValue"></a>
    
            <div class="docstring"><p>Is a <code>MatchValue</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_MatchSingleton" class="classattr">
                                <div class="attr variable">
            <span class="name">is_MatchSingleton</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_MatchSingleton"></a>
    
            <div class="docstring"><p>Is a <code>MatchSingleton</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_MatchSequence" class="classattr">
                                <div class="attr variable">
            <span class="name">is_MatchSequence</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_MatchSequence"></a>
    
            <div class="docstring"><p>Is a <code>MatchSequence</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_MatchMapping" class="classattr">
                                <div class="attr variable">
            <span class="name">is_MatchMapping</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_MatchMapping"></a>
    
            <div class="docstring"><p>Is a <code>MatchMapping</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_MatchClass" class="classattr">
                                <div class="attr variable">
            <span class="name">is_MatchClass</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_MatchClass"></a>
    
            <div class="docstring"><p>Is a <code>MatchClass</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_MatchStar" class="classattr">
                                <div class="attr variable">
            <span class="name">is_MatchStar</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_MatchStar"></a>
    
            <div class="docstring"><p>Is a <code>MatchStar</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_MatchAs" class="classattr">
                                <div class="attr variable">
            <span class="name">is_MatchAs</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_MatchAs"></a>
    
            <div class="docstring"><p>Is a <code>MatchAs</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_MatchOr" class="classattr">
                                <div class="attr variable">
            <span class="name">is_MatchOr</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_MatchOr"></a>
    
            <div class="docstring"><p>Is a <code>MatchOr</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_TypeIgnore" class="classattr">
                                <div class="attr variable">
            <span class="name">is_TypeIgnore</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_TypeIgnore"></a>
    
            <div class="docstring"><p>Is a <code>TypeIgnore</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_TypeVar" class="classattr">
                                <div class="attr variable">
            <span class="name">is_TypeVar</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_TypeVar"></a>
    
            <div class="docstring"><p>Is a <code>TypeVar</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_ParamSpec" class="classattr">
                                <div class="attr variable">
            <span class="name">is_ParamSpec</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_ParamSpec"></a>
    
            <div class="docstring"><p>Is a <code>ParamSpec</code> node.</p>
</div>


                            </div>
                            <div id="FST.is_TypeVarTuple" class="classattr">
                                <div class="attr variable">
            <span class="name">is_TypeVarTuple</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_TypeVarTuple"></a>
    
            <div class="docstring"><p>Is a <code>TypeVarTuple</code> node.</p>
</div>


                            </div>
                            <div id="FST.is__ExceptHandlers" class="classattr">
                                <div class="attr variable">
            <span class="name">is__ExceptHandlers</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is__ExceptHandlers"></a>
    
            <div class="docstring"><p>Is a <code>_ExceptHandlers</code> node.</p>
</div>


                            </div>
                            <div id="FST.is__match_cases" class="classattr">
                                <div class="attr variable">
            <span class="name">is__match_cases</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is__match_cases"></a>
    
            <div class="docstring"><p>Is a <code>_match_cases</code> node.</p>
</div>


                            </div>
                            <div id="FST.is__Assign_targets" class="classattr">
                                <div class="attr variable">
            <span class="name">is__Assign_targets</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is__Assign_targets"></a>
    
            <div class="docstring"><p>Is a <code>_Assign_targets</code> node.</p>
</div>


                            </div>
                            <div id="FST.is__decorator_list" class="classattr">
                                <div class="attr variable">
            <span class="name">is__decorator_list</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is__decorator_list"></a>
    
            <div class="docstring"><p>Is a <code>_decorator_list</code> node.</p>
</div>


                            </div>
                            <div id="FST.is__arglikes" class="classattr">
                                <div class="attr variable">
            <span class="name">is__arglikes</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is__arglikes"></a>
    
            <div class="docstring"><p>Is a <code>_arglikes</code> node.</p>
</div>


                            </div>
                            <div id="FST.is__comprehensions" class="classattr">
                                <div class="attr variable">
            <span class="name">is__comprehensions</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is__comprehensions"></a>
    
            <div class="docstring"><p>Is a <code>_comprehensions</code> node.</p>
</div>


                            </div>
                            <div id="FST.is__comprehension_ifs" class="classattr">
                                <div class="attr variable">
            <span class="name">is__comprehension_ifs</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is__comprehension_ifs"></a>
    
            <div class="docstring"><p>Is a <code>_comprehension_ifs</code> node.</p>
</div>


                            </div>
                            <div id="FST.is__aliases" class="classattr">
                                <div class="attr variable">
            <span class="name">is__aliases</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is__aliases"></a>
    
            <div class="docstring"><p>Is a <code>_aliases</code> node.</p>
</div>


                            </div>
                            <div id="FST.is__withitems" class="classattr">
                                <div class="attr variable">
            <span class="name">is__withitems</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is__withitems"></a>
    
            <div class="docstring"><p>Is a <code>_withitems</code> node.</p>
</div>


                            </div>
                            <div id="FST.is__type_params" class="classattr">
                                <div class="attr variable">
            <span class="name">is__type_params</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is__type_params"></a>
    
            <div class="docstring"><p>Is a <code>_type_params</code> node.</p>
</div>


                            </div>
                            <div id="FST._all" class="classattr">
                                <div class="attr variable">
            <span class="name">_all</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST._all"></a>
    
            <div class="docstring"><p>Virtual <code><a href="#FST._all">_all</a></code> field view for <code>Dict</code>, <code>MatchMapping</code>, <code>Compare</code> and <code>arguments</code>.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;{a: b, c: d, e: f}&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">_all</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;{c: d}&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;{1: a, 2: b, **rest}&#39;</span><span class="p">,</span> <span class="s1">&#39;MatchMapping&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">_all</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;{2: b, **rest}&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a &lt; b == c &gt; d&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">_all</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;b == c&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a=1, *b, c: int = 3, **d): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">_all</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;*, c: int = 3, **d&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST._body" class="classattr">
                                <div class="attr variable">
            <span class="name">_body</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST._body"></a>
    
            <div class="docstring"><p>Virtual <code><a href="#FST._body">_body</a></code> field for statements. Special field view for statements which excludes a docstring if
present from the list and indexing.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">def func():</span>
<span class="gp">... </span><span class="s1">    </span><span class="se">\&#39;\&#39;\&#39;</span><span class="s1">docstring</span><span class="se">\&#39;\&#39;\&#39;</span>
<span class="gp">... </span><span class="s1">    first_stmt()</span>
<span class="gp">... </span><span class="s1">    second_stmt()</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">_body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;first_stmt()&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">_body</span><span class="p">))</span>
<span class="go">[&#39;second_stmt()&#39;, &#39;first_stmt()&#39;]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">_body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;replacement_stmt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">def func():</span>
<span class="go">    &#39;&#39;&#39;docstring&#39;&#39;&#39;</span>
<span class="go">    replacement_stmt</span>
<span class="go">    second_stmt()</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST._args" class="classattr">
                                <div class="attr variable">
            <span class="name">_args</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST._args"></a>
    
            <div class="docstring"><p>Virtual <code><a href="#FST._args">_args</a></code> field view for merged <code>Call.args+keywords</code>.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(a, *not b, c=d, *e, **h, f=g)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">_args</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;*not b&#39;, &#39;c=d&#39;, &#39;*e&#39;, &#39;**h&#39;, &#39;f=g&#39;]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(a, *not b, c=d, *e, **h, f=g)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">_args</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;*not b, c=d, *e, **h&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(a, b, c, d)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put_slice</span><span class="p">(</span><span class="s1">&#39;k=w, *s&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;end&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;call(a, k=w, *s)&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(a, b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;k=w&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">fst.NodeError</span>: <span class="n">keyword arglike cannot precede positional arglike</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST._bases" class="classattr">
                                <div class="attr variable">
            <span class="name">_bases</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST._bases"></a>
    
            <div class="docstring"><p>Virtual <code><a href="#FST._bases">_bases</a></code> field view for merged <code>ClassDef.bases+keywords</code>.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;class cls(a, *not b, c=d, *e, **h): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">_bases</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;*not b&#39;, &#39;c=d&#39;, &#39;*e&#39;, &#39;**h&#39;]</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;class cls(base, meta=cls, *other_bases): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">_bases</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="go">&#39;meta=cls, *other_bases&#39;</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;class cls(base, meta=cls): pass&#39;</span><span class="p">)</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">f</span><span class="o">.</span><span class="n">_bases</span>
</code></pre>
</div>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="go">class cls: pass</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.body" class="classattr">
                                <div class="attr variable">
            <span class="name">body</span><span class="annotation">: Union[<a href="view.html#FSTView">fst.view.FSTView</a>, <a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.body"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.body">body</a></code>.</p>
</div>


                            </div>
                            <div id="FST.type_ignores" class="classattr">
                                <div class="attr variable">
            <span class="name">type_ignores</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.type_ignores"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.type_ignores">type_ignores</a></code>.</p>
</div>


                            </div>
                            <div id="FST.argtypes" class="classattr">
                                <div class="attr variable">
            <span class="name">argtypes</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.argtypes"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.argtypes">argtypes</a></code>.</p>
</div>


                            </div>
                            <div id="FST.returns" class="classattr">
                                <div class="attr variable">
            <span class="name">returns</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.returns"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.returns">returns</a></code>.</p>
</div>


                            </div>
                            <div id="FST.decorator_list" class="classattr">
                                <div class="attr variable">
            <span class="name">decorator_list</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.decorator_list"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.decorator_list">decorator_list</a></code>.</p>
</div>


                            </div>
                            <div id="FST.name" class="classattr">
                                <div class="attr variable">
            <span class="name">name</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.name"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.name">name</a></code>.</p>
</div>


                            </div>
                            <div id="FST.type_params" class="classattr">
                                <div class="attr variable">
            <span class="name">type_params</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.type_params"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.type_params">type_params</a></code>.</p>
</div>


                            </div>
                            <div id="FST.args" class="classattr">
                                <div class="attr variable">
            <span class="name">args</span><span class="annotation">: Union[<a href="view.html#FSTView">fst.view.FSTView</a>, <a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.args"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.args">args</a></code>.</p>
</div>


                            </div>
                            <div id="FST.type_comment" class="classattr">
                                <div class="attr variable">
            <span class="name">type_comment</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.type_comment"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.type_comment">type_comment</a></code>.</p>
</div>


                            </div>
                            <div id="FST.bases" class="classattr">
                                <div class="attr variable">
            <span class="name">bases</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.bases"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.bases">bases</a></code>.</p>
</div>


                            </div>
                            <div id="FST.keywords" class="classattr">
                                <div class="attr variable">
            <span class="name">keywords</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.keywords"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.keywords">keywords</a></code>.</p>
</div>


                            </div>
                            <div id="FST.value" class="classattr">
                                <div class="attr variable">
            <span class="name">value</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.value"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.value">value</a></code>.</p>
</div>


                            </div>
                            <div id="FST.targets" class="classattr">
                                <div class="attr variable">
            <span class="name">targets</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.targets"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.targets">targets</a></code>.</p>
</div>


                            </div>
                            <div id="FST.target" class="classattr">
                                <div class="attr variable">
            <span class="name">target</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.target"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.target">target</a></code>.</p>
</div>


                            </div>
                            <div id="FST.op" class="classattr">
                                <div class="attr variable">
            <span class="name">op</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.op"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.op">op</a></code>.</p>
</div>


                            </div>
                            <div id="FST.annotation" class="classattr">
                                <div class="attr variable">
            <span class="name">annotation</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.annotation"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.annotation">annotation</a></code>.</p>
</div>


                            </div>
                            <div id="FST.simple" class="classattr">
                                <div class="attr variable">
            <span class="name">simple</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.simple"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.simple">simple</a></code>.</p>
</div>


                            </div>
                            <div id="FST.iter" class="classattr">
                                <div class="attr variable">
            <span class="name">iter</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.iter"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.iter">iter</a></code>.</p>
</div>


                            </div>
                            <div id="FST.orelse" class="classattr">
                                <div class="attr variable">
            <span class="name">orelse</span><span class="annotation">: Union[<a href="view.html#FSTView">fst.view.FSTView</a>, <a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.orelse"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.orelse">orelse</a></code>.</p>
</div>


                            </div>
                            <div id="FST.test" class="classattr">
                                <div class="attr variable">
            <span class="name">test</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.test"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.test">test</a></code>.</p>
</div>


                            </div>
                            <div id="FST.items" class="classattr">
                                <div class="attr variable">
            <span class="name">items</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.items"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.items">items</a></code>.</p>
</div>


                            </div>
                            <div id="FST.subject" class="classattr">
                                <div class="attr variable">
            <span class="name">subject</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.subject"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.subject">subject</a></code>.</p>
</div>


                            </div>
                            <div id="FST.cases" class="classattr">
                                <div class="attr variable">
            <span class="name">cases</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.cases"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.cases">cases</a></code>.</p>
</div>


                            </div>
                            <div id="FST.exc" class="classattr">
                                <div class="attr variable">
            <span class="name">exc</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.exc"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.exc">exc</a></code>.</p>
</div>


                            </div>
                            <div id="FST.cause" class="classattr">
                                <div class="attr variable">
            <span class="name">cause</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.cause"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.cause">cause</a></code>.</p>
</div>


                            </div>
                            <div id="FST.handlers" class="classattr">
                                <div class="attr variable">
            <span class="name">handlers</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.handlers"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.handlers">handlers</a></code>.</p>
</div>


                            </div>
                            <div id="FST.finalbody" class="classattr">
                                <div class="attr variable">
            <span class="name">finalbody</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.finalbody"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.finalbody">finalbody</a></code>.</p>
</div>


                            </div>
                            <div id="FST.msg" class="classattr">
                                <div class="attr variable">
            <span class="name">msg</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.msg"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.msg">msg</a></code>.</p>
</div>


                            </div>
                            <div id="FST.names" class="classattr">
                                <div class="attr variable">
            <span class="name">names</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.names"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.names">names</a></code>.</p>
</div>


                            </div>
                            <div id="FST.module" class="classattr">
                                <div class="attr variable">
            <span class="name">module</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.module"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.module">module</a></code>.</p>
</div>


                            </div>
                            <div id="FST.level" class="classattr">
                                <div class="attr variable">
            <span class="name">level</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.level"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.level">level</a></code>.</p>
</div>


                            </div>
                            <div id="FST.values" class="classattr">
                                <div class="attr variable">
            <span class="name">values</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.values"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.values">values</a></code>.</p>
</div>


                            </div>
                            <div id="FST.left" class="classattr">
                                <div class="attr variable">
            <span class="name">left</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.left"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.left">left</a></code>.</p>
</div>


                            </div>
                            <div id="FST.right" class="classattr">
                                <div class="attr variable">
            <span class="name">right</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.right"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.right">right</a></code>.</p>
</div>


                            </div>
                            <div id="FST.operand" class="classattr">
                                <div class="attr variable">
            <span class="name">operand</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.operand"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.operand">operand</a></code>.</p>
</div>


                            </div>
                            <div id="FST.keys" class="classattr">
                                <div class="attr variable">
            <span class="name">keys</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.keys"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.keys">keys</a></code>.</p>
</div>


                            </div>
                            <div id="FST.elts" class="classattr">
                                <div class="attr variable">
            <span class="name">elts</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.elts"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.elts">elts</a></code>.</p>
</div>


                            </div>
                            <div id="FST.elt" class="classattr">
                                <div class="attr variable">
            <span class="name">elt</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.elt"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.elt">elt</a></code>.</p>
</div>


                            </div>
                            <div id="FST.generators" class="classattr">
                                <div class="attr variable">
            <span class="name">generators</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.generators"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.generators">generators</a></code>.</p>
</div>


                            </div>
                            <div id="FST.key" class="classattr">
                                <div class="attr variable">
            <span class="name">key</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.key"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.key">key</a></code>.</p>
</div>


                            </div>
                            <div id="FST.ops" class="classattr">
                                <div class="attr variable">
            <span class="name">ops</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.ops"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.ops">ops</a></code>.</p>
</div>


                            </div>
                            <div id="FST.comparators" class="classattr">
                                <div class="attr variable">
            <span class="name">comparators</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.comparators"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.comparators">comparators</a></code>.</p>
</div>


                            </div>
                            <div id="FST.func" class="classattr">
                                <div class="attr variable">
            <span class="name">func</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.func"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.func">func</a></code>.</p>
</div>


                            </div>
                            <div id="FST.conversion" class="classattr">
                                <div class="attr variable">
            <span class="name">conversion</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.conversion"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.conversion">conversion</a></code>.</p>
</div>


                            </div>
                            <div id="FST.format_spec" class="classattr">
                                <div class="attr variable">
            <span class="name">format_spec</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.format_spec"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.format_spec">format_spec</a></code>.</p>
</div>


                            </div>
                            <div id="FST.str" class="classattr">
                                <div class="attr variable">
            <span class="name">str</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.str"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.str">str</a></code>.</p>
</div>


                            </div>
                            <div id="FST.kind" class="classattr">
                                <div class="attr variable">
            <span class="name">kind</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.kind"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.kind">kind</a></code>.</p>
</div>


                            </div>
                            <div id="FST.attr" class="classattr">
                                <div class="attr variable">
            <span class="name">attr</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.attr"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.attr">attr</a></code>.</p>
</div>


                            </div>
                            <div id="FST.ctx" class="classattr">
                                <div class="attr variable">
            <span class="name">ctx</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.ctx"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.ctx">ctx</a></code>.</p>
</div>


                            </div>
                            <div id="FST.slice" class="classattr">
                                <div class="attr variable">
            <span class="name">slice</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.slice"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.slice">slice</a></code>.</p>
</div>


                            </div>
                            <div id="FST.id" class="classattr">
                                <div class="attr variable">
            <span class="name">id</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.id"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.id">id</a></code>.</p>
</div>


                            </div>
                            <div id="FST.lower" class="classattr">
                                <div class="attr variable">
            <span class="name">lower</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.lower"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.lower">lower</a></code>.</p>
</div>


                            </div>
                            <div id="FST.upper" class="classattr">
                                <div class="attr variable">
            <span class="name">upper</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.upper"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.upper">upper</a></code>.</p>
</div>


                            </div>
                            <div id="FST.step" class="classattr">
                                <div class="attr variable">
            <span class="name">step</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.step"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.step">step</a></code>.</p>
</div>


                            </div>
                            <div id="FST.ifs" class="classattr">
                                <div class="attr variable">
            <span class="name">ifs</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.ifs"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.ifs">ifs</a></code>.</p>
</div>


                            </div>
                            <div id="FST.is_async" class="classattr">
                                <div class="attr variable">
            <span class="name">is_async</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.is_async"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.is_async">is_async</a></code>.</p>
</div>


                            </div>
                            <div id="FST.type" class="classattr">
                                <div class="attr variable">
            <span class="name">type</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.type"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.type">type</a></code>.</p>
</div>


                            </div>
                            <div id="FST.posonlyargs" class="classattr">
                                <div class="attr variable">
            <span class="name">posonlyargs</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.posonlyargs"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.posonlyargs">posonlyargs</a></code>.</p>
</div>


                            </div>
                            <div id="FST.defaults" class="classattr">
                                <div class="attr variable">
            <span class="name">defaults</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.defaults"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.defaults">defaults</a></code>.</p>
</div>


                            </div>
                            <div id="FST.vararg" class="classattr">
                                <div class="attr variable">
            <span class="name">vararg</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.vararg"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.vararg">vararg</a></code>.</p>
</div>


                            </div>
                            <div id="FST.kwonlyargs" class="classattr">
                                <div class="attr variable">
            <span class="name">kwonlyargs</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.kwonlyargs"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.kwonlyargs">kwonlyargs</a></code>.</p>
</div>


                            </div>
                            <div id="FST.kw_defaults" class="classattr">
                                <div class="attr variable">
            <span class="name">kw_defaults</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.kw_defaults"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.kw_defaults">kw_defaults</a></code>.</p>
</div>


                            </div>
                            <div id="FST.kwarg" class="classattr">
                                <div class="attr variable">
            <span class="name">kwarg</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.kwarg"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.kwarg">kwarg</a></code>.</p>
</div>


                            </div>
                            <div id="FST.arg" class="classattr">
                                <div class="attr variable">
            <span class="name">arg</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.arg"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.arg">arg</a></code>.</p>
</div>


                            </div>
                            <div id="FST.asname" class="classattr">
                                <div class="attr variable">
            <span class="name">asname</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.asname"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.asname">asname</a></code>.</p>
</div>


                            </div>
                            <div id="FST.context_expr" class="classattr">
                                <div class="attr variable">
            <span class="name">context_expr</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.context_expr"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.context_expr">context_expr</a></code>.</p>
</div>


                            </div>
                            <div id="FST.optional_vars" class="classattr">
                                <div class="attr variable">
            <span class="name">optional_vars</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.optional_vars"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.optional_vars">optional_vars</a></code>.</p>
</div>


                            </div>
                            <div id="FST.pattern" class="classattr">
                                <div class="attr variable">
            <span class="name">pattern</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.pattern"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.pattern">pattern</a></code>.</p>
</div>


                            </div>
                            <div id="FST.guard" class="classattr">
                                <div class="attr variable">
            <span class="name">guard</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.guard"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.guard">guard</a></code>.</p>
</div>


                            </div>
                            <div id="FST.patterns" class="classattr">
                                <div class="attr variable">
            <span class="name">patterns</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.patterns"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.patterns">patterns</a></code>.</p>
</div>


                            </div>
                            <div id="FST.rest" class="classattr">
                                <div class="attr variable">
            <span class="name">rest</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.rest"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.rest">rest</a></code>.</p>
</div>


                            </div>
                            <div id="FST.cls" class="classattr">
                                <div class="attr variable">
            <span class="name">cls</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.cls"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.cls">cls</a></code>.</p>
</div>


                            </div>
                            <div id="FST.kwd_attrs" class="classattr">
                                <div class="attr variable">
            <span class="name">kwd_attrs</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.kwd_attrs"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.kwd_attrs">kwd_attrs</a></code>.</p>
</div>


                            </div>
                            <div id="FST.kwd_patterns" class="classattr">
                                <div class="attr variable">
            <span class="name">kwd_patterns</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.kwd_patterns"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.kwd_patterns">kwd_patterns</a></code>.</p>
</div>


                            </div>
                            <div id="FST.tag" class="classattr">
                                <div class="attr variable">
            <span class="name">tag</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.tag"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.tag">tag</a></code>.</p>
</div>


                            </div>
                            <div id="FST.bound" class="classattr">
                                <div class="attr variable">
            <span class="name">bound</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.bound"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.bound">bound</a></code>.</p>
</div>


                            </div>
                            <div id="FST.default_value" class="classattr">
                                <div class="attr variable">
            <span class="name">default_value</span><span class="annotation">: Union[<a href="#FST">FST</a>, NoneType, ellipsis, int, float, complex, str, bytes, bool]</span>

        
    </div>
    <a class="headerlink" href="#FST.default_value"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.default_value">default_value</a></code>.</p>
</div>


                            </div>
                            <div id="FST.arglikes" class="classattr">
                                <div class="attr variable">
            <span class="name">arglikes</span><span class="annotation">: <a href="view.html#FSTView">fst.view.FSTView</a></span>

        
    </div>
    <a class="headerlink" href="#FST.arglikes"></a>
    
            <div class="docstring"><p><code><a href="#FST">FST</a></code> accessor for <code>AST</code> field <code><a href="#FST.arglikes">arglikes</a></code>.</p>
</div>


                            </div>
                </section>
    </main>
</body>
</html>