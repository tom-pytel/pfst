<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.1"/>
    <title>fst.fst API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../fst.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;fst</a>





            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="function" href="#parse">parse</a>
            </li>
            <li>
                    <a class="function" href="#unparse">unparse</a>
            </li>
            <li>
                    <a class="function" href="#dump">dump</a>
            </li>
            <li>
                    <a class="class" href="#FST">FST</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#FST.__init__">FST</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.a">a</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.parent">parent</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.pfield">pfield</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.root">root</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.parse_params">parse_params</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.indent">indent</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.lines">lines</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.src">src</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_root">is_root</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.has_own_loc">has_own_loc</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.whole_loc">whole_loc</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.loc">loc</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bloc">bloc</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.ln">ln</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.col">col</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.end_ln">end_ln</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.end_col">end_col</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bln">bln</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bcol">bcol</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bend_ln">bend_ln</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.bend_col">bend_col</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.lineno">lineno</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.col_offset">col_offset</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.end_lineno">end_lineno</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.end_col_offset">end_col_offset</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_mod">is_mod</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_stmtish">is_stmtish</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_stmt">is_stmt</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_block">is_block</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_scope">is_scope</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_named_scope">is_named_scope</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_anon_scope">is_anon_scope</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_slice">is_slice</a>
                        </li>
                        <li>
                                <a class="variable" href="#FST.is_augop">is_augop</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.new">new</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.fromsrc">fromsrc</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.fromast">fromast</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get_options">get_options</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get_option">get_option</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.set_options">set_options</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.options">options</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.dump">dump</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.verify">verify</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.mark">mark</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.reconcile">reconcile</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.copy">copy</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.cut">cut</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.replace">replace</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.remove">remove</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get">get</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.put">put</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get_slice">get_slice</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.put_slice">put_slice</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get_src">get_src</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.put_src">put_src</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.pars">pars</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.par">par</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.unpar">unpar</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.next">next</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.prev">prev</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.first_child">first_child</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.last_child">last_child</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.last_header_child">last_header_child</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.next_child">next_child</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.prev_child">prev_child</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.step_fwd">step_fwd</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.step_back">step_back</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.walk">walk</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parents">parents</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_stmt">parent_stmt</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_stmtish">parent_stmtish</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_block">parent_block</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_scope">parent_scope</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_named_scope">parent_named_scope</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_non_expr">parent_non_expr</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.parent_pattern">parent_pattern</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.child_path">child_path</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.child_from_path">child_from_path</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.repath">repath</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.find_loc">find_loc</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.find_in_loc">find_in_loc</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.get_indent">get_indent</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_parsable">is_parsable</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_parenthesizable">is_parenthesizable</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_atom">is_atom</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_enclosed">is_enclosed</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_enclosed_in_parents">is_enclosed_in_parents</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_parenthesized_tuple">is_parenthesized_tuple</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_enclosed_matchseq">is_enclosed_matchseq</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_empty_set_call">is_empty_set_call</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_empty_set_seq">is_empty_set_seq</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_elif">is_elif</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_solo_class_base">is_solo_class_base</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_solo_call_arg">is_solo_call_arg</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_solo_call_arg_genexp">is_solo_call_arg_genexp</a>
                        </li>
                        <li>
                                <a class="function" href="#FST.is_solo_matchcls_pat">is_solo_matchcls_pat</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../fst.html">fst</a><wbr>.fst    </h1>

                        <div class="docstring"><p>Main FST module. Contains the <code><a href="#FST">FST</a></code> class as well as drop-in replacement <code><a href="#parse">parse()</a></code> and <code><a href="#unparse">unparse()</a></code> functions for
their respective <code>ast</code> module counterparts.</p>
</div>

                
                
                
            </section>
                <section id="parse">
                    <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parse</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">source</span>,</span><span class="param">	<span class="n">filename</span><span class="o">=</span><span class="s1">&#39;&lt;unknown&gt;&#39;</span>,</span><span class="param">	<span class="n">mode</span><span class="o">=</span><span class="s1">&#39;exec&#39;</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">type_comments</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="n">feature_version</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#parse"></a>
    
            <div class="docstring"><p>Executes <code>ast.parse()</code> and then adds <code><a href="#FST">FST</a></code> nodes to the parsed tree. Drop-in replacement for <code>ast.parse()</code>. For
parameters, see <code>ast.parse()</code>. Returned <code>AST</code> tree has added <code>.f</code> attribute at each node which accesses the parallel
<code><a href="#FST">FST</a></code> tree.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>source</code>: The python source to parse.</li>
<li><code>filename</code>: <code>ast.parse()</code> parameter.</li>
<li><code>mode</code>: Parse mode, extended <code>ast.parse()</code> parameter, See <code><a href="misc.html#Mode">fst.misc.Mode</a></code>.</li>
<li><code>type_comments</code>: <code>ast.parse()</code> parameter.</li>
<li><code>feature_version</code>: <code>ast.parse()</code> parameter.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>AST</code>: Tree with an <code><a href="#FST">FST</a></code> <code>.f</code> attribute added to each <code>AST</code> node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">ast</span><span class="o">,</span><span class="w"> </span><span class="nn">fst</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n"><a href="#parse">fst.parse</a></span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">  i = 2&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="err">&#39;</span><span class="nc">ast</span><span class="o">.</span><span class="n">Module</span><span class="s1">&#39;&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="o">.</span><span class="n">f</span>  <span class="c1"># FST node</span>
<span class="o">&lt;</span><span class="n">Module</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n"><a href="#dump">fst.dump</a></span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="n">Module</span><span class="p">(</span>
  <span class="n">body</span><span class="o">=</span><span class="p">[</span>
    <span class="n">If</span><span class="p">(</span>
      <span class="n">test</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
      <span class="n">body</span><span class="o">=</span><span class="p">[</span>
        <span class="n">Assign</span><span class="p">(</span>
          <span class="n">targets</span><span class="o">=</span><span class="p">[</span>
            <span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="n">ctx</span><span class="o">=</span><span class="n">Store</span><span class="p">())],</span>
          <span class="n">value</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">2</span><span class="p">))],</span>
      <span class="n">orelse</span><span class="o">=</span><span class="p">[])],</span>
  <span class="n">type_ignores</span><span class="o">=</span><span class="p">[])</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="o">.</span><span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">()</span>
<span class="n">Module</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">7</span>
  <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
  <span class="mi">0</span><span class="p">]</span> <span class="n">If</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">7</span>
    <span class="o">.</span><span class="n">test</span> <span class="n">Constant</span> <span class="mi">1</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">3..0</span><span class="p">,</span><span class="mi">4</span>
    <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="mi">0</span><span class="p">]</span> <span class="n">Assign</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">2..1</span><span class="p">,</span><span class="mi">7</span>
      <span class="o">.</span><span class="n">targets</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
      <span class="mi">0</span><span class="p">]</span> <span class="n">Name</span> <span class="s1">&#39;i&#39;</span> <span class="n">Store</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">2..1</span><span class="p">,</span><span class="mi">3</span>
      <span class="o">.</span><span class="n">value</span> <span class="n">Constant</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">6..1</span><span class="p">,</span><span class="mi">7</span>
</code></pre>
</div>
</div>


                </section>
                <section id="unparse">
                    <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">unparse</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ast_obj</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#unparse"></a>
    
            <div class="docstring"><p>Returns the formatted source that is kept for this tree. Drop-in replacement for <code>ast.unparse()</code> If there is no
<code><a href="#FST">FST</a></code> information in the <code>AST</code> tree then just executes <code>ast.unparse()</code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>ast_obj</code>: The <code>AST</code> to unparse.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>str</code>: The unparsed source code, formatted if it came from <code><a href="#FST">FST</a></code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">ast</span><span class="o">,</span><span class="w"> </span><span class="nn">fst</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n"><a href="#parse">fst.parse</a></span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">... if 1: i = 1  # same line</span>
<span class="s1">... else:</span>
<span class="s1">...   j=2 # comment</span>
<span class="s1">... &#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">unparse</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">j</span> <span class="o">=</span> <span class="mi">2</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n"><a href="#unparse">fst.unparse</a></span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># same line</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">j</span><span class="o">=</span><span class="mi">2</span> <span class="c1"># comment</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;i = 1&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">ast</span><span class="o">.</span><span class="n">unparse</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="s1">&#39;i = 1&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#unparse">fst.unparse</a></span><span class="p">(</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># also unparses regular AST</span>
<span class="s1">&#39;i = 1&#39;</span>
</code></pre>
</div>
</div>


                </section>
                <section id="dump">
                    <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">dump</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">node</span>,</span><span class="param">	<span class="n">annotate_fields</span><span class="o">=</span><span class="kc">True</span>,</span><span class="param">	<span class="n">include_attributes</span><span class="o">=</span><span class="kc">False</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">indent</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">show_empty</span><span class="o">=</span><span class="kc">True</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#dump"></a>
    
            <div class="docstring"><p>This function is a convenience function and only exists to make python version 3.13 and above <code>ast.dump()</code> output
compatible on a default call with previous python versions (important for doctests). All arguments correspond to
their respective <code>ast.dump()</code> arguments and <code>show_empty</code> is eaten on python versions below 3.13.</p>
</div>


                </section>
                <section id="FST">
                    <div class="attr class">
            
    <span class="def">class</span>
    <span class="name">FST</span>:

        
    </div>
    <a class="headerlink" href="#FST"></a>
    
            <div class="docstring"><p>Class which maintains structure and formatted source code for an <code>AST</code> tree. An instance of this class is added
to each <code>AST</code> node in a tree. It provides format-preserving operations as well as ability to navigate the tree in
any direction.</p>
</div>


                            <div id="FST.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">FST</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">ast_or_src</span><span class="p">:</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">mode_or_lines_or_parent</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;most&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;stmtishs&#39;</span><span class="p">,</span> <span class="s1">&#39;stmtish&#39;</span><span class="p">,</span> <span class="s1">&#39;stmts&#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandlers&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandler&#39;</span><span class="p">,</span> <span class="s1">&#39;match_cases&#39;</span><span class="p">,</span> <span class="s1">&#39;match_case&#39;</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_slice&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_sliceelt&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_callarg&#39;</span><span class="p">,</span> <span class="s1">&#39;boolop&#39;</span><span class="p">,</span> <span class="s1">&#39;operator&#39;</span><span class="p">,</span> <span class="s1">&#39;binop&#39;</span><span class="p">,</span> <span class="s1">&#39;augop&#39;</span><span class="p">,</span> <span class="s1">&#39;unaryop&#39;</span><span class="p">,</span> <span class="s1">&#39;cmpop&#39;</span><span class="p">,</span> <span class="s1">&#39;comprehension&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments_lambda&#39;</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">,</span> <span class="s1">&#39;alias_dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;alias_star&#39;</span><span class="p">,</span> <span class="s1">&#39;withitem&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="s1">&#39;type_param&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">pfield</span><span class="p">:</span> <span class="n"><a href="misc.html#astfield">fst.misc.astfield</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">/</span>,</span><span class="param">	<span class="o">**</span><span class="n">kwargs</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#FST.__init__"></a>
    
            <div class="docstring"><p>Create a new individual <code><a href="#FST">FST</a></code> node or full tree. The main way to use this constructor is as a shortcut for
<code><a href="#FST.fromsrc">FST.fromsrc()</a></code> or <code><a href="#FST.fromast">FST.fromast()</a></code>, the usage is:</p>

<p><strong><code>FST(ast_or_src, mode=None)</code></strong></p>

<p>This will create an <code><a href="#FST">FST</a></code> from either an <code>AST</code> or source code in the form of a string or list of lines. The
first parameter can be <code>None</code> instead of an <code>AST</code> or source to indicate a blank new module of one of the three
types <code>'exec'</code>, <code>'eval'</code> or <code>'single'</code>. Otherwise if there is <code>source</code> or an <code>AST</code> then <code>mode</code> specifies how it
will be parsed / reparsed and it can take any of the values from <code><a href="misc.html#Mode">fst.misc.Mode</a></code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>ast_or_src</code>: Source code, an <code>AST</code> node or <code>None</code>.</li>
<li><code>mode</code>: See <code><a href="misc.html#Mode">fst.misc.Mode</a></code>. If this is <code>None</code> then if <code>ast_or_src</code> is an <code>AST</code> the mode defaults to the
type of the <code>AST</code>. Otherwise if the <code>ast_or_src</code> is actual source code then <code>mode</code> used is <code>'all'</code> to allow
parsing anything. And if <code>ast_or_src</code> is <code>None</code> then <code>mode</code> must be provided and be one of <code>'exec'</code>,
<code>'eval'</code> or <code>'single'</code>.</li>
</ul>

<p>The other forms of this function are meant for internal use and their parameters are below:</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>ast_or_src</code>: <code>AST</code> node for <code><a href="#FST">FST</a></code> or source code in the form of a <code>str</code> or a list of lines. If an <code>AST</code> then
will be processed differently depending on if creating child node, top level node or using this as a
shortcut for a full <code><a href="#FST.fromsrc">fromsrc()</a></code> or <code><a href="#FST.fromast">fromast()</a></code>.</li>
<li><code>mode_or_lines_or_parent</code>: Parent node for this child node or lines for a root node creating a new tree. If
<code><a href="#FST.pfield">pfield</a></code> is <code>None</code> and this is a shortcut to create a full tree from an <code>AST</code> node or source provided in
<code>ast_or_src</code>.</li>
<li><code><a href="#FST.pfield">pfield</a></code>: <code>astfield</code> indication position in parent of this node. If provided then creating a simple child node
and it is created with the <code>self.parent</code> set to <code>mode_or_lines_or_parent</code> node and <code>self.pfield</code> set to
this. If <code>None</code> then it means the creation of a full new <code><a href="#FST">FST</a></code> tree and this is the root node with
<code>mode_or_lines_or_parent</code> providing the source.</li>
<li><code>kwargs</code>: Contextual parameters:
<ul>
<li><code>from_</code>: If this is provided then it must be an <code><a href="#FST">FST</a></code> node from which this node is being created. This
allows to copy parse parameters and already determined default indentation.</li>
<li><code><a href="#FST.parse_params">parse_params</a></code>: A <code>dict</code> with values for <code>filename</code>, <code>type_comments</code> and <code>feature_version</code> which will be
used for any <code>AST</code> reparse done on this tree. Only valid when creating a root node.</li>
<li><code><a href="#FST.indent">indent</a></code>: Indentation string to use as default indentation. If not provided and not gotten from <code>from_</code>
then indentation will be inferred from source. Only valid when creating a root node.</li>
<li><code>filename</code>, <code>type_comments</code> and <code>feature_version</code>: If creating from an <code>AST</code> or source only then these are
the parameteres passed to the respective <code>.new()</code>, <code>.fromsrc()</code> or <code>.fromast()</code> functions. Only valid
when <code>mode_or_lines_or_parent</code> and <code><a href="#FST.pfield">pfield</a></code> are <code>None</code>.</li>
</ul></li>
</ul>
</div>


                            </div>
                            <div id="FST.a" class="classattr">
                                <div class="attr variable">
            <span class="name">a</span><span class="annotation">: ast.AST</span>

        
    </div>
    <a class="headerlink" href="#FST.a"></a>
    
            <div class="docstring"><p>The actual <code>AST</code> node.</p>
</div>


                            </div>
                            <div id="FST.parent" class="classattr">
                                <div class="attr variable">
            <span class="name">parent</span><span class="annotation">: <a href="#FST">FST</a> | None</span>

        
    </div>
    <a class="headerlink" href="#FST.parent"></a>
    
            <div class="docstring"><p>Parent <code><a href="#FST">FST</a></code> node, <code>None</code> in root node.</p>
</div>


                            </div>
                            <div id="FST.pfield" class="classattr">
                                <div class="attr variable">
            <span class="name">pfield</span><span class="annotation">: <a href="misc.html#astfield">fst.misc.astfield</a> | None</span>

        
    </div>
    <a class="headerlink" href="#FST.pfield"></a>
    
            <div class="docstring"><p>The <code>astfield</code> location of this node in the parent, <code>None</code> in root node.</p>
</div>


                            </div>
                            <div id="FST.root" class="classattr">
                                <div class="attr variable">
            <span class="name">root</span><span class="annotation">: <a href="#FST">FST</a></span>

        
    </div>
    <a class="headerlink" href="#FST.root"></a>
    
            <div class="docstring"><p>The root node of this tree, <code>self</code> in root node.</p>
</div>


                            </div>
                            <div id="FST.parse_params" class="classattr">
                                <div class="attr variable">
            <span class="name">parse_params</span><span class="annotation">: dict[str, typing.Any]</span>

        
    </div>
    <a class="headerlink" href="#FST.parse_params"></a>
    
            <div class="docstring"><p>The parameters to use for any <code>ast.parse()</code> that needs to be done (filename, type_comments, feature_version), root node only.</p>
</div>


                            </div>
                            <div id="FST.indent" class="classattr">
                                <div class="attr variable">
            <span class="name">indent</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#FST.indent"></a>
    
            <div class="docstring"><p>The default single level of block indentation string for this tree when not available from context, root node only.</p>
</div>


                            </div>
                            <div id="FST.lines" class="classattr">
                                <div class="attr variable">
            <span class="name">lines</span><span class="annotation">: list[str] | None</span>

        
    </div>
    <a class="headerlink" href="#FST.lines"></a>
    
            <div class="docstring"><p>Whole lines which contain this node, may also contain parts of enclosing nodes. If gotten at root then the
entire source is returned, which may extend beyond the location of the top level node (mostly for statements
which may have leading / trailing comments or empty lines).</p>
</div>


                            </div>
                            <div id="FST.src" class="classattr">
                                <div class="attr variable">
            <span class="name">src</span><span class="annotation">: str | None</span>

        
    </div>
    <a class="headerlink" href="#FST.src"></a>
    
            <div class="docstring"><p>Source code of this node clipped out of as a single string, without any dedentation. Will have indentation as
it appears in the top level source if multiple lines. If gotten at root then the entire source is returned,
regardless of whether the actual top level node location includes it or not.</p>
</div>


                            </div>
                            <div id="FST.is_root" class="classattr">
                                <div class="attr variable">
            <span class="name">is_root</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_root"></a>
    
            <div class="docstring"><p><code>True</code> for the root node, <code>False</code> otherwise.</p>
</div>


                            </div>
                            <div id="FST.has_own_loc" class="classattr">
                                <div class="attr variable">
            <span class="name">has_own_loc</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.has_own_loc"></a>
    
            <div class="docstring"><p><code>True</code> when the node has its own location which comes directly from AST <code><a href="#FST.lineno">lineno</a></code> and other location fields.
Otherwise <code>False</code> if no <code><a href="#FST.loc">loc</a></code> or <code><a href="#FST.loc">loc</a></code> is calculated.</p>
</div>


                            </div>
                            <div id="FST.whole_loc" class="classattr">
                                <div class="attr variable">
            <span class="name">whole_loc</span><span class="annotation">: <a href="misc.html#fstloc">fst.misc.fstloc</a></span>

        
    </div>
    <a class="headerlink" href="#FST.whole_loc"></a>
    
            <div class="docstring"><p>Whole source location, from 0,0 to end of source. Works from any node (not just root).</p>
</div>


                            </div>
                            <div id="FST.loc" class="classattr">
                                <div class="attr variable">
            <span class="name">loc</span><span class="annotation">: <a href="misc.html#fstloc">fst.misc.fstloc</a> | None</span>

        
    </div>
    <a class="headerlink" href="#FST.loc"></a>
    
            <div class="docstring"><p>Zero based character indexed location of node (may not be entire location if node has decorators). Not all
nodes have locations (like <code>expr_context</code>). Other nodes which normally don't have locations like <code>arguments</code> or
most operators have this location calculated from their children or source. NOTE: Empty arguments do NOT have
a location even though the <code>AST</code> exists.</p>
</div>


                            </div>
                            <div id="FST.bloc" class="classattr">
                                <div class="attr variable">
            <span class="name">bloc</span><span class="annotation">: <a href="misc.html#fstloc">fst.misc.fstloc</a> | None</span>

        
    </div>
    <a class="headerlink" href="#FST.bloc"></a>
    
            <div class="docstring"><p>Bounding location of node, including any preceding decorators. Not all nodes have locations but any node
which has a <code><a href="#FST.loc">loc</a></code> will have a <code><a href="#FST.bloc">bloc</a></code>. Will be same as <code><a href="#FST.loc">loc</a></code> for all nodes except those that have decorators, in
which case it will start at the first decorator.</p>
</div>


                            </div>
                            <div id="FST.ln" class="classattr">
                                <div class="attr variable">
            <span class="name">ln</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.ln"></a>
    
            <div class="docstring"><p>Line number of the first line of this node (0 based).</p>
</div>


                            </div>
                            <div id="FST.col" class="classattr">
                                <div class="attr variable">
            <span class="name">col</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.col"></a>
    
            <div class="docstring"><p>CHARACTER index of the start of this node (0 based).</p>
</div>


                            </div>
                            <div id="FST.end_ln" class="classattr">
                                <div class="attr variable">
            <span class="name">end_ln</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.end_ln"></a>
    
            <div class="docstring"><p>Line number of the LAST LINE of this node (0 based).</p>
</div>


                            </div>
                            <div id="FST.end_col" class="classattr">
                                <div class="attr variable">
            <span class="name">end_col</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.end_col"></a>
    
            <div class="docstring"><p>CHARACTER index one past the end of this node (0 based).</p>
</div>


                            </div>
                            <div id="FST.bln" class="classattr">
                                <div class="attr variable">
            <span class="name">bln</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.bln"></a>
    
            <div class="docstring"><p>Line number of the first line of this node or the first decorator if present (0 based). The corresponding
<code><a href="#FST.bcol">bcol</a></code>, <code><a href="#FST.bend_ln">bend_ln</a></code> and <code><a href="#FST.bend_col">bend_col</a></code> are just aliases for the normal values.</p>
</div>


                            </div>
                            <div id="FST.bcol" class="classattr">
                                <div class="attr variable">
            <span class="name">bcol</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.bcol"></a>
    
            <div class="docstring"><p>CHARACTER index of the start of this node (0 based).</p>
</div>


                            </div>
                            <div id="FST.bend_ln" class="classattr">
                                <div class="attr variable">
            <span class="name">bend_ln</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.bend_ln"></a>
    
            <div class="docstring"><p>Line number of the LAST LINE of this node (0 based).</p>
</div>


                            </div>
                            <div id="FST.bend_col" class="classattr">
                                <div class="attr variable">
            <span class="name">bend_col</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.bend_col"></a>
    
            <div class="docstring"><p>CHARACTER index one past the end of this node (0 based).</p>
</div>


                            </div>
                            <div id="FST.lineno" class="classattr">
                                <div class="attr variable">
            <span class="name">lineno</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.lineno"></a>
    
            <div class="docstring"><p>AST-style Line number of the first line of this node (1 based), available for all nodes which have <code><a href="#FST.loc">loc</a></code>.</p>
</div>


                            </div>
                            <div id="FST.col_offset" class="classattr">
                                <div class="attr variable">
            <span class="name">col_offset</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.col_offset"></a>
    
            <div class="docstring"><p>AST-style BYTE index of the start of this node (0 based), available for all nodes which have <code><a href="#FST.loc">loc</a></code>.</p>
</div>


                            </div>
                            <div id="FST.end_lineno" class="classattr">
                                <div class="attr variable">
            <span class="name">end_lineno</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.end_lineno"></a>
    
            <div class="docstring"><p>AST-style Line number of the LAST LINE of this node (1 based), available for all nodes which have <code><a href="#FST.loc">loc</a></code>.</p>
</div>


                            </div>
                            <div id="FST.end_col_offset" class="classattr">
                                <div class="attr variable">
            <span class="name">end_col_offset</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#FST.end_col_offset"></a>
    
            <div class="docstring"><p>AST-style BYTE index one past the end of this node (0 based), available for all nodes which have <code><a href="#FST.loc">loc</a></code>.</p>
</div>


                            </div>
                            <div id="FST.is_mod" class="classattr">
                                <div class="attr variable">
            <span class="name">is_mod</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_mod"></a>
    
            <div class="docstring"><p>Is a <code>mod</code>.</p>
</div>


                            </div>
                            <div id="FST.is_stmtish" class="classattr">
                                <div class="attr variable">
            <span class="name">is_stmtish</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_stmtish"></a>
    
            <div class="docstring"><p>Is a <code>stmt</code>, <code>ExceptHandler</code> or <code>match_case</code>.</p>
</div>


                            </div>
                            <div id="FST.is_stmt" class="classattr">
                                <div class="attr variable">
            <span class="name">is_stmt</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_stmt"></a>
    
            <div class="docstring"><p>Is a <code>stmt</code>.</p>
</div>


                            </div>
                            <div id="FST.is_block" class="classattr">
                                <div class="attr variable">
            <span class="name">is_block</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_block"></a>
    
            <div class="docstring"><p>Is a node which opens a block. Types include <code>FunctionDef</code>, <code>AsyncFunctionDef</code>, <code>ClassDef</code>, <code>For</code>,
<code>AsyncFor</code>, <code>While</code>, <code>If</code>, <code>With</code>, <code>AsyncWith</code>, <code>Match</code>, <code>Try</code>, <code>TryStar</code>, <code>ExceptHandler</code>, <code>match_case</code> or
<code>mod</code>.</p>
</div>


                            </div>
                            <div id="FST.is_scope" class="classattr">
                                <div class="attr variable">
            <span class="name">is_scope</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_scope"></a>
    
            <div class="docstring"><p>Is a node which opens a scope. Types include <code>FunctionDef</code>, <code>AsyncFunctionDef</code>, <code>ClassDef</code>, <code>Lambda</code>,
<code>ListComp</code>, <code>SetComp</code>, <code>DictComp</code>, <code>GeneratorExp</code> or <code>mod</code>.</p>
</div>


                            </div>
                            <div id="FST.is_named_scope" class="classattr">
                                <div class="attr variable">
            <span class="name">is_named_scope</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_named_scope"></a>
    
            <div class="docstring"><p>Is a node which opens a named scope. Types include <code>FunctionDef</code>, <code>AsyncFunctionDef</code>, <code>ClassDef</code> or <code>mod</code>.</p>
</div>


                            </div>
                            <div id="FST.is_anon_scope" class="classattr">
                                <div class="attr variable">
            <span class="name">is_anon_scope</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_anon_scope"></a>
    
            <div class="docstring"><p>Is a node which opens an anonymous scope. Types include <code>Lambda</code>, <code>ListComp</code>, <code>SetComp</code>, <code>DictComp</code> or
<code>GeneratorExp</code>.</p>
</div>


                            </div>
                            <div id="FST.is_slice" class="classattr">
                                <div class="attr variable">
            <span class="name">is_slice</span><span class="annotation">: bool</span>

        
    </div>
    <a class="headerlink" href="#FST.is_slice"></a>
    
            <div class="docstring"><p>Whether self is a <code>Slice</code> or a <code>Tuple</code> which directly contains any <code>Slice</code>.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a:b:c&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_slice&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_slice</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;1, d:e&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_slice&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_slice</span>  <span class="c1"># Tuple contains at least one Slice</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="c1"># b is in the .slice field but is not a Slice or Slice Tuple</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a[b]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">slice</span><span class="o">.</span><span class="n">is_slice</span>
<span class="kc">False</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_augop" class="classattr">
                                <div class="attr variable">
            <span class="name">is_augop</span><span class="annotation">: bool | None</span>

        
    </div>
    <a class="headerlink" href="#FST.is_augop"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is an augmented <code>operator</code> or not, or not an <code>operator</code> at all.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>True</code> if is augmented <code>operator</code>, <code>False</code> if non-augmented <code>operator</code> and <code>None</code> if is not <code>operator</code> at all.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_augop</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;+=&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_augop</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_augop</span><span class="p">)</span>
<span class="s1">&#39;None&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.new" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">new</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">mode</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;exec&#39;</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&lt;unknown&gt;&#39;</span>,</span><span class="param">	<span class="n">type_comments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">feature_version</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.new"></a>
    
            <div class="docstring"><p>Create a new empty <code><a href="#FST">FST</a></code> tree with the top level node dictated by the <code>mode</code> parameter.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>mode</code>: <code>ast.parse()</code> parameter, can only be <code>'exec'</code>, <code>'eval'</code> or <code>'single'</code> here.</li>
<li><code>filename</code>: <code>ast.parse()</code> parameter.</li>
<li><code>type_comments</code>: <code>ast.parse()</code> parameter.</li>
<li><code>feature_version</code>: <code>ast.parse()</code> parameter.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: The new empty top level <code><a href="#FST">FST</a></code> node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.new">FST.new</a></span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Module</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">0</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.new">FST.new</a></span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;single&#39;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Interactive</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">0</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.new">FST.new</a></span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;eval&#39;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Expression</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">4</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">_</span><span class="o">.</span><span class="n">dump</span><span class="p">()</span>
<span class="n">Expression</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">4</span>
  <span class="o">.</span><span class="n">body</span> <span class="n">Constant</span> <span class="kc">None</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">4</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">_</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;None&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.fromsrc" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">fromsrc</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">src</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">mode</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;most&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;stmtishs&#39;</span><span class="p">,</span> <span class="s1">&#39;stmtish&#39;</span><span class="p">,</span> <span class="s1">&#39;stmts&#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandlers&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandler&#39;</span><span class="p">,</span> <span class="s1">&#39;match_cases&#39;</span><span class="p">,</span> <span class="s1">&#39;match_case&#39;</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_slice&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_sliceelt&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_callarg&#39;</span><span class="p">,</span> <span class="s1">&#39;boolop&#39;</span><span class="p">,</span> <span class="s1">&#39;operator&#39;</span><span class="p">,</span> <span class="s1">&#39;binop&#39;</span><span class="p">,</span> <span class="s1">&#39;augop&#39;</span><span class="p">,</span> <span class="s1">&#39;unaryop&#39;</span><span class="p">,</span> <span class="s1">&#39;cmpop&#39;</span><span class="p">,</span> <span class="s1">&#39;comprehension&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments_lambda&#39;</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">,</span> <span class="s1">&#39;alias_dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;alias_star&#39;</span><span class="p">,</span> <span class="s1">&#39;withitem&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="s1">&#39;type_param&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;exec&#39;</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&lt;unknown&gt;&#39;</span>,</span><span class="param">	<span class="n">type_comments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">feature_version</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.fromsrc"></a>
    
            <div class="docstring"><p>Parse and create a new <code><a href="#FST">FST</a></code> tree from source, preserving the original source and locations.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.src">src</a></code>: The source to parse as a single <code>str</code> or list of individual line strings (without newlines).</li>
<li><code>mode</code>: Parse mode, extended <code>ast.parse()</code> parameter, See <code><a href="misc.html#Mode">fst.misc.Mode</a></code>.</li>
<li><code>filename</code>: <code>ast.parse()</code> parameter.</li>
<li><code>type_comments</code>: <code>ast.parse()</code> parameter.</li>
<li><code>feature_version</code>: <code>ast.parse()</code> parameter.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: The parsed tree with <code>.f</code> attributes added to each <code>AST</code> node for <code><a href="#FST">FST</a></code> access.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="n">Module</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">3</span>
  <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
  <span class="mi">0</span><span class="p">]</span> <span class="n">Expr</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">3</span>
    <span class="o">.</span><span class="n">value</span> <span class="n">Name</span> <span class="s1">&#39;var&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">3</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;stmt&#39;</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="n">Expr</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">3</span>
  <span class="o">.</span><span class="n">value</span> <span class="n">Name</span> <span class="s1">&#39;var&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">3</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;var&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;expr&#39;</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="n">Name</span> <span class="s1">&#39;var&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">3</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;except Exception: pass&#39;</span><span class="p">,</span> <span class="s1">&#39;stmtish&#39;</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="n">ExceptHandler</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">22</span>
  <span class="o">.</span><span class="n">type</span> <span class="n">Name</span> <span class="s1">&#39;Exception&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">7..0</span><span class="p">,</span><span class="mi">16</span>
  <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
  <span class="mi">0</span><span class="p">]</span> <span class="n">Pass</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">18..0</span><span class="p">,</span><span class="mi">22</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;case f(a=1): pass&#39;</span><span class="p">,</span> <span class="s1">&#39;stmtish&#39;</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="n">match_case</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">17</span>
  <span class="o">.</span><span class="n">pattern</span> <span class="n">MatchClass</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">5..0</span><span class="p">,</span><span class="mi">11</span>
    <span class="o">.</span><span class="n">cls</span> <span class="n">Name</span> <span class="s1">&#39;f&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">5..0</span><span class="p">,</span><span class="mi">6</span>
    <span class="o">.</span><span class="n">kwd_attrs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="mi">0</span><span class="p">]</span> <span class="s1">&#39;a&#39;</span>
    <span class="o">.</span><span class="n">kwd_patterns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="mi">0</span><span class="p">]</span> <span class="n">MatchValue</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">9..0</span><span class="p">,</span><span class="mi">10</span>
      <span class="o">.</span><span class="n">value</span> <span class="n">Constant</span> <span class="mi">1</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">9..0</span><span class="p">,</span><span class="mi">10</span>
  <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
  <span class="mi">0</span><span class="p">]</span> <span class="n">Pass</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">13..0</span><span class="p">,</span><span class="mi">17</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.fromsrc">FST.fromsrc</a></span><span class="p">(</span><span class="s1">&#39;a:b&#39;</span><span class="p">,</span> <span class="n">Slice</span><span class="p">)<a href="#dump">.dump</a></span><span class="p">()</span>
<span class="n">Slice</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">3</span>
  <span class="o">.</span><span class="n">lower</span> <span class="n">Name</span> <span class="s1">&#39;a&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">1</span>
  <span class="o">.</span><span class="n">upper</span> <span class="n">Name</span> <span class="s1">&#39;b&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">2..0</span><span class="p">,</span><span class="mi">3</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.fromast" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">fromast</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">ast</span><span class="p">:</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span>,</span><span class="param">	<span class="n">mode</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;most&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;stmtishs&#39;</span><span class="p">,</span> <span class="s1">&#39;stmtish&#39;</span><span class="p">,</span> <span class="s1">&#39;stmts&#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandlers&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandler&#39;</span><span class="p">,</span> <span class="s1">&#39;match_cases&#39;</span><span class="p">,</span> <span class="s1">&#39;match_case&#39;</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_slice&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_sliceelt&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_callarg&#39;</span><span class="p">,</span> <span class="s1">&#39;boolop&#39;</span><span class="p">,</span> <span class="s1">&#39;operator&#39;</span><span class="p">,</span> <span class="s1">&#39;binop&#39;</span><span class="p">,</span> <span class="s1">&#39;augop&#39;</span><span class="p">,</span> <span class="s1">&#39;unaryop&#39;</span><span class="p">,</span> <span class="s1">&#39;cmpop&#39;</span><span class="p">,</span> <span class="s1">&#39;comprehension&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments_lambda&#39;</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">,</span> <span class="s1">&#39;alias_dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;alias_star&#39;</span><span class="p">,</span> <span class="s1">&#39;withitem&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="s1">&#39;type_param&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">filename</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&lt;unknown&gt;&#39;</span>,</span><span class="param">	<span class="n">type_comments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">feature_version</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">ctx</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.fromast"></a>
    
            <div class="docstring"><p>Unparse and reparse an <code>AST</code> for new <code><a href="#FST">FST</a></code> (the reparse is necessary to make sure locations are correct).</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>ast</code>: The root <code>AST</code> node.</li>
<li><code>mode</code>: Parse mode, extended <code>ast.parse()</code> parameter, see <code><a href="misc.html#Mode">fst.misc.Mode</a></code>. Two special values are added:
<ul>
<li><code>None</code>: This will attempt to reparse to the same node type as was passed in. This is the default and all
other values should be considered overrides for special cases.</li>
<li><code>False</code>: This will skip the reparse and just <code>ast.unparse()</code> the <code>AST</code> to generate source for the <code><a href="#FST">FST</a></code>.
Use this only if you are absolutely certain that the <code>AST</code> unparsed source will correspond with the
locations already present in the <code>AST</code>. This is almost never the case unless the <code>AST</code> was
<code>ast.parse()</code>d from an explicitly <code>ast.unparse()</code>d <code>AST</code>.</li>
</ul></li>
<li><code>filename</code>: <code>ast.parse()</code> parameter.</li>
<li><code>type_comments</code>: <code>ast.parse()</code> parameter.</li>
<li><code>feature_version</code>: <code>ast.parse()</code> parameter.</li>
<li><code>ctx</code>: Whether to make sure that the <code>ctx</code> field of the reparsed <code>AST</code> matches or not. <code>False</code> for
convenience, <code>True</code> if you're feeling pedantic.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: The augmented tree with <code>.f</code> attributes added to each <code>AST</code> node for <code><a href="#FST">FST</a></code> access.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">ast</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.fromast">FST.fromast</a></span><span class="p">(</span><span class="n">Assign</span><span class="p">(</span><span class="n">targets</span><span class="o">=</span><span class="p">[</span><span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;var&#39;</span><span class="p">)],</span>
<span class="o">...</span>                    <span class="n">value</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">123</span><span class="p">)))<a href="#dump">.dump</a></span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">)</span>
<span class="mi">0</span><span class="p">:</span> <span class="n">var</span> <span class="o">=</span> <span class="mi">123</span>
<span class="n">Assign</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">9</span>
  <span class="o">.</span><span class="n">targets</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
  <span class="mi">0</span><span class="p">]</span> <span class="n">Name</span> <span class="s1">&#39;var&#39;</span> <span class="n">Store</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">3</span>
  <span class="o">.</span><span class="n">value</span> <span class="n">Constant</span> <span class="mi">123</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">6..0</span><span class="p">,</span><span class="mi">9</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.fromast">FST.fromast</a></span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">    j = 5&#39;</span><span class="p">))<a href="#dump">.dump</a></span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">)</span>
<span class="n">Module</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">9</span>
  <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="mi">0</span><span class="p">:</span> <span class="k">if</span> <span class="mi">1</span><span class="p">:</span>
  <span class="mi">0</span><span class="p">]</span> <span class="n">If</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">9</span>
    <span class="o">.</span><span class="n">test</span> <span class="n">Constant</span> <span class="mi">1</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">3..0</span><span class="p">,</span><span class="mi">4</span>
    <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="mi">1</span><span class="p">:</span>     <span class="n">j</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="mi">0</span><span class="p">]</span> <span class="n">Assign</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">4..1</span><span class="p">,</span><span class="mi">9</span>
      <span class="o">.</span><span class="n">targets</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
      <span class="mi">0</span><span class="p">]</span> <span class="n">Name</span> <span class="s1">&#39;j&#39;</span> <span class="n">Store</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">4..1</span><span class="p">,</span><span class="mi">5</span>
      <span class="o">.</span><span class="n">value</span> <span class="n">Constant</span> <span class="mi">5</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">8..1</span><span class="p">,</span><span class="mi">9</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.fromast">FST.fromast</a></span><span class="p">(</span><span class="n">Slice</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="n">Constant</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">step</span><span class="o">=</span><span class="n">Name</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;step&#39;</span><span class="p">)))<a href="#dump">.dump</a></span><span class="p">(</span><span class="s1">&#39;all&#39;</span><span class="p">)</span>
<span class="mi">0</span><span class="p">:</span> <span class="mi">1</span><span class="p">::</span><span class="n">step</span>
<span class="n">Slice</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">7</span>
<span class="mi">0</span><span class="p">:</span> <span class="mi">1</span>
  <span class="o">.</span><span class="n">lower</span> <span class="n">Constant</span> <span class="mi">1</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">1</span>
<span class="mi">0</span><span class="p">:</span>    <span class="n">step</span>
  <span class="o">.</span><span class="n">step</span> <span class="n">Name</span> <span class="s1">&#39;step&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">3..0</span><span class="p">,</span><span class="mi">7</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get_options" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">get_options</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get_options"></a>
    
            <div class="docstring"><p>Get a dictionary of ALL options. These are the same <code><a href="#FST.options">options</a></code> that can be passed to operations and this
function returns their global defaults which are used when those options are not passed to operations or if they
are passed with a value of <code>None</code>.</p>

<p>When these options are missing or <code>None</code> in a call to an operation, then the default option as specified here is
used.</p>

<p><strong>Options:</strong></p>

<ul>
<li><code><a href="#FST.pars">pars</a></code>: How parentheses are handled, can be <code>False</code>, <code>True</code> or <code>'auto'</code>. This is for individual puts, for
slices parentheses are always unchanged. Raw puts generally do not have parentheses added or removed
automatically, except removed from the destination node if putting to a node instead of a pure location.
<ul>
<li><code>False</code>: Parentheses are not MODIFIED, doesn't mean remove all parentheses. Not copied with nodes or
removed on put from source or destination.</li>
<li><code>True</code>: Parentheses are copied with nodes, added to copies if needed and not present, removed from
destination on put if not needed there (but not source).</li>
<li><code>'auto'</code>: Same as <code>True</code> except they are not returned with a copy and possibly removed from source
on put if not needed (removed from destination first if needed and present on both).</li>
</ul></li>
<li><code>raw</code>: When to do raw source operations. This may result in more nodes changed than just the targeted one(s).
<ul>
<li><code>False</code>: Do not do raw source operations.</li>
<li><code>True</code>: Only do raw source operations.</li>
<li><code>'auto'</code>: Only do raw source operations if the normal operation fails in a way that raw might not.</li>
</ul></li>
<li><code>elif_</code>: How to handle lone <code>If</code> statements as the only statements in an <code>If</code> statement <code>orelse</code> field.
<ul>
<li><code>True</code>: If putting a single <code>If</code> statement to an <code>orelse</code> field of a parent <code>If</code> statement then
put it as an <code>elif</code>.</li>
<li><code>False</code>: Always put as a standalone <code>If</code> statement.</li>
</ul></li>
<li><code>docstr</code>: Which docstrings are indentable / dedentable.
<ul>
<li><code>False</code>: None.</li>
<li><code>True</code>: All <code>Expr</code> multiline strings (as they serve no coding purpose).</li>
<li><code>'strict'</code>: Only multiline strings in expected docstring positions (functions and classes).</li>
</ul></li>
<li><code>empty_set</code>: Empty set source during a slice put (considered to have no elements).
<ul>
<li><code>False</code>: Nothing is considered an empty set and an empty set slice put is only possible using a non-set
type of empty sequence (tuple or list).</li>
<li><code>True</code>: <code>set()</code> call and <code>{*()}</code>, <code>{*[]}</code> and <code>{*{}}</code> starred sequences are considered empty.</li>
<li><code>'seq'</code>: Only starred sequences <code>{*()}</code>, <code>{*[]}</code> and <code>{*{}}</code> are considered empty.</li>
<li><code>'call'</code>: Only <code>set()</code> call is considered empty.</li>
</ul></li>
<li><code>pars_walrus</code>: Whether to parenthesize copied <code>NamedExpr</code> nodes or not (only if <code><a href="#FST.pars">pars</a></code> is also not <code>False</code>).
<ul>
<li><code>False</code>: Do not parenthesize cut / copied <code>NamedExpr</code> walrus expressions.</li>
<li><code>True</code>: Parenthesize cut / copied <code>NamedExpr</code> walrus expressions.</li>
</ul></li>
<li><code>pep8space</code>: Preceding and trailing empty lines for function and class definitions.
<ul>
<li><code>False</code>: No empty lines.</li>
<li><code>True</code>: Two empty lines at module scope and one empty line in other scopes.</li>
<li><code>1</code>: One empty line in all scopes.</li>
</ul></li>
<li><code>precomms</code>: Preceding comments.  - WILL CHANGE IN FUTURE VERSIONS!
<ul>
<li><code>False</code>: No preceding comments.</li>
<li><code>True</code>: Single contiguous comment block immediately preceding position.</li>
<li><code>'all'</code>: Comment blocks (possibly separated by empty lines) preceding position.</li>
</ul></li>
<li><code>postcomms</code>: Trailing comments.  - WILL CHANGE IN FUTURE VERSIONS!
<ul>
<li><code>False</code>: No trailing comments.</li>
<li><code>True</code>: Only comment trailing on line of position, nothing past that on its own lines.</li>
<li><code>'block'</code>: Single contiguous comment block following position.</li>
<li><code>'all'</code>: Comment blocks (possibly separated by empty lines) following position.</li>
</ul></li>
<li><code>prespace</code>: Preceding empty lines (max of this and <code>pep8space</code> used).  - WILL CHANGE IN FUTURE VERSIONS!
<ul>
<li><code>False</code>: No empty lines.</li>
<li><code>True</code>: All empty lines.</li>
<li><code>int</code>: A maximum number of empty lines.</li>
</ul></li>
<li><code>postspace</code>: Same as <code>prespace</code> except for trailing empty lines.  - WILL CHANGE IN FUTURE VERSIONS!</li>
</ul>

<p><strong>Note:</strong>
<code><a href="#FST.pars">pars</a></code> behavior (see Examples for more):</p>

<pre><code>                                                          False      True    'auto'
Copy pars from source on copy / cut:                         no       yes        no
Add pars needed for parsability to copy:                     no       yes       yes
Remove unneeded pars from destination on put:                no       yes       yes
Remove unneeded pars from source on put:                     no        no       yes
Add pars needed for parse / precedence to source on put:     no       yes       yes
</code></pre>

<p><strong>Returns:</strong></p>

<ul>
<li><code>{option: value, ...}</code>: Dictionary of all global default options.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pp</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">pp</span><span class="p">(</span><span class="n"><a href="#FST.get_options">FST.get_options</a></span><span class="p">())</span>
<span class="p">{</span><span class="s1">&#39;pars&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span>
 <span class="s1">&#39;raw&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
 <span class="s1">&#39;elif_&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
 <span class="s1">&#39;docstr&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
 <span class="s1">&#39;empty_set&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
 <span class="s1">&#39;pars_walrus&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
 <span class="s1">&#39;pep8space&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
 <span class="s1">&#39;precomms&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
 <span class="s1">&#39;postcomms&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
 <span class="s1">&#39;prespace&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
 <span class="s1">&#39;postspace&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get_option" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">get_option</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">option</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">options</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span></span><span class="return-annotation">) -> <span class="n">Any</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get_option"></a>
    
            <div class="docstring"><p>Get a single option from <code><a href="#FST.options">options</a></code> dict or global default if option not in dict or is <code>None</code> there. For a
list of options used see <code><a href="#FST.get_options">get_options()</a></code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>option</code>: Name of option to get, see <code><a href="#FST.get_options">get_options()</a></code>.</li>
<li><code><a href="#FST.options">options</a></code>: Dictionary which may or may not contain the requested option.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>Any</code>: The <code>option</code> value from the passed <code><a href="#FST.options">options</a></code> dict, if passed and not <code>None</code> there, else the global
default value for <code>option</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">)</span>
<span class="s1">&#39;auto&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;pars&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;pars&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">})</span>
<span class="s1">&#39;auto&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.set_options" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">set_options</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">typing</span><span class="o">.</span><span class="n">Any</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.set_options"></a>
    
            <div class="docstring"><p>Set global defaults for <code><a href="#FST.options">options</a></code> parameters.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.options">options</a></code>: Names / values of parameters to set. These can also be passed to various methods to override the
defaults set here for those individual operations, see <code><a href="#FST.get_options">get_options()</a></code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST.options">options</a></code>: <code>dict</code> of previous values of changed parameters, reset with <code>set_options(**options)</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">)</span>
<span class="s1">&#39;auto&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.set_options">FST.set_options</a></span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;pars&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">)</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.set_options">FST.set_options</a></span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;pars&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">})</span>
<span class="p">{</span><span class="s1">&#39;pars&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">)</span>
<span class="s1">&#39;auto&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n"><a href="#FST.set_options">FST.set_options</a></span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">docstr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;pars&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;raw&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;docstr&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.options" class="classattr">
                                <div class="attr function">
                    <div class="decorator decorator-staticmethod">@staticmethod</div>
        <div class="decorator decorator-contextmanager">@contextmanager</div>

        <span class="def">def</span>
        <span class="name">options</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#FST.options"></a>
    
            <div class="docstring"><p>Context manager to temporarily set global options defaults for a group of operations.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.options">options</a></code>: Names / values of options to set temporarily, see <code><a href="#FST.get_options">get_options()</a></code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">))</span>
<span class="n">auto</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n"><a href="#FST.options">FST.options</a></span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">))</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n"><a href="#FST.get_option">FST.get_option</a></span><span class="p">(</span><span class="s1">&#39;pars&#39;</span><span class="p">))</span>
<span class="n">auto</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.dump" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">dump</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">src</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">full</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">expand</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">indent</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2</span>,</span><span class="param">	<span class="n">out</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">,</span> <span class="n">TextIO</span><span class="p">]</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">built</span><span class="o">-</span><span class="ow">in</span> <span class="n">function</span> <span class="nb">print</span><span class="o">&gt;</span>,</span><span class="param">	<span class="n">eol</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.dump"></a>
    
            <div class="docstring"><p>Dump a representation of the tree to stdout or other <code>TextIO</code> or return as a <code>str</code> or <code>list</code> of lines, or
call a provided function once with each line of the output.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.src">src</a></code>: <code>'stmt'</code> means output statement source lines (including <code>ExceptHandler</code> and <code>match_case</code>), <code>'all'</code>
means output source for each individual and node and <code>None</code> does not output any source. Can also be a string
for shortcut specification of source and flags by first letter: <code>'s'</code> means <code>src='stmt'</code>, <code>'a'</code> means
<code>src='all'</code>, <code>'f'</code> means <code>full=True</code> and <code>'e'</code> means <code>expand=True</code>, so <code>'sfe'</code> would be a full expanded dump
showing statement source lines.</li>
<li><code>full</code>: If <code>True</code> then will list all fields in nodes including empty ones, otherwise will exclude most empty
fields.</li>
<li><code>expand</code>: If <code>True</code> then the output is a nice compact representation. If <code>False</code> then it is ugly and wasteful.</li>
<li><code><a href="#FST.indent">indent</a></code>: The average airspeed of an unladen swallow (European).</li>
<li><code>out</code>: <code>print</code> means print to stdout, <code>list</code> returns a list of lines and <code>str</code> returns a whole string.
<code>TextIO</code> will cann the <code>write</code> method for each line of output. Otherwise a <code>Callable[[str], None]</code> which is
called for each line of output individually.</li>
<li><code>eol</code>: What to put at the end of each text line, <code>None</code> means newline for <code>TextIO</code> out and nothing for other.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>str | list[str]</code>: If those were requested with <code>out=str</code> or <code>out=list</code> else <code>None</code> and the output is send one
line at a time to <code>linefunc</code>, which by default is <code>print</code>.</li>
<li><code>None</code>: Otherwise.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">... if 1:</span>
<span class="s1">...     call(a[i], **b)</span>
<span class="s1">... &#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">()</span>
<span class="n">If</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">19</span>
  <span class="o">.</span><span class="n">test</span> <span class="n">Constant</span> <span class="mi">1</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">3..0</span><span class="p">,</span><span class="mi">4</span>
  <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
  <span class="mi">0</span><span class="p">]</span> <span class="n">Expr</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">4..1</span><span class="p">,</span><span class="mi">19</span>
    <span class="o">.</span><span class="n">value</span> <span class="n">Call</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">4..1</span><span class="p">,</span><span class="mi">19</span>
      <span class="o">.</span><span class="n">func</span> <span class="n">Name</span> <span class="s1">&#39;call&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">4..1</span><span class="p">,</span><span class="mi">8</span>
      <span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
      <span class="mi">0</span><span class="p">]</span> <span class="n">Subscript</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">9..1</span><span class="p">,</span><span class="mi">13</span>
        <span class="o">.</span><span class="n">value</span> <span class="n">Name</span> <span class="s1">&#39;a&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">9..1</span><span class="p">,</span><span class="mi">10</span>
        <span class="o">.</span><span class="n">slice</span> <span class="n">Name</span> <span class="s1">&#39;i&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">11..1</span><span class="p">,</span><span class="mi">12</span>
        <span class="o">.</span><span class="n">ctx</span> <span class="n">Load</span>
      <span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
      <span class="mi">0</span><span class="p">]</span> <span class="n">keyword</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">15..1</span><span class="p">,</span><span class="mi">18</span>
        <span class="o">.</span><span class="n">value</span> <span class="n">Name</span> <span class="s1">&#39;b&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">17..1</span><span class="p">,</span><span class="mi">18</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="mi">0</span><span class="p">:</span> <span class="k">if</span> <span class="mi">1</span><span class="p">:</span>
<span class="n">If</span> <span class="o">-</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">19</span>
<span class="mi">0</span><span class="p">:</span>    <span class="mi">1</span>
    <span class="o">.</span><span class="n">test</span> <span class="n">Constant</span> <span class="mi">1</span> <span class="o">-</span> <span class="mi">0</span><span class="p">,</span><span class="mf">3..0</span><span class="p">,</span><span class="mi">4</span>
    <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="mi">1</span><span class="p">:</span>     <span class="n">call</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="o">**</span><span class="n">b</span><span class="p">)</span>
    <span class="mi">0</span><span class="p">]</span> <span class="n">Expr</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">4..1</span><span class="p">,</span><span class="mi">19</span>
        <span class="o">.</span><span class="n">value</span> <span class="n">Call</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">4..1</span><span class="p">,</span><span class="mi">19</span>
<span class="mi">1</span><span class="p">:</span>     <span class="n">call</span>
            <span class="o">.</span><span class="n">func</span> <span class="n">Name</span> <span class="s1">&#39;call&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">4..1</span><span class="p">,</span><span class="mi">8</span>
            <span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="mi">1</span><span class="p">:</span>          <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="mi">0</span><span class="p">]</span> <span class="n">Subscript</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">9..1</span><span class="p">,</span><span class="mi">13</span>
<span class="mi">1</span><span class="p">:</span>          <span class="n">a</span>
                <span class="o">.</span><span class="n">value</span> <span class="n">Name</span> <span class="s1">&#39;a&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">9..1</span><span class="p">,</span><span class="mi">10</span>
<span class="mi">1</span><span class="p">:</span>            <span class="n">i</span>
                <span class="o">.</span><span class="n">slice</span> <span class="n">Name</span> <span class="s1">&#39;i&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">11..1</span><span class="p">,</span><span class="mi">12</span>
                <span class="o">.</span><span class="n">ctx</span> <span class="n">Load</span>
            <span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="mi">1</span><span class="p">:</span>                <span class="o">**</span><span class="n">b</span>
            <span class="mi">0</span><span class="p">]</span> <span class="n">keyword</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">15..1</span><span class="p">,</span><span class="mi">18</span>
<span class="mi">1</span><span class="p">:</span>                  <span class="n">b</span>
                <span class="o">.</span><span class="n">value</span> <span class="n">Name</span> <span class="s1">&#39;b&#39;</span> <span class="n">Load</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span><span class="mf">17..1</span><span class="p">,</span><span class="mi">18</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">out</span><span class="o">=</span><span class="nb">str</span><span class="p">)[:</span><span class="mi">64</span><span class="p">]</span>
<span class="s1">&#39;If - ROOT 0,0..1,19</span><span class="se">\n</span><span class="s1">  .test Constant 1 - 0,3..0,4</span><span class="se">\n</span><span class="s1">  .body[1]</span><span class="se">\n</span><span class="s1">  0&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="nb">list</span><span class="p">):</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">l</span><span class="p">))</span>
<span class="s1">&#39;0: if 1:&#39;</span>
<span class="s1">&#39;If - ROOT 0,0..1,19&#39;</span>
<span class="s1">&#39;  .test Constant 1 - 0,3..0,4&#39;</span>
<span class="s1">&#39;  .body[1]&#39;</span>
<span class="s1">&#39;1:     call(a[i], **b)&#39;</span>
<span class="s1">&#39;  0] Expr - 1,4..1,19&#39;</span>
<span class="s1">&#39;    .value Call - 1,4..1,19&#39;</span>
<span class="s2">&quot;      .func Name &#39;call&#39; Load - 1,4..1,8&quot;</span>
<span class="s1">&#39;      .args[1]&#39;</span>
<span class="s1">&#39;      0] Subscript - 1,9..1,13&#39;</span>
<span class="s2">&quot;        .value Name &#39;a&#39; Load - 1,9..1,10&quot;</span>
<span class="s2">&quot;        .slice Name &#39;i&#39; Load - 1,11..1,12&quot;</span>
<span class="s1">&#39;        .ctx Load&#39;</span>
<span class="s1">&#39;      .keywords[1]&#39;</span>
<span class="s1">&#39;      0] keyword - 1,15..1,18&#39;</span>
<span class="s2">&quot;        .value Name &#39;b&#39; Load - 1,17..1,18&quot;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.verify" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">verify</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">mode</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;most&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="s1">&#39;eval&#39;</span><span class="p">,</span> <span class="s1">&#39;single&#39;</span><span class="p">,</span> <span class="s1">&#39;stmtishs&#39;</span><span class="p">,</span> <span class="s1">&#39;stmtish&#39;</span><span class="p">,</span> <span class="s1">&#39;stmts&#39;</span><span class="p">,</span> <span class="s1">&#39;stmt&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandlers&#39;</span><span class="p">,</span> <span class="s1">&#39;ExceptHandler&#39;</span><span class="p">,</span> <span class="s1">&#39;match_cases&#39;</span><span class="p">,</span> <span class="s1">&#39;match_case&#39;</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_slice&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_sliceelt&#39;</span><span class="p">,</span> <span class="s1">&#39;expr_callarg&#39;</span><span class="p">,</span> <span class="s1">&#39;boolop&#39;</span><span class="p">,</span> <span class="s1">&#39;operator&#39;</span><span class="p">,</span> <span class="s1">&#39;binop&#39;</span><span class="p">,</span> <span class="s1">&#39;augop&#39;</span><span class="p">,</span> <span class="s1">&#39;unaryop&#39;</span><span class="p">,</span> <span class="s1">&#39;cmpop&#39;</span><span class="p">,</span> <span class="s1">&#39;comprehension&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments&#39;</span><span class="p">,</span> <span class="s1">&#39;arguments_lambda&#39;</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">,</span> <span class="s1">&#39;alias_dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;alias_star&#39;</span><span class="p">,</span> <span class="s1">&#39;withitem&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">,</span> <span class="s1">&#39;type_param&#39;</span><span class="p">],</span> <span class="nb">type</span><span class="p">[</span><span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">reparse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">locs</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">ctx</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">raise_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n">Optional</span><span class="p">[</span><span class="n">Self</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.verify"></a>
    
            <div class="docstring"><p>Sanity check. Walk the tree and make sure all <code>AST</code>s have corresponding <code><a href="#FST">FST</a></code> nodes with valid parent / child
links, then (optionally) reparse source and make sure parsed tree matches currently stored tree (locations and
everything). The reparse can only be carried out on root nodes but the link validation can be done on any level.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>mode</code>: Parse mode to use, otherwise if <code>None</code> then use the top level AST node type for the mode. Depending on
how this is set will determine whether the verification is checking if is parsable by python (<code>'exec'</code> for
example), or if the node itself is just in a valid state (where <code>None</code> is good). See <code><a href="misc.html#Mode">fst.misc.Mode</a></code>.</li>
<li><code>reparse</code>: Whether to reparse the source and compare ASTs (including location). Otherwise the check is limited
to a structure check that all children have <code><a href="#FST">FST</a></code> nodes which are all liked correctly to their parents.
<code>reparse=True</code> only allowed on root node.</li>
<li><code>locs</code>: Whether to compare locations after reparse or not.</li>
<li><code>ctx</code>: Whether to compare <code>ctx</code> nodes after reparse or not.</li>
<li><code>raise_</code>: Whether to raise an exception on verify failed or return <code>None</code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> on failure to verify (if not <code>raise_</code>), otherwise <code>self</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var = 123&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Assign</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">9</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a:b:c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">verify</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Slice</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">5</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">bool</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a:b:c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span><span class="s1">&#39;exec&#39;</span><span class="p">,</span> <span class="n">raise_</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="kc">False</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.mark" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mark</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.mark"></a>
    
            <div class="docstring"><p>Return an object marking the current state of this <code><a href="#FST">FST</a></code> tree. Used to <code><a href="#FST.reconcile">reconcile()</a></code> later for non-FST operation
changes made (changing <code>AST</code> nodes directly). Currently is just a copy of the original tree but may change in the
future.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: A marked copy of <code>self</code> with any necessary information added for a later <code><a href="#FST.reconcile">reconcile()</a></code>.</li>
</ul>
</div>


                            </div>
                            <div id="FST.reconcile" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">reconcile</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">mark</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.reconcile"></a>
    
            <div class="docstring"><p>Reconcile <code>self</code> with a previously marked version and return a new valid <code><a href="#FST">FST</a></code> tree. This is meant for allowing
non-FST modifications to an <code><a href="#FST">FST</a></code> tree and later converting it to a valid <code><a href="#FST">FST</a></code> tree to preserve as much formatting
as possible and maybe continue operating in <code><a href="#FST">FST</a></code> land. Only <code>AST</code> nodes from the original tree carry formatting
information, so the more of those are replaced the more formatting is lost.</p>

<p><strong>Note:</strong> When replacing the <code>AST</code> nodes, make sure you are replacing the nodes in the parent <code>AST</code> fields, not the
<code>.a</code> attribute in <code><a href="#FST">FST</a></code> nodes, that won't do anything.</p>

<p><strong>WARNING!</strong> Just like an <code>ast.unparse()</code>, the fact that this function completes successfully does NOT mean the
output is syntactically correct if you put weird nodes where they don't belong, maybe accidentally. In order to make
sure the result is valid (syntactically) you should run <code><a href="#FST.verify">verify()</a></code> on the output. This still won't guarantee you
have actual valid code, <code>def f(x, x): pass</code> parses ok but will cause an error if you try to compile it.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.mark">mark</a></code>: A previously marked snapshot of <code>self</code>. This object is not consumed on use, success or failure.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.get_options">get_options()</a></code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: A new valid reconciled <code><a href="#FST">FST</a></code> if possible.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">... @decorator  # something</span>
<span class="s1">... def function(a: int, b=2)-&gt;int:  # blah</span>
<span class="s1">...     return a+b  # return this</span>
<span class="s1">...</span>
<span class="s1">... def other_function(a, b):</span>
<span class="s1">...     return a - b  # return that</span>
<span class="s1">... &#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">mark</span><span class="p">()</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">returns</span> <span class="o">=</span> <span class="n">Name</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>  <span class="c1"># pure AST</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">annotation</span> <span class="o">=</span> <span class="n">Name</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">decorator_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call_decorator(1, 2, 3)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">a</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;last_function&#39;</span>  <span class="c1"># can change non-AST</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># AST from same FST tree</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">other</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def first_function(a, b): return a * b  # yay!&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>  <span class="c1"># AST from other FST tree</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">reconcile</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">pep8space</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">l</span> <span class="ow">or</span> <span class="s1">&#39;.&#39;</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">lines</span><span class="p">))</span>  <span class="c1"># print this way for doctest</span>
<span class="k">def</span><span class="w"> </span><span class="nf">first_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span> <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>  <span class="c1"># yay!</span>
<span class="o">.</span>
<span class="nd">@call_decorator</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>  <span class="c1"># something</span>
<span class="k">def</span><span class="w"> </span><span class="nf">function</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">-&gt;</span><span class="nb">float</span><span class="p">:</span>  <span class="c1"># blah</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span>  <span class="c1"># return this</span>
<span class="o">.</span>
<span class="k">def</span><span class="w"> </span><span class="nf">last_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span>  <span class="c1"># return this</span>
<span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">m</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">mark</span><span class="p">()</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">body</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">body</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">a</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="n">body</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">reconcile</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">pep8space</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">l</span> <span class="ow">or</span> <span class="s1">&#39;.&#39;</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">lines</span><span class="p">))</span>
<span class="k">def</span><span class="w"> </span><span class="nf">first_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span> <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>  <span class="c1"># yay!</span>
<span class="o">.</span>
<span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span>  <span class="c1"># return this</span>
<span class="o">.</span>
<span class="k">def</span><span class="w"> </span><span class="nf">last_function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span>  <span class="c1"># return this</span>
<span class="o">.</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.copy" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">copy</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.copy"></a>
    
            <div class="docstring"><p>Copy this node to a new top-level tree, dedenting and fixing as necessary.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.get_options">get_options()</a></code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: Copied node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;1&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.cut" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cut</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.cut"></a>
    
            <div class="docstring"><p>Cut out this node to a new top-level tree (if possible), dedenting and fixing as necessary. Cannot cut root
node.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.get_options">get_options()</a></code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: Cut node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cut</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;1&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 2, 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.replace" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">replace</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.replace"></a>
    
            <div class="docstring"><p>Replace or delete (if <code>code=None</code>, if possible) this node. Returns the new node for <code>self</code>, not the old
replaced node, or <code>None</code> if was deleted or raw replaced and the old node disappeared. Cannot delete root node.
CAN replace root node, in which case the accessing <code><a href="#FST">FST</a></code> node remains the same but the top-level <code>AST</code> and
source change.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: <code><a href="#FST">FST</a></code>, <code>AST</code> or source <code>str</code> or <code>list[str]</code> to put at this location. <code>None</code> to delete this node.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.get_options">get_options()</a></code>.
<ul>
<li><code>to</code>: Special option which only applies replacing in <code>raw</code> mode (either through <code>True</code> or <code>'auto'</code>).
Instead of replacing just this node, will replace the entire span from this node to the node specified
in <code>to</code> with the <code>code</code> passed.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: Returns the new node if successfully replaced or <code>None</code> if deleted.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 4, 2, 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a, /, b, *c, **d) -&gt; int: pass&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">posonlyargs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">returns</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># raw reparse</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;def f(): pass&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.remove" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">remove</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#FST.remove"></a>
    
            <div class="docstring"><p>Delete this node if possible, equivalent to <code>replace(None, ...)</code>. Cannot delete root node.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.get_options">get_options()</a></code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">();</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 2, 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">idx</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">stop</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">cut</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">ellipsis</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">complex</span> <span class="o">|</span> <span class="nb">bytes</span> <span class="o">|</span> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get"></a>
    
            <div class="docstring"><p>Copy or cut an individual child node or a slice of child nodes from <code>self</code> if possible. This function can do
everything that <code><a href="#FST.get_slice">get_slice()</a></code> can.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>idx</code>: The index of the child node to get if the field being gotten from contains multiple elements or the
start of the slice to get if getting a slice (by specifying <code>stop</code>). If the field being gotten from is
an individual element then this should be <code>None</code>. If <code>stop</code> is specified and getting a slice then a <code>None</code>
here means copy from the start of the list.</li>
<li><code>stop</code>: The end index (exclusive) of the child node to get if getting a slice from a field that contains
multiple elements. This should be one past the last element to get (like python list indexing). If this is
<code>False</code> then it indicates that a single element is being requested and not a slice. If this is <code>None</code> then
it indicates a slice operation to the end of the list (like python <code>a[start:]</code>).</li>
<li><code>field</code>: The name of the field to get the element(s) from, which can be an individual element like a <code>value</code>
or a list like <code>body</code>. If this is <code>None</code> then the default field for the node type is used. Most node types
have a common-sense default field, e.g. <code>body</code> for all block statements, <code>value</code> for things like <code>Return</code>
and <code>Yield</code>. <code>Dict</code>, <code>MatchMapping</code> and <code>Compare</code> nodes have special-case handling for a <code>None</code> field.</li>
<li><code><a href="#FST.cut">cut</a></code>: Whether to cut out the child node (if possible) or not (just copy).</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.get_options">get_options()</a></code>.</li>
</ul>

<p><strong>Note:</strong> The <code>field</code> value can be passed positionally in either the <code>idx</code> or <code>stop</code> parameter. If passed in
<code>idx</code> then the field is assumed individual and if passed in <code>stop</code> then it is a list and an individual element
is being gotten from <code>idx</code> and not a slice.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: When getting an actual node (most situations).</li>
<li><code>str</code>: When getting am identifier, like from <code>Name.id</code>.</li>
<li><code>constant</code>: When getting a constant (<code><a href="astutil.html#constant">fst.astutil.constant</a></code>), like from <code>MatchSingleton.value</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;1&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 1, 2, 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">cut</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2, 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;i = 1&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;orelse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;j = 2&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2; k = 3&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;k = 3&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2; k = 3; l = 4; m = 5&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;k = 3; l = 4&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;return 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># default field is &#39;value&#39;</span>
<span class="s1">&#39;1&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># &#39;elts&#39; slice copy is made</span>
<span class="s1">&#39;[0, 1, 2, 3]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.put" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">put</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ellipsis</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">complex</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="n">idx</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">stop</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">one</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n">Self</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.put"></a>
    
            <div class="docstring"><p>Put an individual node or a slice of nodes to <code>self</code> if possible. This function can do everything that
<code><a href="#FST.put_slice">put_slice()</a></code> can. The node is passed as an existing top-level <code><a href="#FST">FST</a></code>, <code>AST</code>, string or list of string lines. If
passed as an <code><a href="#FST">FST</a></code> then it should be considered "consumed" after this function returns and is no logner valid,
even on failure. <code>AST</code> is copied.</p>

<p><strong>WARNING!</strong> The original <code>self</code> node may be invalidated during the operation if using raw mode (either
specifically or as a fallback), so make sure to swap it out for the return value of this function if you will
keep using the variable you called this method on. It will be changed accordingly in the tree but any other
outside references to the node may become invalid.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: The node to put as an <code><a href="#FST">FST</a></code> (must be root node), <code>AST</code>, a string or list of line strings. If putting
to an identifier field then this should be a string and it will be taken literally (no parsing). If putting
to a constant likew <code>MatchSingleton.value</code> or <code>Constant.value</code> then this should be an appropriate primitive
constant value.</li>
<li><code>idx</code>: The index of the field node to put to if the field being put to contains multiple elements or the start
of the slice to put if putting a slice (by specifying <code>stop</code>). If the field being put to is an individual
element then this should be <code>None</code>. If <code>stop</code> is specified and putting a slice then a <code>None</code> here means put
starting from the beginning of the list.</li>
<li><code>stop</code>: The end index (exclusive) of the field node to put to if putting a slice to a field that contains
multiple elements. This should be one past the last element to put (like python list indexing). If this is
<code>False</code> then it indicates that a single element is being put and not a slice. If this is <code>None</code> then it
indicates a slice operation to the end of the list (like python <code>a[start:]</code>).</li>
<li><code>field</code>: The name of the field to put the element(s) to, which can be an individual element like a <code>value</code> or
a list like <code>body</code>. If this is <code>None</code> then the default field for the node type is used. Most node types have
a common-sense default field, e.g. <code>body</code> for all block statements, <code>value</code> for things like <code>Return</code> and
<code>Yield</code>. <code>Dict</code>, <code>MatchMapping</code> and <code>Compare</code> nodes have special-case handling for a <code>None</code> field.</li>
<li><code>one</code>: Only has meaning if putting a slice, and in this case <code>True</code> specifies that the source should be  put
as a single element to the range specified even if it is a valid slice. <code>False</code> indicates a true slice
operation replacing the range with the slice passed, which must in this case be a compatible slice type.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.get_options">get_options()</a></code>.
<ul>
<li><code>to</code>: Special option which only applies when putting a single element in <code>raw</code> mode (either through <code>True</code>
or <code>'auto'</code>). Instead of replacing just the target node, will replace the entire span from the target
node to the node specified in <code>to</code> with the <code>code</code> passed.</li>
</ul></li>
</ul>

<p><strong>Note:</strong> The <code>field</code> value can be passed positionally in either the <code>idx</code> or <code>stop</code> parameter. If passed in
<code>idx</code> then the field is assumed individual and if passed in <code>stop</code> then it is a list and an individual element
is being gotten from <code>idx</code> and not a slice.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 4, 2, 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, (4, 5), 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 4, 5, 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[(4, 5), 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 4, 5]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">else</span><span class="p">:</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">2</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span>
<span class="o">...</span>       <span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1</span><span class="se">\n</span><span class="s1">y = -2</span><span class="se">\n</span><span class="s1">x = -3&#39;</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span>
    <span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">((</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">))</span>
<span class="o">...</span>       <span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">orelse</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span> <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get_slice" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_slice</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">start</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">stop</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">cut</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get_slice"></a>
    
            <div class="docstring"><p>Copy or cut a slice of child nodes from <code>self</code> if possible.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>start</code>: The start of the slice to get, or <code>None</code> for the beginning of the entire range.</li>
<li><code>stop</code>: The end index (exclusive) of the slice to get. This should be one past the last element to get (like
python list indexing). If this is <code>None</code> then it indicates a slice operation to the end of the list (like
python <code>a[start:]</code>).</li>
<li><code>field</code>: The name of the field to get the elements from, which can be an individual element like a <code>value</code> or
a list like <code>body</code>. If this is <code>None</code> then the default field for the node type is used. Most node types
have a common-sense default field, e.g. <code>body</code> for all block statements, <code>elts</code> for things like <code>List</code> and
<code>Tuple</code>. <code>MatchMapping</code> and <code>Compare</code> nodes have special-case handling for a <code>None</code> field.</li>
<li><code><a href="#FST.cut">cut</a></code>: Whether to cut out the slice or not (just copy).</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.get_options">get_options()</a></code>.</li>
</ul>

<p><strong>Note:</strong> The <code>field</code> value can be passed positionally in either the <code>start</code> or <code>stop</code> parameter. If passed in
<code>start</code> then the slice is assumed to be the entire range, and if passed in <code>stop</code> then the slice goes from
<code>start</code> to the end of the range.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: Slice node of nodes gotten.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2, 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_slice</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">get_slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">cut</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2; k = 3; l = 4; m = 5&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">get_slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">,</span> <span class="n">cut</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">else</span><span class="p">:</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">5</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="n">k</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">4</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.put_slice" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">put_slice</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="n">start</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;end&#39;</span><span class="p">],</span> <span class="n">NoneType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">stop</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">one</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span><span class="return-annotation">) -> <span class="n">Self</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.put_slice"></a>
    
            <div class="docstring"><p>Put a slice of nodes to <code>self</code> if possible.  The node is passed as an existing top-level <code><a href="#FST">FST</a></code>, <code>AST</code>, string
or list of string lines. If passed as an <code><a href="#FST">FST</a></code> then it should be considered "consumed" after this function
returns and is no logner valid, even on failure. <code>AST</code> is copied.</p>

<p><strong>WARNING!</strong> The original <code>self</code> node may be invalidated during the operation if using raw mode (either
specifically or as a fallback), so make sure to swap it out for the return value of this function if you will
keep using the variable you called this method on. It will be changed accordingly in the tree but any other
outside references to the node may become invalid.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: The slice to put as an <code><a href="#FST">FST</a></code> (must be root node), <code>AST</code>, a string or list of line strings.</li>
<li><code>start</code>: The start of the slice to put, or <code>None</code> for the beginning of the entire range.</li>
<li><code>stop</code>: The end index (exclusive) of the slice. This should be one past the last element to put (like python
list indexing). If this is <code>None</code> then it indicates a slice operation to the end of the list (like python
<code>a[start:]</code>).</li>
<li><code>field</code>: The name of the field to put the elements to. If this is <code>None</code> then the default field for the node
type is used. Most node types have a common-sense default field, e.g. <code>body</code> for all block statements,
<code>elts</code> for things like <code>List</code> and <code>Tuple</code>. <code>MatchMapping</code> and <code>Compare</code> nodes have special-case handling for
a <code>None</code> field.</li>
<li><code><a href="#FST.options">options</a></code>: See <code><a href="#FST.get_options">get_options()</a></code>.</li>
</ul>

<p><strong>Note:</strong> The <code>field</code> value can be passed positionally in either the <code>start</code> or <code>stop</code> parameter. If passed in
<code>start</code> then the slice is assumed to be the entire range, and if passed in <code>stop</code> then the slice goes from
<code>start</code> to the end of the range.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 4, 2, 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, (4, 5), 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 4, 5, 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[(4, 5), 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;4, 5&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[0, 4, 5]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">else</span><span class="p">:</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">2</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">)</span>
<span class="o">...</span>       <span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1</span><span class="se">\n</span><span class="s1">y = -2</span><span class="se">\n</span><span class="s1">x = -3&#39;</span><span class="p">,</span> <span class="s1">&#39;orelse&#39;</span><span class="p">,</span> <span class="n">one</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="o">.</span><span class="n">rstrip</span><span class="p">())</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span>
    <span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">((</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1</span><span class="se">\n</span><span class="s1">else: j = 2&#39;</span><span class="p">))</span>
<span class="o">...</span>       <span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;z = -1&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">to</span><span class="o">=</span><span class="n">f</span><span class="o">.</span><span class="n">orelse</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="k">if</span> <span class="mi">1</span><span class="p">:</span> <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get_src" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_src</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">ln</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">col</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">end_ln</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">end_col</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">as_lines</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get_src"></a>
    
            <div class="docstring"><p>Get source at location, without dedenting or any other modification, returned as a string or individual
lines. The first and last lines are cropped to start <code><a href="#FST.col">col</a></code> and <code><a href="#FST.end_col">end_col</a></code>.</p>

<p>Can call on any node in tree to access source for the whole tree.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.ln">ln</a></code>: Start line of span to get (0 based).</li>
<li><code><a href="#FST.col">col</a></code>: Start column (character) on start line.</li>
<li><code><a href="#FST.end_ln">end_ln</a></code>: End line of span to get (0 based, inclusive).</li>
<li><code><a href="#FST.end_col">end_col</a></code>: End column (character, exclusive) on end line.</li>
<li><code>as_lines</code>: If <code>False</code> then source is returned as a single string with embedded newlines. If <code>True</code> then
source is returned as a list of line strings (without newlines).</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>str | list[str]</code>: A single string or a list of lines if <code>as_lines=True</code>. If lines then there are no trailing
newlines in the individual line strings.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">  i = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_src</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="s1">&#39;1:</span><span class="se">\n</span><span class="s1">  i =&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">  i = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_src</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">as_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;1:&#39;</span><span class="p">,</span> <span class="s1">&#39;  i =&#39;</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">  i = 2&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">get_src</span><span class="p">(</span><span class="o">*</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">bloc</span><span class="p">)</span>
<span class="s1">&#39;i = 2&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.put_src" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">put_src</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">code</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">AST</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>,</span><span class="param">	<span class="n">ln</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">col</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">end_ln</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">end_col</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">exact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.put_src"></a>
    
            <div class="docstring"><p>Put source and reparse. There are no rules on what is put, it is simply put and parse is attempted. If the
<code>code</code> is passed as an <code>AST</code> then it is unparsed to a string and that string is put into the location. If <code><a href="#FST">FST</a></code>
then the exact source of the <code><a href="#FST">FST</a></code> is put. If passed as a string or lines then that is put directly.</p>

<p>The reparse that is triggered is of at least a statement level node or a statement block header, and can be
multiple statements if the location spans those or even statements outside of the location if the reparse
affects things like <code>elif</code>. <code><a href="#FST">FST</a></code> nodes in the region of the put or even outside of it can become invalid. The
only <code><a href="#FST">FST</a></code> node guaranteed not to change is the root node (identity, the <code>AST</code> it holds can change).</p>

<p>When putting source raw by location like this there are no automatic modifications made to the source or
destination. No parenthesization, prefixes or suffixes or indentation, the source is just put and parsed so you
are responsible for the correct indentation and precedence.</p>

<p>After put and successful reparse the location of the put is examined and an appropriate node is returned which
fits best for a node which may have been added or replaced. It is possible that <code>None</code> is returned if no good
candidate is found (since this can be used to delete or merge nodes).</p>

<p>Can call on any node in tree to modify source for the whole tree.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>code</code>: The code to put as an <code><a href="#FST">FST</a></code> (must be root node), <code>AST</code>, a string or list of line strings.</li>
<li><code><a href="#FST.ln">ln</a></code>: Start line of span to put (0 based).</li>
<li><code><a href="#FST.col">col</a></code>: Start column (character) on start line.</li>
<li><code><a href="#FST.end_ln">end_ln</a></code>: End line of span to put (0 based, inclusive).</li>
<li><code><a href="#FST.end_col">end_col</a></code>: End column (character, exclusive) on end line.</li>
<li><code>exact</code>: This specifies how the node check after a successful reparse is done. <code>True</code> means allow return of
node which matches location exactly. Otherwise if <code>False</code>, the location must be inside the node but cannot
be touching BOTH ends of the node. This basically determines whether you can get the exact node of the
location or its parent. If passed as <code>None</code> then the check is even more restricted.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: FIRST highest level node contained entirely within replacement source location (there may be
others following), or <code>None</code> if no such candidate and <code>exact=None</code>. If no candidate and <code>exact</code> is <code>True</code>
or <code>False</code> then will attempt to return a node which encloses the location using <code>find_loc(..., exact)</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;i = 2&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39;+= 3&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;i += 3&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;{a: b, c: d, e: f}&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39;**&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;{a: b, **d, e: f}&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = 1&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">targets</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">a</span><span class="p">))</span>
<span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="err">&#39;</span><span class="nc">ast</span><span class="o">.</span><span class="n">Name</span><span class="s1">&#39;&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;4&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<span class="kc">None</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">targets</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">a</span><span class="p">))</span>
<span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="err">&#39;</span><span class="nc">ast</span><span class="o">.</span><span class="n">Name</span><span class="s1">&#39;&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">... if a:</span>
<span class="s1">...   i = 2</span>
<span class="s1">... elif b:</span>
<span class="s1">...   j = 3</span>
<span class="s1">... &#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="k">if</span> <span class="n">a</span><span class="p">:</span>
  <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">elif</span> <span class="n">b</span><span class="p">:</span>
  <span class="n">j</span> <span class="o">=</span> <span class="mi">3</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">put_src</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">... else:</span>
<span class="s1">...   if b:</span>
<span class="s1">...     k = 4</span>
<span class="s1">... &#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">(),</span> <span class="o">*</span><span class="n">f</span><span class="o">.</span><span class="n">orelse</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span> <span class="o">*</span><span class="n">f</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>
<span class="o">&lt;</span><span class="n">If</span> <span class="mi">3</span><span class="p">,</span><span class="mf">2..4</span><span class="p">,</span><span class="mi">9</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="k">if</span> <span class="n">a</span><span class="p">:</span>
  <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">else</span><span class="p">:</span>
  <span class="k">if</span> <span class="n">b</span><span class="p">:</span>
    <span class="n">k</span> <span class="o">=</span> <span class="mi">4</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.pars" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">pars</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="misc.html#fstloc">fst.misc.fstloc</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.pars"></a>
    
            <div class="docstring"><p>Return the location of enclosing GROUPING parentheses if present. Will balance parentheses if <code>self</code> is an
element of a tuple and not return the parentheses of the tuple. Likwise will not normally return the parentheses
of an enclosing <code>arguments</code> parent or class bases list (unless <code>shared=None</code>, but that is mostly for internal
use).</p>

<p>Only normally works on (and makes sense for) <code>expr</code> or <code>pattern</code> nodes, otherwise returns <code>self.bloc</code> and count
of 0. Also handles special case of a single generator expression argument to a function sharing parameters with
the call arguments, in which case a count of -1 and the location of the <code>GeneratorExp</code> without its enclosing
parentheses may be returned, if this is enabled with <code>shared=False</code>.</p>

<p>This function is cached so feel free to call as often as is needed.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>shared</code>: If <code>True</code> then will include parentheses of a single call argument generator expression if they are
shared with the call arguments enclosing parentheses with a count of 0. If <code>False</code> then does not return
these and returns a count of -1, and thus the location is not a full valid <code>GeneratorExp</code> location. If
<code>None</code> then returns ANY directly enclosing parentheses, whether they belong to this node or not.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>fstloc | None</code>: Location of enclosing parentheses if present else <code>self.bloc</code> (which can be <code>None</code>). Negative
parentheses count (from shared parens solo call arg generator expression) can also be checked in the case of
<code>shared=False</code> via <code>fst.pars() &gt; fst.bloc</code>. If only loc is returned, it will be an <code>fstloc</code> which will
still have the count of parentheses in an attribute <code>.n</code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="n">fstlocns</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(i)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="n">fstlocns</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;((i))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="n">fstlocns</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(1, 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>  <span class="c1"># tuple pars are not considered grouping pars</span>
<span class="n">fstlocns</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;((1, 2))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="n">fstlocns</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(a)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>  <span class="c1"># any node, not just root</span>
<span class="n">fstlocns</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call((a))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="n">fstlocns</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(i for i in j)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pars</span><span class="p">()</span>
<span class="n">fstlocns</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(i for i in j)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pars</span><span class="p">(</span><span class="n">shared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># exclude shared pars</span>
<span class="n">fstlocns</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="n">n</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call((i for i in j))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pars</span><span class="p">(</span><span class="n">shared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fstlocns</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.par" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">par</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="o">*</span>, </span><span class="param"><span class="n">whole</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n">Self</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.par"></a>
    
            <div class="docstring"><p>Parenthesize node if it MAY need it. Will not parenthesize atoms which are always enclosed like <code>List</code>, or
nodes which are not <code><a href="#FST.is_parenthesizable">is_parenthesizable()</a></code>, unless <code>force=True</code>. Will add parentheses to unparenthesized <code>Tuple</code>
and brackets to unbracketed <code>MatchSequence</code> adjusting the node location. If dealing with a <code>Starred</code> then the
parentheses are applied to the child.</p>

<p><strong>WARNING!</strong> This function doesn't do any higher level syntactic validation. So if you parenthesize something
that shouldn't be parenthesized, and you wind up poking an eye out, that's on you.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>force</code>: If <code>True</code> then will add another layer of parentheses regardless if any already present.</li>
<li><code>whole</code>: If at root then parenthesize whole source instead of just node, if <code>False</code> then only node.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a + b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;(a + b)&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a + b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># already parenthesized, so nothing done</span>
<span class="s1">&#39;(a + b)&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a + b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># force it</span>
<span class="s1">&#39;((a + b))&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;1, 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># parenthesize tuple</span>
<span class="s1">&#39;(1, 2)&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># an atom doesn&#39;t need parentheses</span>
<span class="s1">&#39;i&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># so must be forced</span>
<span class="s1">&#39;(i)&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="c1"># parethesize MatchSequence puts brackets like ast.unparse()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;1, 2&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;*a or b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># par() a Starred parenthesizes its child</span>
<span class="s1">&#39;*(a or b)&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(i = 1 + 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">par</span><span class="p">()</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># not just root node</span>
<span class="s1">&#39;call(i = (1 + 2))&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.unpar" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">unpar</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">node</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="o">*</span>, </span><span class="param"><span class="n">shared</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n">Self</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.unpar"></a>
    
            <div class="docstring"><p>Remove all parentheses if present. Normally removes just grouping parentheses but can also remove <code>Tuple</code>
parentheses and <code>MatchSequence</code> parentheses or brackets intrinsic to the node if <code>node=True</code>. If dealing with a
<code>Starred</code> then the parentheses are checked in and removed from the child. If <code>shared=None</code> then will also remove
parentheses which do not belong to this node but enclose it directly, this is mostly for internal use.</p>

<p><strong>WARNING!</strong> This function doesn't do any higher level syntactic validation. So if you unparenthesize something
that shouldn't be unparenthesized, and you wind up poking an eye out, that's on you.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>node</code>: If <code>True</code> then will remove intrinsic parentheses from a parenthesized <code>Tuple</code> and parentheses /
brackets from parenthesized / bracketed <code>MatchSequence</code>, otherwise only removes grouping parentheses if
present.</li>
<li><code>shared</code>: Whether to allow merge of parentheses of single call argument generator expression with <code>Call</code>
parentheses or not. If <code>None</code> then will attempt to unparenthesize any enclosing parentheses, whether they
belong to this node or not (meant for internal use).</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>self</code></li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a + b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># nothing done if no pars</span>
<span class="s1">&#39;a + b&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a + b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;a + b&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;((a + b))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># removes all</span>
<span class="s1">&#39;a + b&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(1, 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># but not from tuple</span>
<span class="s1">&#39;(1, 2)&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(1, 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># unless explicitly specified</span>
<span class="s1">&#39;1, 2&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(((1, 2)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;(1, 2)&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(((1, 2)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;1, 2&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[1, 2]&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[1, 2]&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">(</span><span class="n">node</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;1, 2&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;*(a or b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>  <span class="c1"># unpar() a Starred unparenthesizes its child</span>
<span class="s1">&#39;*a or b&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="c1"># not just root node</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(i = (1 + 2))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;call(i = 1 + 2)&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="c1"># by default allows sharing</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(((i for i in j)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">unpar</span><span class="p">()</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;call(i for i in j)&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="c1"># unless told not to</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(((i for i in j)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">unpar</span><span class="p">(</span><span class="n">shared</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;call((i for i in j))&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.next" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">with_loc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.next"></a>
    
            <div class="docstring"><p>Get next sibling of <code>self</code> in syntactic order, only within parent.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>with_loc</code>: Return nodes depending on their location information.
<ul>
<li><code>False</code>: All nodes with or without location.</li>
<li><code>True</code>: Only nodes which have implicit <code>AST</code> locations and also larger computed location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually arguments
present).</li>
<li><code>'all'</code>: Same as <code>True</code> but also operators with calculated locations (excluding <code>and</code> and <code>or</code> since they
do not always have a well defined location).</li>
<li><code>'own'</code>: Only nodes with their own implicit <code>AST</code> locations, same as <code>True</code> but excludes those larger
nodes with calculated locations.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if last valid sibling in parent, otherwise next node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">next</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[3, 4]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">next</span><span class="p">())</span>
<span class="kc">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.prev" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">prev</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">with_loc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.prev"></a>
    
            <div class="docstring"><p>Get previous sibling of <code>self</code> in syntactic order, only within parent.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>with_loc</code>: Return nodes depending on their location information.
<ul>
<li><code>False</code>: All nodes with or without location.</li>
<li><code>True</code>: Only nodes which have implicit <code>AST</code> locations and also larger computed location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present).</li>
<li><code>'all'</code>: Same as <code>True</code> but also operators with calculated locations (excluding <code>and</code> and <code>or</code> since they
do not always have a well defined location).</li>
<li><code>'own'</code>: Only nodes with their own implicit <code>AST</code> locations, same as <code>True</code> but excludes those larger
nodes with calculated locations.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if first valid sibling in parent, otherwise previous node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">prev</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">prev</span><span class="p">())</span>
<span class="kc">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.first_child" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">first_child</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">with_loc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.first_child"></a>
    
            <div class="docstring"><p>Get first valid child in syntactic order.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>with_loc</code>: Return nodes depending on their location information.
<ul>
<li><code>False</code>: All nodes with or without location.</li>
<li><code>True</code>: Only nodes which have implicit <code>AST</code> locations and also larger computed location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present).</li>
<li><code>'all'</code>: Same as <code>True</code> but also operators with calculated locations (excluding <code>and</code> and <code>or</code> since they
do not always have a well defined location).</li>
<li><code>'own'</code>: Only nodes with their own implicit <code>AST</code> locations, same as <code>True</code> but excludes those larger
nodes with calculated locations.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if no valid children, otherwise first valid child.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a: list[str], /, reject: int, *c, d=100, **e): pass&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">first_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;a: list[str], /, reject: int, *c, d=100, **e&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">first_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;a: list[str]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">first_child</span><span class="p">()</span><span class="o">.</span><span class="n">first_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;list[str]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.last_child" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">last_child</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">with_loc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.last_child"></a>
    
            <div class="docstring"><p>Get last valid child in syntactic order.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>with_loc</code>: Return nodes depending on their location information.
<ul>
<li><code>False</code>: All nodes with or without location.</li>
<li><code>True</code>: Only nodes which have implicit <code>AST</code> locations and also larger computed location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present).</li>
<li><code>'all'</code>: Same as <code>True</code> but also operators with calculated locations (excluding <code>and</code> and <code>or</code> since they
do not always have a well defined location).</li>
<li><code>'own'</code>: Only nodes with their own implicit <code>AST</code> locations, same as <code>True</code> but excludes those larger
nodes with calculated locations.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if no valid children, otherwise last valid child.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a: list[str], /, reject: int, *c, d=100, **e): pass&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">last_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;pass&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">last_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;e&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.last_header_child" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">last_header_child</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">with_loc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.last_header_child"></a>
    
            <div class="docstring"><p>Get last valid child in syntactic order in a block header (before the <code>:</code>), e.g. the <code>something</code> in
<code>if something: pass</code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>with_loc</code>: Return nodes depending on their location information.
<ul>
<li><code>False</code>: All nodes with or without location.</li>
<li><code>True</code>: Only nodes which have implicit <code>AST</code> locations and also larger computed location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present).</li>
<li><code>'all'</code>: Same as <code>True</code> but also operators with calculated locations (excluding <code>and</code> and <code>or</code> since they
do not always have a well defined location).</li>
<li><code>'own'</code>: Only nodes with their own implicit <code>AST</code> locations, same as <code>True</code> but excludes those larger
nodes with calculated locations.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if no valid children or if <code>self</code> is not a block statement, otherwise last valid child in the block
header.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if something:</span><span class="se">\n</span><span class="s1">    i = 2</span><span class="se">\n</span><span class="s1">    i = 3&#39;</span><span class="p">)</span>
<span class="o">...</span>       <span class="o">.</span><span class="n">last_header_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="n">something</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except Exception as exc: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="o">...</span>       <span class="o">.</span><span class="n">last_header_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="ne">Exception</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;with a, b: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">last_header_child</span><span class="p">()</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="n">b</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">finally: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">last_header_child</span><span class="p">())</span>
<span class="kc">None</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">last_header_child</span><span class="p">())</span>
<span class="kc">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.next_child" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">next_child</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">from_child</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">with_loc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.next_child"></a>
    
            <div class="docstring"><p>Get the next child in syntactic order, meant for simple iteration.</p>

<p>This is a slower way to iterate vs. <code><a href="#FST.walk">walk()</a></code>, but will work correctly if ANYTHING in the tree is modified during
the walk as long as the replaced node and its parent is used for the following call.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>from_child</code>: Child node we are coming from which may or may not have location.</li>
<li><code>with_loc</code>: Return nodes depending on their location information.
<ul>
<li><code>False</code>: All nodes with or without location.</li>
<li><code>True</code>: Only nodes which have implicit <code>AST</code> locations and also larger computed location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present).</li>
<li><code>'all'</code>: Same as <code>True</code> but also operators with calculated locations (excluding <code>and</code> and <code>or</code> since they
do not always have a well defined location).</li>
<li><code>'own'</code>: Only nodes with their own implicit <code>AST</code> locations, same as <code>True</code> but excludes those larger
nodes with calculated locations.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if last valid child in <code>self</code>, otherwise next child node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">next_child</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[3, 4]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">next_child</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="kc">None</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[this, is_, reparsed, each, step, and_, still, walks, ok]&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">n</span> <span class="o">=</span> <span class="kc">None</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">next_child</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">Name</span><span class="p">):</span>
<span class="o">...</span>         <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">id</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># raw here reparses all nodes</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[siht, _si, desraper, hcae, pets, _dna, llits, sklaw, ko]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.prev_child" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">prev_child</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">from_child</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">with_loc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.prev_child"></a>
    
            <div class="docstring"><p>Get the previous child in syntactic order, meant for simple iteration.</p>

<p>This is a slower way to iterate vs. <code><a href="#FST.walk">walk()</a></code>, but will work correctly if ANYTHING in the tree is modified during the
walk as long as the replaced node and its parent is used for the following call.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>from_child</code>: Child node we are coming from which may or may not have location.</li>
<li><code>with_loc</code>: Return nodes depending on their location information.
<ul>
<li><code>False</code>: All nodes with or without location.</li>
<li><code>True</code>: Only nodes which have implicit <code>AST</code> locations and also larger computed location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually arguments
present).</li>
<li><code>'all'</code>: Same as <code>True</code> but also operators with calculated locations (excluding <code>and</code> and <code>or</code> since they do
not always have a well defined location).</li>
<li><code>'own'</code>: Only nodes with their own implicit <code>AST</code> locations, same as <code>True</code> but excludes those larger nodes
with calculated locations.</li>
</ul></li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if first valid child in <code>self</code>, otherwise previous child node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">prev_child</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">prev_child</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="kc">None</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[this, is_, reparsed, each, step, and_, still, walks, ok]&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">n</span> <span class="o">=</span> <span class="kc">None</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="n">n</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">prev_child</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">Name</span><span class="p">):</span>
<span class="o">...</span>         <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">id</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># raw here reparses all nodes</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[siht, _si, desraper, hcae, pets, _dna, llits, sklaw, ko]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.step_fwd" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">step_fwd</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">with_loc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">,</span> <span class="s1">&#39;allown&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">recurse_self</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.step_fwd"></a>
    
            <div class="docstring"><p>Step forward in the tree in syntactic order, as if <code><a href="#FST.walk">walk()</a></code>ing forward, NOT the inverse of <code><a href="#FST.step_back">step_back()</a></code>. Will
walk up parents and down children to get the next node, returning <code>None</code> only when we are at the end of the whole
thing.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>with_loc</code>: Return nodes depending on their location information.
<ul>
<li><code>False</code>: All nodes with or without location.</li>
<li><code>True</code>: Only nodes which have implicit <code>AST</code> locations and also larger computed location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present).</li>
<li><code>'all'</code>: Same as <code>True</code> but also operators with calculated locations (excluding <code>and</code> and <code>or</code> since they
do not always have a well defined location).</li>
<li><code>'own'</code>: Only nodes with their own implicit <code>AST</code> locations, same as <code>True</code> but excludes those larger
nodes with calculated locations.</li>
<li><code>'allown'</code> Same as <code>'own'</code> but recurse into nodes with non-own locations (even though those nodes are not
returned). This is only really meant for internal use to safely call from <code>.loc</code> location calculation.</li>
</ul></li>
<li><code>recurse_self</code>: Whether to allow recursion into <code>self</code> to return children or move directly to next nodes of
<code>self</code> on start.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if last valid node in tree, otherwise next node in order.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">step_fwd</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;1&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">step_fwd</span><span class="p">(</span><span class="n">recurse_self</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[3, 4]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;2&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">step_fwd</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[3, 4]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[this, [is_, [reparsed, each], step, and_, still], walks, ok]&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">n</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">Name</span><span class="p">):</span>
<span class="o">...</span>         <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">id</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># raw here reparses all nodes</span>
<span class="o">...</span>     <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">n</span> <span class="o">:=</span> <span class="n">n</span><span class="o">.</span><span class="n">step_fwd</span><span class="p">()):</span>
<span class="o">...</span>         <span class="k">break</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[siht, [_si, [desraper, hcae], pets, _dna, llits], sklaw, ko]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.step_back" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">step_back</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">with_loc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">,</span> <span class="s1">&#39;allown&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">recurse_self</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.step_back"></a>
    
            <div class="docstring"><p>Step backward in the tree in syntactic order, as if <code><a href="#FST.walk">walk()</a></code>ing backward, NOT the inverse of <code><a href="#FST.step_fwd">step_fwd()</a></code>.
Will walk up parents and down children to get the next node, returning <code>None</code> only when we are at the beginning
of the whole thing.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>with_loc</code>: Return nodes depending on their location information.
<ul>
<li><code>False</code>: All nodes with or without location.</li>
<li><code>True</code>: Only nodes which have implicit <code>AST</code> locations and also larger computed location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present).</li>
<li><code>'all'</code>: Same as <code>True</code> but also operators with calculated locations (excluding <code>and</code> and <code>or</code> since they
do not always have a well defined location).</li>
<li><code>'own'</code>: Only nodes with their own implicit <code>AST</code> locations, same as <code>True</code> but excludes those larger
nodes with calculated locations.</li>
<li><code>'allown'</code> Same as <code>'own'</code> but recurse into nodes with non-own locations (even though those nodes are not
returned). This is only really meant for internal use to safely call from <code>.loc</code> location calculation.</li>
</ul></li>
<li><code>recurse_self</code>: Whether to allow recursion into <code>self</code> to return children or move directly to previous nodes
of <code>self</code> on start.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>None</code> if first valid node in tree, otherwise previous node in order.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">fst</span><span class="w"> </span><span class="kn">import</span> <span class="o">*</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[[1, 2], [3, 4]]&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[3, 4]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">step_back</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;4&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">step_back</span><span class="p">(</span><span class="n">recurse_self</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;3&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">step_back</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[1, 2]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[this, [is_, [reparsed, each], step, and_, still], walks, ok]&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">n</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">Name</span><span class="p">):</span>
<span class="o">...</span>         <span class="n">n</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">id</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># raw here reparses all nodes</span>
<span class="o">...</span>     <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">n</span> <span class="o">:=</span> <span class="n">n</span><span class="o">.</span><span class="n">step_back</span><span class="p">()):</span>
<span class="o">...</span>         <span class="k">break</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;[siht, [_si, [desraper, hcae], pets, _dna, llits], sklaw, ko]&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.walk" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">walk</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">with_loc</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="s1">&#39;own&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">recurse</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">scope</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">back</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">Generator</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="nb">bool</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.walk"></a>
    
            <div class="docstring"><p>Walk <code>self</code> and descendants in syntactic order. When walking, you can <code>send(False)</code> to the generator to skip
recursion into the current child. <code>send(True)</code> to allow recursion into child if called with <code>recurse=False</code> or
<code>scope=True</code> would otherwise disallow it. Can send multiple times, last value sent takes effect.</p>

<p>The walk is defined forwards or backwards in that it returns a parent, then recurses into the children and walks
those in the given direction, recursing into each child's children before continuing with siblings. Walking
backwards will not generate the same sequence as <code>list(walk())[::-1]</code> due to this behavior.</p>

<p>It is safe to modify the nodes (or previous nodes) as they are being walked as long as those modifications don't
touch the parent or following nodes. This means normal <code>.replace()</code> is fine as long as <code>raw=False</code>.</p>

<p>The walk is relatively efficient but if all you need to do is just walk ALL the <code>AST</code> children without any bells
or whistles then <code>ast.walk()</code> will be a bit faster.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>with_loc</code>: Return nodes depending on their location information.
<ul>
<li><code>False</code>: All nodes with or without location.</li>
<li><code>True</code>: Only nodes which have implicit <code>AST</code> locations and also larger computed location nodes like
<code>comprehension</code>, <code>withitem</code>, <code>match_case</code> and <code>arguments</code> (the last one only if there are actually
arguments present).</li>
<li><code>'all'</code>: Same as <code>True</code> but also operators with calculated locations (excluding <code>and</code> and <code>or</code> since they
do not always have a well defined location).</li>
<li><code>'own'</code>: Only nodes with their own implicit <code>AST</code> locations, same as <code>True</code> but excludes those larger
nodes with calculated locations.</li>
</ul></li>
<li><code>self_</code>: If <code>True</code> then self will be returned first with the possibility to skip children with <code>send(False)</code>,
otherwise will start directly with children.</li>
<li><code>recurse</code>: Whether to recurse into children by default, <code>send(True)</code> for a given node will always override
this.</li>
<li><code>scope</code>: If <code>True</code> then will walk only within the scope of <code>self</code>. Meaning if called on a <code>FunctionDef</code> then
will only walk children which are within the function scope. Will yield children which have their own
scopes, and the parts of them which are visible in this scope (like default argument values), but will not
recurse into
them unless <code>send(True)</code> is done for that child.</li>
<li><code>back</code>: If <code>True</code> then walk every node in reverse syntactic order. This is not the same as a full forwards
walk reversed due to recursion (parents are still returned before children, only in reverse sibling order).</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span><span class="w"> </span><span class="nn">ast</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a: list[str], /, reject: int, *c, d=100, **e): pass&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="p">(</span><span class="n">gen</span> <span class="o">:=</span> <span class="n">f</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">with_loc</span><span class="o">=</span><span class="kc">True</span><span class="p">)):</span>
<span class="o">...</span>     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">ast</span><span class="o">.</span><span class="n">arg</span><span class="p">)</span> <span class="ow">and</span> <span class="n">g</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">arg</span> <span class="o">==</span> <span class="s1">&#39;reject&#39;</span><span class="p">:</span>
<span class="o">...</span>         <span class="n">_</span> <span class="o">=</span> <span class="n">gen</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="o">...</span>     <span class="k">else</span><span class="p">:</span>
<span class="o">...</span>         <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">g</span><span class="si">!r:</span><span class="s1">&lt;30</span><span class="si">}{</span><span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">[:</span><span class="mi">50</span><span class="p">]</span><span class="si">!r}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">FunctionDef</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">57</span><span class="o">&gt;</span>  <span class="s1">&#39;def f(a: list[str], /, reject: int, *c, d=100, **e&#39;</span>
<span class="o">&lt;</span><span class="n">arguments</span> <span class="mi">0</span><span class="p">,</span><span class="mf">6..0</span><span class="p">,</span><span class="mi">50</span><span class="o">&gt;</span>         <span class="s1">&#39;a: list[str], /, reject: int, *c, d=100, **e&#39;</span>
<span class="o">&lt;</span><span class="n">arg</span> <span class="mi">0</span><span class="p">,</span><span class="mf">6..0</span><span class="p">,</span><span class="mi">18</span><span class="o">&gt;</span>               <span class="s1">&#39;a: list[str]&#39;</span>
<span class="o">&lt;</span><span class="n">Subscript</span> <span class="mi">0</span><span class="p">,</span><span class="mf">9..0</span><span class="p">,</span><span class="mi">18</span><span class="o">&gt;</span>         <span class="s1">&#39;list[str]&#39;</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">0</span><span class="p">,</span><span class="mf">9..0</span><span class="p">,</span><span class="mi">13</span><span class="o">&gt;</span>              <span class="s1">&#39;list&#39;</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">0</span><span class="p">,</span><span class="mf">14..0</span><span class="p">,</span><span class="mi">17</span><span class="o">&gt;</span>             <span class="s1">&#39;str&#39;</span>
<span class="o">&lt;</span><span class="n">arg</span> <span class="mi">0</span><span class="p">,</span><span class="mf">37..0</span><span class="p">,</span><span class="mi">38</span><span class="o">&gt;</span>              <span class="s1">&#39;c&#39;</span>
<span class="o">&lt;</span><span class="n">arg</span> <span class="mi">0</span><span class="p">,</span><span class="mf">40..0</span><span class="p">,</span><span class="mi">41</span><span class="o">&gt;</span>              <span class="s1">&#39;d&#39;</span>
<span class="o">&lt;</span><span class="n">Constant</span> <span class="mi">0</span><span class="p">,</span><span class="mf">42..0</span><span class="p">,</span><span class="mi">45</span><span class="o">&gt;</span>         <span class="s1">&#39;100&#39;</span>
<span class="o">&lt;</span><span class="n">arg</span> <span class="mi">0</span><span class="p">,</span><span class="mf">49..0</span><span class="p">,</span><span class="mi">50</span><span class="o">&gt;</span>              <span class="s1">&#39;e&#39;</span>
<span class="o">&lt;</span><span class="n">Pass</span> <span class="mi">0</span><span class="p">,</span><span class="mf">53..0</span><span class="p">,</span><span class="mi">57</span><span class="o">&gt;</span>             <span class="s1">&#39;pass&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">... def f():</span>
<span class="s1">...     def g(arg=1) -&gt; int:</span>
<span class="s1">...         pass</span>
<span class="s1">...     val = [i for i in iterator]</span>
<span class="s1">... &#39;&#39;&#39;</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">scope</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">g</span><span class="si">!r:</span><span class="s1">&lt;30</span><span class="si">}{</span><span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">[:</span><span class="mi">47</span><span class="p">]</span><span class="si">!r}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">FunctionDef</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..3</span><span class="p">,</span><span class="mi">31</span><span class="o">&gt;</span>  <span class="s1">&#39;def f():</span><span class="se">\n</span><span class="s1">    def g(arg=1) -&gt; int:</span><span class="se">\n</span><span class="s1">        pass</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&lt;</span><span class="n">FunctionDef</span> <span class="mi">1</span><span class="p">,</span><span class="mf">4..2</span><span class="p">,</span><span class="mi">12</span><span class="o">&gt;</span>       <span class="s1">&#39;def g(arg=1) -&gt; int:</span><span class="se">\n</span><span class="s1">        pass&#39;</span>
<span class="o">&lt;</span><span class="n">Constant</span> <span class="mi">1</span><span class="p">,</span><span class="mf">14..1</span><span class="p">,</span><span class="mi">15</span><span class="o">&gt;</span>         <span class="s1">&#39;1&#39;</span>
<span class="o">&lt;</span><span class="n">Assign</span> <span class="mi">3</span><span class="p">,</span><span class="mf">4..3</span><span class="p">,</span><span class="mi">31</span><span class="o">&gt;</span>            <span class="s1">&#39;val = [i for i in iterator]&#39;</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">3</span><span class="p">,</span><span class="mf">4..3</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>               <span class="s1">&#39;val&#39;</span>
<span class="o">&lt;</span><span class="n">ListComp</span> <span class="mi">3</span><span class="p">,</span><span class="mf">10..3</span><span class="p">,</span><span class="mi">31</span><span class="o">&gt;</span>         <span class="s1">&#39;[i for i in iterator]&#39;</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">3</span><span class="p">,</span><span class="mf">22..3</span><span class="p">,</span><span class="mi">30</span><span class="o">&gt;</span>             <span class="s1">&#39;iterator&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">f</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">back</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">g</span><span class="si">!r:</span><span class="s1">&lt;30</span><span class="si">}{</span><span class="n">g</span><span class="o">.</span><span class="n">src</span><span class="p">[:</span><span class="mi">47</span><span class="p">]</span><span class="si">!r}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">FunctionDef</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..3</span><span class="p">,</span><span class="mi">31</span><span class="o">&gt;</span>  <span class="s1">&#39;def f():</span><span class="se">\n</span><span class="s1">    def g(arg=1) -&gt; int:</span><span class="se">\n</span><span class="s1">        pass</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&lt;</span><span class="n">Assign</span> <span class="mi">3</span><span class="p">,</span><span class="mf">4..3</span><span class="p">,</span><span class="mi">31</span><span class="o">&gt;</span>            <span class="s1">&#39;val = [i for i in iterator]&#39;</span>
<span class="o">&lt;</span><span class="n">ListComp</span> <span class="mi">3</span><span class="p">,</span><span class="mf">10..3</span><span class="p">,</span><span class="mi">31</span><span class="o">&gt;</span>         <span class="s1">&#39;[i for i in iterator]&#39;</span>
<span class="o">&lt;</span><span class="n">comprehension</span> <span class="mi">3</span><span class="p">,</span><span class="mf">13..3</span><span class="p">,</span><span class="mi">30</span><span class="o">&gt;</span>    <span class="s1">&#39;for i in iterator&#39;</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">3</span><span class="p">,</span><span class="mf">22..3</span><span class="p">,</span><span class="mi">30</span><span class="o">&gt;</span>             <span class="s1">&#39;iterator&#39;</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">3</span><span class="p">,</span><span class="mf">17..3</span><span class="p">,</span><span class="mi">18</span><span class="o">&gt;</span>             <span class="s1">&#39;i&#39;</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">3</span><span class="p">,</span><span class="mf">11..3</span><span class="p">,</span><span class="mi">12</span><span class="o">&gt;</span>             <span class="s1">&#39;i&#39;</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">3</span><span class="p">,</span><span class="mf">4..3</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>               <span class="s1">&#39;val&#39;</span>
<span class="o">&lt;</span><span class="n">FunctionDef</span> <span class="mi">1</span><span class="p">,</span><span class="mf">4..2</span><span class="p">,</span><span class="mi">12</span><span class="o">&gt;</span>       <span class="s1">&#39;def g(arg=1) -&gt; int:</span><span class="se">\n</span><span class="s1">        pass&#39;</span>
<span class="o">&lt;</span><span class="n">Pass</span> <span class="mi">2</span><span class="p">,</span><span class="mf">8..2</span><span class="p">,</span><span class="mi">12</span><span class="o">&gt;</span>              <span class="s1">&#39;pass&#39;</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">1</span><span class="p">,</span><span class="mf">20..1</span><span class="p">,</span><span class="mi">23</span><span class="o">&gt;</span>             <span class="s1">&#39;int&#39;</span>
<span class="o">&lt;</span><span class="n">arguments</span> <span class="mi">1</span><span class="p">,</span><span class="mf">10..1</span><span class="p">,</span><span class="mi">15</span><span class="o">&gt;</span>        <span class="s1">&#39;arg=1&#39;</span>
<span class="o">&lt;</span><span class="n">Constant</span> <span class="mi">1</span><span class="p">,</span><span class="mf">14..1</span><span class="p">,</span><span class="mi">15</span><span class="o">&gt;</span>         <span class="s1">&#39;1&#39;</span>
<span class="o">&lt;</span><span class="n">arg</span> <span class="mi">1</span><span class="p">,</span><span class="mf">10..1</span><span class="p">,</span><span class="mi">13</span><span class="o">&gt;</span>              <span class="s1">&#39;arg&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parents" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parents</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">Generator</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">NoneType</span><span class="p">,</span> <span class="n">NoneType</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parents"></a>
    
            <div class="docstring"><p>Generator which yields parents all the way up to root. If <code>self_</code> is <code>True</code> then will yield <code>self</code> first.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>self_</code>: Whether to yield <code>self</code> first.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = (f(), g())&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parents</span><span class="p">())</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">Tuple</span> <span class="mi">0</span><span class="p">,</span><span class="mf">4..0</span><span class="p">,</span><span class="mi">14</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Assign</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">14</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Module</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">14</span><span class="o">&gt;</span><span class="p">]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = (f(), g())&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parents</span><span class="p">(</span><span class="n">self_</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">Call</span> <span class="mi">0</span><span class="p">,</span><span class="mf">5..0</span><span class="p">,</span><span class="mi">8</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Tuple</span> <span class="mi">0</span><span class="p">,</span><span class="mf">4..0</span><span class="p">,</span><span class="mi">14</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Assign</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">14</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Module</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">14</span><span class="o">&gt;</span><span class="p">]</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_stmt" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_stmt</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">mod</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_stmt"></a>
    
            <div class="docstring"><p>The first parent which is a <code>stmt</code> or optionally <code>mod</code> node (if any). If <code>self_</code> is <code>True</code> then will check
<code>self</code> first (possibly returning <code>self</code>), otherwise only checks parents.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>self_</code>: Whether to include <code>self</code> in the search, if so and <code>self</code> matches criteria then it is returned.</li>
<li><code>mod</code>: Whether to return <code>mod</code> nodes if found.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_stmt</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Assign</span> <span class="mi">0</span><span class="p">,</span><span class="mf">6..0</span><span class="p">,</span><span class="mi">11</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmt</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">If</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">11</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmt</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Module</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">11</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmt</span><span class="p">(</span><span class="n">mod</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="kc">None</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmt</span><span class="p">(</span><span class="n">self_</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">If</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">11</span><span class="o">&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_stmtish" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_stmtish</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">mod</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_stmtish"></a>
    
            <div class="docstring"><p>The first parent which is a <code>stmt</code>, <code>ExceptHandler</code>, <code>match_case</code> or optionally <code>mod</code> node (if any). If
<code>self_</code> is <code>True</code> then will check <code>self</code> first, otherwise only checks parents.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except: pass&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmtish</span><span class="p">())</span>
<span class="o">&lt;</span><span class="n">ExceptHandler</span> <span class="mi">1</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">12</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except: pass&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmtish</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Try</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">12</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except: pass&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmtish</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Module</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">12</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case 1: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_stmtish</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">match_case</span> <span class="mi">1</span><span class="p">,</span><span class="mf">2..1</span><span class="p">,</span><span class="mi">14</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case 1: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">parent_stmtish</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">match_case</span> <span class="mi">1</span><span class="p">,</span><span class="mf">2..1</span><span class="p">,</span><span class="mi">14</span><span class="o">&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_block" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_block</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">mod</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_block"></a>
    
            <div class="docstring"><p>The first parent which opens a block that <code>self</code> lives in (if any). Types include <code>FunctionDef</code>,
<code>AsyncFunctionDef</code>, <code>ClassDef</code>, <code>For</code>, <code>AsyncFor</code>, <code>While</code>, <code>If</code>, <code>With</code>, <code>AsyncWith</code>, <code>Match</code>, <code>Try</code>,
<code>TryStar</code>, <code>ExceptHandler</code>, <code>match_case</code> or optionally <code>mod</code> node (if any). If <code>self_</code> is <code>True</code> then will check
<code>self</code> first, otherwise only checks parents.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_block</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">If</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">11</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_block</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Module</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">11</span><span class="o">&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_scope" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_scope</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">mod</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_scope"></a>
    
            <div class="docstring"><p>The first parent which opens a scope that <code>self</code> lives in (if any). Types include <code>FunctionDef</code>,
<code>AsyncFunctionDef</code>, <code>ClassDef</code>, <code>Lambda</code>, <code>ListComp</code>, <code>SetComp</code>, <code>DictComp</code>, <code>GeneratorExp</code> or optionally <code>mod</code>
node (if any). If <code>self_</code> is <code>True</code> then will check <code>self</code> first, otherwise only checks parents.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_scope</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Module</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">11</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f():</span><span class="se">\n</span><span class="s1">  if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_scope</span><span class="p">())</span>
<span class="o">&lt;</span><span class="n">FunctionDef</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">13</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;lambda: None&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">parent_scope</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Lambda</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">12</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[i for i in j]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="o">.</span><span class="n">parent_scope</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">ListComp</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">14</span><span class="o">&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_named_scope" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_named_scope</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">mod</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_named_scope"></a>
    
            <div class="docstring"><p>The first parent which opens a named scope that <code>self</code> lives in (if any). Types include <code>FunctionDef</code>,
<code>AsyncFunctionDef</code>, <code>ClassDef</code> or optionally <code>mod</code> node (if any). If <code>self_</code> is <code>True</code> then will check <code>self</code>
first, otherwise only checks parents.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_named_scope</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Module</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">11</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f():</span><span class="se">\n</span><span class="s1">  if 1: i = 1&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_named_scope</span><span class="p">())</span>
<span class="o">&lt;</span><span class="n">FunctionDef</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">13</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(): lambda: None&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">parent_named_scope</span><span class="p">())</span>
<span class="o">&lt;</span><span class="n">FunctionDef</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">21</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;class cls: [i for i in j]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="o">.</span><span class="n">parent_named_scope</span><span class="p">())</span>
<span class="o">&lt;</span><span class="n">ClassDef</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">25</span><span class="o">&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_non_expr" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_non_expr</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">strict</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_non_expr"></a>
    
            <div class="docstring"><p>The first parent which is not an <code>expr</code>. If <code>self_</code> is <code>True</code> then will check <code>self</code> first (possibly
returning <code>self</code>), otherwise only checks parents.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>self_</code>: Whether to include <code>self</code> in the search, if so and <code>self</code> matches criteria then it is returned.</li>
<li><code>strict</code>: <code>False</code> means consider <code>comprehension</code>, <code>arguments</code>, <code>arg</code> and <code>keyword</code> nodes as <code>expr</code> for the
sake of the walk up since these nodes can have other <code>expr</code> parents. <code>True</code> means only <code>expr</code> nodes, which
means you could get an <code>arg</code> or <code>comprehension</code> node for example which still has <code>expr</code> parents. Also
<code>expr_context</code>, <code>boolop</code>, <code>operator</code>, <code>unaruop</code> and <code>cmpop</code> are included if <code>strict=False</code> but this only
makes sense if <code>self_=True</code> and you are calling this function on one of those.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1 + a[b]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_non_expr</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Assign</span> <span class="mi">0</span><span class="p">,</span><span class="mf">6..0</span><span class="p">,</span><span class="mi">18</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1"> case </span><span class="si">{a.b.c: 1}</span><span class="s1">: pass&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">keys</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_non_expr</span><span class="p">())</span>
<span class="o">&lt;</span><span class="n">MatchMapping</span> <span class="mi">1</span><span class="p">,</span><span class="mf">6..1</span><span class="p">,</span><span class="mi">16</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var = call(a, b=1)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_non_expr</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">Assign</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">18</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;var = call(a, b=1)&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">parent_non_expr</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="o">&lt;</span><span class="n">keyword</span> <span class="mi">0</span><span class="p">,</span><span class="mf">14..0</span><span class="p">,</span><span class="mi">17</span><span class="o">&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.parent_pattern" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">parent_pattern</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">self_</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.parent_pattern"></a>
    
            <div class="docstring"><p>The first parent which is a <code>pattern</code>. If <code>self_</code> is <code>True</code> then will check <code>self</code> first (possibly returning
<code>self</code>), otherwise only checks parents.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>self_</code>: Whether to include <code>self</code> in the search, if so and <code>self</code> matches criteria then it is returned.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case 1+1j: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">parent_pattern</span><span class="p">()</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;1+1j&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case 1 | </span><span class="si">{a.b: c}</span><span class="s1">: pass&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_pattern</span><span class="p">(</span><span class="n">self_</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="o">&lt;</span><span class="n">MatchAs</span> <span class="mi">0</span><span class="p">,</span><span class="mf">15..0</span><span class="p">,</span><span class="mi">16</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case 1 | </span><span class="si">{a.b: c}</span><span class="s1">: pass&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_pattern</span><span class="p">())</span>
<span class="o">&lt;</span><span class="n">MatchMapping</span> <span class="mi">0</span><span class="p">,</span><span class="mf">9..0</span><span class="p">,</span><span class="mi">17</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;case 1 | </span><span class="si">{a.b: c}</span><span class="s1">: pass&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent_pattern</span><span class="p">()</span><span class="o">.</span><span class="n">parent_pattern</span><span class="p">())</span>
<span class="o">&lt;</span><span class="n">MatchOr</span> <span class="mi">0</span><span class="p">,</span><span class="mf">5..0</span><span class="p">,</span><span class="mi">17</span><span class="o">&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.child_path" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">child_path</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">child</span><span class="p">:</span> <span class="n"><a href="#FST">FST</a></span>,</span><span class="param">	<span class="n">as_str</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="misc.html#astfield">fst.misc.astfield</a></span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.child_path"></a>
    
            <div class="docstring"><p>Get path to <code>child</code> node from <code>self</code> which can later be used on a copy of this tree to get to the  same
relative child node.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>child</code>: Child node to get path to, can be <code>self</code> in which case an empty path is returned.</li>
<li><code>as_str</code>: If <code>True</code> will return the path as a python-ish string suitable for attribute access, else a list of
<code>astfield</code>s which can be used more directly.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>list[astfield] | str</code>: Path to child if exists, otherwise raises.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[i for i in j]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="p">)</span>
<span class="p">[</span><span class="n">astfield</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">astfield</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">),</span> <span class="n">astfield</span><span class="p">(</span><span class="s1">&#39;elt&#39;</span><span class="p">)]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">((</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[i for i in j]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">))</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="p">,</span> <span class="n">as_str</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="s1">&#39;body[0].value.elt&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="p">[]</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">as_str</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="s1">&#39;&#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.child_from_path" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">child_from_path</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">path</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n"><a href="misc.html#astfield">fst.misc.astfield</a></span><span class="p">]</span> <span class="o">|</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">last_valid</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">Union</span><span class="p">[</span><span class="n"><a href="#FST">FST</a></span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">False</span><span class="p">]]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.child_from_path"></a>
    
            <div class="docstring"><p>Get child node specified by <code>path</code> if it exists. If succeeds then it doesn't mean that the child node is
guaranteed to be the same or even same type as was originally used to get the path, just that the path is valid.
For example after deleting an element from a list the item at the former element's location will be the previous
next element.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>path</code>: Path to child as a list of <code>astfield</code>s or string.</li>
<li><code>last_valid</code>: If <code>True</code> then return the last valid node along the path, will not fail, can return <code>self</code>.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: Child node if path is valid, otherwise <code>False</code> if path invalid. <code>False</code> and not <code>None</code> because <code>None</code>
can be in a field that can hold an <code>AST</code> but <code>False</code> can not.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[i for i in j]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">child_from_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="p">))</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;i&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">child_from_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">child_path</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">elt</span><span class="p">,</span> <span class="kc">True</span><span class="p">))</span><span class="o">.</span><span class="n">src</span>
<span class="s1">&#39;i&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">child_from_path</span><span class="p">(</span><span class="s1">&#39;body[0].value.elts[4]&#39;</span><span class="p">)</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">child_from_path</span><span class="p">(</span><span class="s1">&#39;body[0].value.elts[4]&#39;</span><span class="p">,</span> <span class="n">last_valid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">src</span><span class="p">)</span>
<span class="s1">&#39;[0, 1, 2, 3]&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">child_from_path</span><span class="p">([])</span> <span class="ow">is</span> <span class="n">f</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">f</span> <span class="o">:=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">child_from_path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">f</span>
<span class="kc">True</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.repath" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">repath</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.repath"></a>
    
            <div class="docstring"><p>Recalculate <code>self</code> from path from root. Useful if <code>self</code> has been replaced by another node by some operation.
When nodes are deleted the corresponding <code><a href="#FST.a">FST.a</a></code> and <code>AST.f</code> attributes are set to <code>None</code>. The <code><a href="#FST.root">root</a></code>, <code><a href="#FST.parent">parent</a></code>
and <code><a href="#FST.pfield">pfield</a></code> attributes are left so that things like this can work. Useful when a node has been deleted but you
want to know where it was and what may be there now.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code><a href="#FST">FST</a></code>: Possibly <code>self</code> or the node which took our place at our relative position from <code><a href="#FST.root">root</a></code>.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[0, 1, 2, 3]&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">a</span><span class="p">),</span> <span class="n">g</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="err">&#39;</span><span class="nc">ast</span><span class="o">.</span><span class="n">Constant</span><span class="s1">&#39;&gt; &lt;List ROOT 0,0..0,12&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># raw forces reparse at List</span>
<span class="o">&lt;</span><span class="n">List</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">12</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">a</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>
<span class="kc">None</span> <span class="o">&lt;</span><span class="n">List</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">12</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">repath</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">a</span><span class="p">),</span> <span class="n">g</span><span class="o">.</span><span class="n">root</span><span class="p">)</span>
<span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="err">&#39;</span><span class="nc">ast</span><span class="o">.</span><span class="n">Name</span><span class="s1">&#39;&gt; &lt;List ROOT 0,0..0,12&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.find_loc" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">find_loc</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">ln</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">col</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">end_ln</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">end_col</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">exact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.find_loc"></a>
    
            <div class="docstring"><p>Find the lowest level node which entirely contains location (starting search at <code>self</code>). To reiterate, the
search will only find nodes at self or below, no parents.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.ln">ln</a></code>: Start line of location to search for (0 based).</li>
<li><code><a href="#FST.col">col</a></code>: Start column (character) on start line.</li>
<li><code><a href="#FST.end_ln">end_ln</a></code>: End line of location to search for (0 based, inclusive).</li>
<li><code><a href="#FST.end_col">end_col</a></code>: End column (character, inclusive with <code><a href="#FST.end_col">FST.end_col</a></code>, exclusive with <code><a href="#FST.col">FST.col</a></code>) on end line.</li>
<li><code>exact</code>: Whether to allow return of exact location match with node or not. <code>True</code> means allow return of node
which matches location exactly. Otherwise the location must be inside the node but cannot be touching BOTH
ends of the node. This basically determines whether you can get the exact node of the location or its
parent.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: Node which entirely contains location, either exactly or not, or <code>None</code> if no such node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">0</span><span class="p">,</span><span class="mf">4..0</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">0</span><span class="p">,</span><span class="mf">4..0</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Assign</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">0</span><span class="p">,</span><span class="mf">4..0</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">0</span><span class="p">,</span><span class="mf">4..0</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Assign</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Assign</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="kc">None</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="n">exact</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Module</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..1</span><span class="p">,</span><span class="mi">0</span><span class="o">&gt;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.find_in_loc" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">find_in_loc</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">ln</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">col</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">end_ln</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">end_col</span><span class="p">:</span> <span class="nb">int</span></span><span class="return-annotation">) -> <span class="n"><a href="#FST">FST</a></span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.find_in_loc"></a>
    
            <div class="docstring"><p>Find the first highest level node which is contained entirely in location (inclusive, starting search at
<code>self</code>). To reiterate, the search will only find nodes at self or below, no parents.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.ln">ln</a></code>: Start line of location to search (0 based).</li>
<li><code><a href="#FST.col">col</a></code>: Start column (character) on start line.</li>
<li><code><a href="#FST.end_ln">end_ln</a></code>: End line of location to search (0 based, inclusive).</li>
<li><code><a href="#FST.end_col">end_col</a></code>: End column (character, inclusive with <code><a href="#FST.end_col">FST.end_col</a></code>, exclusive with <code><a href="#FST.col">FST.col</a></code>) on end line.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>FST | None</code>: First node which is entirely contained in the location or <code>None</code> if no such node.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_in_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Module</span> <span class="n">ROOT</span> <span class="mi">0</span><span class="p">,</span><span class="mf">0..0</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_in_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">0</span><span class="p">,</span><span class="mf">4..0</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_in_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="o">&lt;</span><span class="n">Name</span> <span class="mi">0</span><span class="p">,</span><span class="mf">4..0</span><span class="p">,</span><span class="mi">7</span><span class="o">&gt;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = val&#39;</span><span class="p">,</span> <span class="s1">&#39;exec&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_in_loc</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="kc">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.get_indent" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_indent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.get_indent"></a>
    
            <div class="docstring"><p>Determine proper indentation of node at <code>stmt</code> (or other similar) level at or above <code>self</code>. Even if it is a
continuation or on same line as block statement. If indentation is impossible to determine because is solo
statement on same line as parent block then the current tree default indentation is added to the parent block
indentation and returned.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>str</code>: Entire indentation string for the block this node lives in (not just a single level).</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i = 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_indent</span><span class="p">()</span>
<span class="s1">&#39;&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">  i = 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_indent</span><span class="p">()</span>
<span class="s1">&#39;  &#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_indent</span><span class="p">()</span>
<span class="s1">&#39;    &#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: i = 1; j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_indent</span><span class="p">()</span>
<span class="s1">&#39;    &#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1">  i = 1</span><span class="se">\n</span><span class="s1">  j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_indent</span><span class="p">()</span>
<span class="s1">&#39;  &#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 2:</span><span class="se">\n</span><span class="s1">    if 1:</span><span class="se">\n</span><span class="s1">      i = 1</span><span class="se">\n</span><span class="s1">      j = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">get_indent</span><span class="p">()</span>
<span class="s1">&#39;      &#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n\\\n</span><span class="s1">  i = 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_indent</span><span class="p">()</span>
<span class="s1">&#39;  &#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1:</span><span class="se">\n</span><span class="s1"> </span><span class="se">\\\n</span><span class="s1">  i = 1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_indent</span><span class="p">()</span>
<span class="s1">&#39; &#39;</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_parsable" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_parsable</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_parsable"></a>
    
            <div class="docstring"><p>Whether the source for this node is parsable by <code><a href="#FST">FST</a></code> or not (if properly dedented for top level). This is
different from <code>astutil.is_parsable</code> because that one indicates what is parsable by the python <code>ast</code> module,
while <code><a href="#FST">FST</a></code> can parse more things.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>bool</code>: Whether is parsable by <code><a href="#FST">FST</a></code> from a string or not.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span><span class="w"> </span><span class="nn">fst</span><span class="w"> </span><span class="kn">import</span> <span class="n">astutil</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parsable</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a[b]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">slice</span><span class="o">.</span><span class="n">is_parsable</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a[b:c]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">slice</span><span class="o">.</span><span class="n">is_parsable</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">is_parsable</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a[b:c]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">slice</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;f&quot;</span><span class="si">{a!r:&lt;8}</span><span class="s1">&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_parsable</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;f&quot;</span><span class="si">{a!r:&lt;8}</span><span class="s1">&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">is_parsable</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;f&quot;</span><span class="si">{a!r:&lt;8}</span><span class="s1">&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">format_spec</span><span class="o">.</span><span class="n">is_parsable</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_parsable</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_parsable</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">astutil</span><span class="o">.</span><span class="n">is_parsable</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;try: pass</span><span class="se">\n</span><span class="s1">except: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_parsable</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case 1: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_parsable</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">is_parsable</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case 1: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<span class="kc">False</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_parenthesizable" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_parenthesizable</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_parenthesizable"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is parenthesizable with grouping parentheses or now. Essentially all <code>expr</code>s and <code>pattern</code>s
except for <code>Slice</code>.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>bool</code>: Whether is syntactically legal to add grouping parentheses or not. Can always be forced.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;i + j&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># expr</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;{a.b: c, **d}&#39;</span><span class="p">,</span> <span class="s1">&#39;pattern&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a:b:c&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># Slice</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;for i in j&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># comprehension</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a: int, b=2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>  <span class="c1"># arguments</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a: int&#39;</span><span class="p">,</span> <span class="s1">&#39;arg&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;key=&quot;word&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;keyword&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a as b&#39;</span><span class="p">,</span> <span class="s1">&#39;alias&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a as b&#39;</span><span class="p">,</span> <span class="s1">&#39;withitem&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesizable</span><span class="p">()</span>
<span class="kc">False</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_atom" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_atom</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="o">*</span>,</span><span class="param">	<span class="n">pars</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">always_enclosed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;unenclosable&#39;</span><span class="p">,</span> <span class="s1">&#39;pars&#39;</span><span class="p">]]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_atom"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is innately atomic precedence-wise like <code>Name</code>, <code>Constant</code>, <code>List</code>, etc... Or otherwise
optionally enclosed in parentheses so that it functions as a parsable atom and cannot be split up by precedence
rules when reparsed.</p>

<p>Node types where this doesn't normally apply like <code>stmt</code> or <code>alias</code> return <code>True</code>.</p>

<p>Being atomic precedence-wise does not guarantee parsability as an otherwise atomic node could be spread across
multiple lines without line continuations or grouping parentheses, in this case <code>'unenclosable'</code> is returned (if
these nodes are not excluded altogether with <code>always_enclosed=True</code>). Also see <code><a href="#FST.is_enclosed">is_enclosed()</a></code>.</p>

<p>If this function returns <code>'pars'</code> then <code>self</code> is enclosed due to the grouping parentheses.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.pars">pars</a></code>: Whether to check for grouping parentheses or not for node types which are not innately atomic
(<code>NamedExpr</code>, <code>BinOp</code>, <code>Yield</code>, etc...). If <code>True</code> then <code>(a + b)</code> is considered atomic, if <code>False</code> then it
is not.</li>
<li><code>always_enclosed</code>: If <code>True</code> then will only consider nodes innately atomic which are always enclosed like
<code>List</code> or parenthesized <code>Tuple</code>. Nodes which may be split up across multiple lines like <code>Call</code> or
<code>Attribute</code> will not be considered atomic and will return <code>False</code> unless <code>pars=True</code> and grouping
parentheses present, in which case <code>'pars'</code> is returned.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>True</code>: Is atomic and no combination of changes in the source will make it parse to a different node.</li>
<li><code>'unenclosable'</code>: Is atomic precedence-wise but may be made non-parsable by being spread over multiple lines.</li>
<li><code>'pars'</code>: Is atomic due to enclosing grouping parentheses and would not be otherwise, can not be returned for
<code>'unenclosable'</code> nodes if <code>always_enclosed=False</code>.</li>
<li><code>False</code>: Not atomic.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_atom</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a + b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_atom</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a + b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_atom</span><span class="p">()</span>
<span class="s1">&#39;pars&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a + b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_atom</span><span class="p">(</span><span class="n">pars</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a.b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_atom</span><span class="p">()</span>
<span class="s1">&#39;unenclosable&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a.b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_atom</span><span class="p">(</span><span class="n">always_enclosed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># because of &quot;a\n.b&quot;</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a.b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_atom</span><span class="p">(</span><span class="n">always_enclosed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="s1">&#39;pars&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_atom</span><span class="p">(</span><span class="n">always_enclosed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># because List is always enclosed</span>
<span class="kc">True</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_enclosed" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_enclosed</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span>, </span><span class="param"><span class="n">pars</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n">Union</span><span class="p">[</span><span class="nb">bool</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="s1">&#39;pars&#39;</span><span class="p">]]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_enclosed"></a>
    
            <div class="docstring"><p>Whether <code>self</code> lives on a single line or is otherwise enclosed in some kind of delimiters <code>()</code>, <code>[]</code>, <code>{}</code> or
entirely terminated with line continuations so that it can be parsed without error due to being spread across
multiple lines. This does not mean it can't have other errors, such as a <code>Slice</code> outside of <code>Subscript.slice</code>.</p>

<p>Node types where this doesn't normally apply like <code>stmt</code>, <code>ExceptHandler</code>, <code>boolop</code>, <code>expr_context</code>, etc...
return <code>True</code>. Node types that are not enclosed but which are never used without being enclosed by a parent like
<code>Slice</code>, <code>keyword</code> or <code>type_param</code> will also return <code>True</code>. Other node types which cannot be enclosed
individually and are not on a single line or not parenthesized and do not have line continuations but would need
a parent to enclose them like <code>arguments</code> or the <code>cmpop</code>s <code>is not</code> or <code>not in</code> will return <code>False</code>.</p>

<p>This function does NOT check whether <code>self</code> is enclosed by some parent up the tree if it is not enclosed itself,
for that see <code><a href="#FST.is_enclosed_in_parents">is_enclosed_in_parents()</a></code>.</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code><a href="#FST.pars">pars</a></code>: Whether to check for grouping parentheses or not for nodes which are not enclosed or otherwise
multiline-safe. Grouping parentheses are different from tuple parentheses which are always checked.</li>
</ul>

<p><strong>Returns:</strong></p>

<ul>
<li><code>True</code>: Mode is enclosed.</li>
<li><code>'pars'</code> Enclosed by grouping parentheses and would not be otherwise.</li>
<li><code>False</code>: Not enclosed and should be parenthesized or put into an enclosed parent for successful parse.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_enclosed</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a + </span><span class="se">\\\n</span><span class="s1"> b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_enclosed</span><span class="p">()</span>  <span class="c1"># because of the line continuation</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a + </span><span class="se">\n</span><span class="s1"> b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_enclosed</span><span class="p">()</span>
<span class="s1">&#39;pars&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;a + </span><span class="se">\n</span><span class="s1"> b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_enclosed</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[a + </span><span class="se">\n</span><span class="s1"> b]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_enclosed</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[a + </span><span class="se">\n</span><span class="s1"> b]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a, b): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">is_enclosed</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="c1"># because the parentheses belong to the FunctionDef</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a,</span><span class="se">\n</span><span class="s1"> b): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">is_enclosed</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;def f(a,</span><span class="se">\n</span><span class="s1"> b): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a is not b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">ops</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_enclosed</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(a is </span><span class="se">\n</span><span class="s1"> not b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">ops</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_enclosed</span><span class="p">()</span>
<span class="kc">False</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_enclosed_in_parents" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_enclosed_in_parents</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_enclosed_in_parents"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is enclosed by some parent up the tree. This is different from <code><a href="#FST.is_enclosed">is_enclosed()</a></code> as it does not
check for line continuations or anyting like that, just enclosing delimiters like from <code>Call</code> or <code>FunctionDef</code>
arguments parentheses, <code>List</code> brackets, <code>FormattedValue</code>, parent grouping parentheses, etc... Statements do not
generally enclose except for a few parts of things like <code>FunctionDef.args</code> or <code>type_params</code>, <code>ClassDef.bases</code>,
etc...</p>

<p><strong>Parameters:</strong></p>

<ul>
<li><code>field</code>: This is meant to allow check for nonexistent child which would go into this field of <code>self</code>. If this
is not <code>None</code> then <code>self</code> is considered the first parent with an imaginary child being checked at <code>field</code>.</li>
</ul>

<p><strong>WARNING!</strong> This will not pick up parentheses which belong to <code>self</code> and the rules for this can be confusing. E.g.
in <code>with (x): pass</code> the parentheses belong to the variable <code>x</code> while <code>with (x as y): pass</code> they belong to the
<code>with</code> because <code>alias</code>es cannot be parenthesized.</p>

<p>Will pick up parentheses which belong to <code>self</code> if <code>field</code> is passed because in that case <code>self</code> is considered
the first parent and we are really considering the node which would live at <code>field</code>, whether it exists or not.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;1 + 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(1 + 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(1 + 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>  <span class="c1"># because owns the parentheses</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[1 + 2]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[1 + 2]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">elts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;f(1)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;f&quot;</span><span class="si">{1}</span><span class="s1">&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;[]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">(</span><span class="n">field</span><span class="o">=</span><span class="s1">&#39;elts&#39;</span><span class="p">)</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;with (x): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;with (x as y): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_enclosed_in_parents</span><span class="p">()</span>
<span class="kc">True</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_parenthesized_tuple" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_parenthesized_tuple</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_parenthesized_tuple"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is a parenthesized <code>Tuple</code> or not, or not a <code>Tuple</code> at all.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>True</code> if is parenthesized <code>Tuple</code>, <code>False</code> if is unparenthesized <code>Tuple</code>, <code>None</code> if is not <code>Tuple</code> at all.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;1, 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesized_tuple</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;(1, 2)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesized_tuple</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_parenthesized_tuple</span><span class="p">())</span>
<span class="kc">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_enclosed_matchseq" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_enclosed_matchseq</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_enclosed_matchseq"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is an enclosed <code>MatchSequence</code> or not, or not a <code>MatchSequence</code> at all (can be pars <code>()</code> or
brackets <code>[]</code>).</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>True</code> if is enclosed <code>MatchSequence</code>, <code>False</code> if is unparenthesized <code>MatchSequence</code>, <code>None</code> if is not
<code>MatchSequence</code> at all.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case 1, 2: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">is_enclosed_matchseq</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case [1, 2]: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">is_enclosed_matchseq</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case (1, 2): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">is_enclosed_matchseq</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case 1: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">is_enclosed_matchseq</span><span class="p">())</span>
<span class="kc">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_empty_set_call" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_empty_set_call</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_empty_set_call"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is an empty <code>set()</code> call.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{1}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_empty_set_call</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;set()&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_empty_set_call</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;frozenset()&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_empty_set_call</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;{*()}&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_empty_set_call</span><span class="p">()</span>
<span class="kc">False</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_empty_set_seq" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_empty_set_seq</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_empty_set_seq"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is an empty <code>Set</code> from an empty <code>Starred</code> <code>Constant</code> sequence, recognized are <code>{*()}</code>, <code>{*[]}</code>
and <code>{*{}}</code>.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{1}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_empty_set_seq</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;{*()}&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_empty_set_seq</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;set()&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">is_empty_set_seq</span><span class="p">()</span>
<span class="kc">False</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_elif" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_elif</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_elif"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is an <code>elif</code> or not, or not an <code>If</code> at all.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>True</code> if is <code>elif</code> <code>If</code>, <code>False</code> if is normal <code>If</code>, <code>None</code> if is not <code>If</code> at all.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: pass</span><span class="se">\n</span><span class="s1">elif 2: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">orelse</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_elif</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: pass</span><span class="se">\n</span><span class="s1">else:</span><span class="se">\n</span><span class="s1">  if 2: pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">orelse</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_elif</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;if 1: pass</span><span class="se">\n</span><span class="s1">else:</span><span class="se">\n</span><span class="s1">  i = 2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">orelse</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_elif</span><span class="p">())</span>
<span class="kc">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_solo_class_base" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_solo_class_base</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_solo_class_base"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is a solo <code>ClassDef</code> base in list without any keywords, or not a class base at all.</p>

<p><strong>Returns:</strong></p>

<ul>
<li><code>True</code> if is solo class base, <code>False</code> if is class base, but not solo and <code>None</code> if is not class base at all.</li>
</ul>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;class cls(b1): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">bases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_class_base</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;class cls(b1, b2): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">bases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_class_base</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;class cls(b1, meta=m): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">bases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_class_base</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;class cls(b1, meta=m): pass&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">keywords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_class_base</span><span class="p">())</span>
<span class="kc">None</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_solo_call_arg" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_solo_call_arg</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_solo_call_arg"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is a solo <code>Call</code> non-keyword argument.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(a)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_call_arg</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(a, b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_call_arg</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(i for i in range(3))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_call_arg</span><span class="p">()</span>
<span class="kc">True</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_solo_call_arg_genexp" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_solo_call_arg_genexp</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_solo_call_arg_genexp"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is the dreaded solo call non-keyword argument generator expression in <code>sum(i for i in a)</code>.
This function doesn't say if it shares its parentheses or not, so it could still be <code>sum((i for i in a))</code> or
even <code>sum(((i for i in a)))</code>. To differentiate that see <code>pars(shared=False)</code>.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(i for i in range(3))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_call_arg_genexp</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call((i for i in range(3)))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_call_arg_genexp</span><span class="p">()</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call((i for i in range(3)), b)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_call_arg_genexp</span><span class="p">()</span>
<span class="kc">False</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">FST</span><span class="p">(</span><span class="s1">&#39;call(a)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_call_arg_genexp</span><span class="p">()</span>
<span class="kc">False</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="FST.is_solo_matchcls_pat" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">is_solo_matchcls_pat</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#FST.is_solo_matchcls_pat"></a>
    
            <div class="docstring"><p>Whether <code>self</code> is a solo <code>MatchClass</code> non-keyword pattern. The solo <code>Constant</code> held by a <code>MatchValue</code>
qualifies as <code>True</code> for this check if the <code>MatchValue</code> does.</p>

<p><strong>Examples:</strong></p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case cls(a): pass&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_matchcls_pat</span><span class="p">())</span>
<span class="kc">True</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="n">FST</span><span class="p">(</span><span class="s1">&#39;match a:</span><span class="se">\n</span><span class="s1">  case cls(a, b): pass&#39;</span><span class="p">)</span>
<span class="o">...</span>  <span class="o">.</span><span class="n">cases</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">patterns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">is_solo_matchcls_pat</span><span class="p">())</span>
<span class="kc">False</span>
</code></pre>
</div>
</div>


                            </div>
                </section>
    </main>
</body>
</html>